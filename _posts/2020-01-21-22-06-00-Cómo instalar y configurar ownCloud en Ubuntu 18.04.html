---
layout: post
title: Cómo instalar y configurar ownCloud en Ubuntu 18.04
network: digitalocean
date: January 21, 2020 at 10:06PM
url: https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-owncloud-on-ubuntu-18-04-es
image: https://assets.digitalocean.com/articles/owncloud_install_ubuntu_1804/admin_user.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introducción">Introducción</h3>

<p>ownCloud es un servidor de intercambio de archivos de código abierto y una plataforma de colaboración que puede almacenar su contenido personal, como documentos e imágenes, en una ubicación centralizada. Esto le permite tener el control de su contenido y de la seguridad, al no tener que depender de servicios de alojamiento de contenido externos como Dropbox.</p>

<p>En este tutorial, instalaremos y configuraremos una instancia de ownCloud en un servidor Ubuntu 18.04.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>Para completar los pasos de esta guía, necesitará lo siguiente:</p>

<ul>
<li><strong>Un usuario sudo y un firewall en su servidor</strong>: puede crear un usuario con privilegios <code>sudo</code> y configurar un firewall básico siguiendo la <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">guía de configuración inicial para servidores de Ubuntu 18.04</a>.</li>
<li><strong>Una pila LAMP</strong>: ownCloud requiere un servidor web, una base de datos y PHP para funcionar correctamente. La configuración de un servidor con pila LAMP (Linux, Apache, MySQL y PHP) cumple con todos estos requisitos: Siga <a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04">esta guía</a> para instalar y configurar este software.</li>
<li><strong>Un certificado SSL</strong>: la manera de configurar esto depende de que tenga o no un nombre de dominio que se resuelva en su servidor.

<ul>
<li><strong>Si dispone de un nombre de dominio</strong>, la alternativa más sencilla para proteger su sitio es Let&rsquo;s Encrypt, que proporciona certificados de confianza gratuitos. Para la configuración, siga nuestra <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04">guía de Let&rsquo;s Encrypt para Apache</a>.</li>
<li><strong>Si no cuenta con un dominio</strong> y solo utiliza esta configuración para pruebas o cuestiones personales, puede emplear en su lugar un certificado autofirmado. Le proporciona el mismo tipo de cifrado, aunque sin la validación de dominio. Para la configuración, siga la <a href="https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-apache-in-ubuntu-18-04">guía de certificados SSL autofirmados para Apache</a>.</li>
</ul></li>
</ul>

<h2 id="paso-1-instalar-owncloud">Paso 1: Instalar ownCloud</h2>

<p>El paquete de servidor de ownCloud no existe dentro de los repositorios predeterminados de Ubuntu. Sin embargo, ownCloud ofrece un repositorio dedicado para la distribución que podemos añadir a nuestro servidor.</p>

<p>Para comenzar, descargue la clave de versión usando el comando <code>curl</code> e impórtela con la utilidad <code>apt-key</code> mediante el comando <code>add</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">curl https://download.owncloud.org/download/repositories/10.0/Ubuntu_18.04/Release.key | sudo apt-key add -
</li></ul></code></pre>
<p>El archivo “Release.key” contiene una clave pública PGP (Pretty Good Privacy) que <code>apt</code> usará para verificar que el paquete de ownCloud sea auténtico.</p>

<p>Además de importar la clave, cree un archivo llamado <code>owncloud.list</code> en el directorio <code>sources.list.d</code> para <code>apt</code>. El archivo contiene la dirección del repositorio de ownCloud.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">echo 'deb http://download.owncloud.org/download/repositories/10.0/Ubuntu_18.04/ /' | sudo tee /etc/apt/sources.list.d/owncloud.list
</li></ul></code></pre>
<p>Ahora, podemos usar el administrador de paquetes para buscar e instalar ownCloud. Junto con el paquete principal, también instalaremos algunas bibliotecas de PHP adicionales que ownCloud utiliza para añadir más funciones. Actualice su índice local de paquetes e instale todo escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li><li class="line" prefix="$">sudo apt install php-bz2 php-curl php-gd php-imagick php-intl php-mbstring php-xml php-zip owncloud-files
</li></ul></code></pre>
<p>Todo lo que necesitamos está ahora instalado en el servidor, Por ello, a continuación podemos finalizar la configuración para comenzar a usar el servicio.</p>

<h2 id="paso-2-ajustar-la-raíz-del-documento">Paso 2: Ajustar la raíz del documento</h2>

<p>El paquete de ownCloud que instalamos copia los archivos web a <code>/var/www/owncloud</code> en el servidor. Actualmente, los ajustes del host virtual de Apache están configurados para mostrar los archivos desde un directorio diferente. Debemos cambiar el ajuste de <code>DocumentRoot</code> en nuestra configuración para apuntar al nuevo directorio.</p>

<p>Encontrará los archivos del host virtual a los que hace referencia su nombre de dominio o dirección IP usando la utilidad <code>apache2ctl</code> con la opción <code>DUMP_VHOSTS</code>. Filtre el resultado con el nombre de dominio o la dirección IP de su servidor para saber qué archivos debe editar en los siguientes comandos:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apache2ctl -t -D DUMP_VHOSTS | grep <span class="highlight">server_domain_or_IP</span>
</li></ul></code></pre>
<p>El resultado probablemente tenga un aspecto similar a este:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>*:443                  <span class="highlight">server_domain_or_IP</span> (/etc/apache2/sites-enabled/<span class="highlight">server_domain_or_IP</span>-le-ssl.conf:2)
         port 80 namevhost <span class="highlight">server_domain_or_IP</span> (/etc/apache2/sites-enabled/<span class="highlight">server_domain_or_IP</span>.conf:1)
</code></pre>
<p>En los paréntesis, puede ver cada uno de los archivos que hacen referencia al nombre del dominio o a la dirección IP que usaremos para acceder a ownCloud. Estos son los archivos que deberá editar.</p>

<p>Para cada coincidencia, abra el archivo en un editor de texto con privilegios <code>sudo</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/apache2/sites-enabled/<span class="highlight">server_domain_or_IP</span>.conf
</li></ul></code></pre>
<p>En su interior, busque la directiva <code>DocumentRoot</code>. Cambie la línea de modo que apunte al directorio <code>/var/www/owncloud</code>:</p>
<div class="code-label " title="Example DocumentRoot edit">Example DocumentRoot edit</div><pre class="code-pre "><code langs="">&lt;VirtualHost *:80&gt;
    . . .
    DocumentRoot <span class="highlight">/var/www/owncloud</span>
    . . .
&lt;/VirtualHost&gt;
</code></pre>
<p>Guarde y cierre el archivo cuando termine. Complete este proceso para cada uno de los archivos que hace referencia a su nombre de dominio (o dirección IP, si no configuró un dominio para su servidor).</p>

<p>Cuando termine, compruebe la sintaxis de sus archivos de Apache para asegurarse de que no haya errores de escritura detectables en su configuración:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apache2ctl configtest
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Syntax OK
</code></pre>
<p>Según su configuración, es posible que una advertencia sobre la configuración de <code>ServerName</code> a nivel global. Siempre que el resultado termine con <code>Syntax OK</code>, puede ignorar esa advertencia. Si ve errores adicionales, regrese y compruebe los archivos que acaba de editar en busca de errores.</p>

<p>Si se supera con éxito la verificación de su sintaxis, vuelva a cargar el servicio de Apache para activar los nuevos cambios:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl reload apache2
</li></ul></code></pre>
<p>Con esto, Apache debería poder presentar sus archivos ownCloud.</p>

<h2 id="paso-3-configurar-la-base-de-datos-de-mysql">Paso 3: Configurar la base de datos de MySQL</h2>

<p>Antes de pasar a la configuración web, debemos configurar la base de datos. Durante el proceso de configuración basado en la web, debemos proporcionar para la base de datos un nombre, un nombre de usuario y una contraseña a fin de que ownCloud pueda conectarse y administrar su información en MySQL.</p>

<p>Comience iniciando sesión en su base de datos con la cuenta administrativa de MySQL.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mysql
</li></ul></code></pre>
<p>Si configura la autenticación con contraseña para  la cuenta <code>root</code> de MySQL, es posible que deba usar esta sintaxis:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql -u root -p
</li></ul></code></pre>
<p>Cree una base de datos dedicada para su uso por parte de ownCloud. Daremos a esta base de datos el nombre <code>owncloud</code>:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">CREATE DATABASE owncloud;
</li></ul></code></pre>
<p><span class='note'><strong>Nota:</strong> Cada instrucción de MySQL debe terminar en punto y coma (;). Asegúrese de comprobar que esto exista si experimenta un problema.<br></span></p>

<p>A continuación, cree una cuenta de usuario de MySQL independiente para administrar la base de datos recién creada. Desde el punto de vista de la administración y la seguridad, crear bases de datos y cuentas de una función es una idea recomendable. Como en el caso del nombre de la base de datos, seleccione el nombre de usuario que prefiera. Para esta guía, optamos por el nombre <code>owncloud</code>.</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">GRANT ALL ON owncloud.* to 'owncloud'@'localhost' IDENTIFIED BY '<span class="highlight">owncloud_database_password</span>';
</li></ul></code></pre>
<p><span class='warning'>*<em>Advertencia: *</em>Asegúrese de usar una contraseña real cuando el comando indique lo siguiente: <code><span class="highlight">owncloud_database_password</span></code><br></span></p>

<p>Una vez asignado el acceso del usuario a la base de datos, realice la operación flush privileges para garantizar que la instancia en ejecución de MySQL conozca la asignación reciente de privilegios:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">FLUSH PRIVILEGES;
</li></ul></code></pre>
<p>Ahora puede cerrar la sesión en MySQL escribiendo lo siguiente:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">exit
</li></ul></code></pre>
<p>Una vez que se instale el servidor de ownCloud y se configure la base de datos, estaremos listos para enfocar la atención en la configuración de la aplicación de ownCloud.</p>

<h2 id="paso-4-configurar-owncloud">Paso 4: Configurar ownCloud</h2>

<p>Para acceder a la interfaz web de ownCloud, abra un navegador web y diríjase a la siguiente dirección:</p>
<pre class="code-pre "><code langs="">https://<span class="highlight">server_domain_or_IP</span>
</code></pre>
<p><span class='note'><strong>Nota:</strong> Si utiliza un certificado SSL autofirmado, es probable que se le presente una advertencia porque el certificado no está firmado por una de las autoridades de confianza de su navegador. Esto está previsto y es normal. Haga clic en el botón o enlace correspondientes para continuar con la página de administración de ownCloud.<br></span></p>

<p>Debería ver la página de configuración web de ownCloud en su navegador.</p>

<p>Cree una cuenta de administrador seleccionando un nombre de usuario y una contraseña. Por seguridad, no se recomienda usar opciones como “admin” para el nombre de usuario:</p>

<p><img src="https://assets.digitalocean.com/articles/owncloud_install_ubuntu_1804/admin_user.png" alt="Cuenta de administrador de ownCloud"></p>

<p>A continuación, deje la configuración de la <strong>carpeta de datos</strong> como está y desplácese hasta la sección de configuración de la base de datos.</p>

<p>Complete los datos con nombre de la base de datos, el nombre de usuario de la base de datos y la contraseña de la base de datos que creó en la sección anterior. Si utilizó la configuración de esta guía, tanto el nombre de la base de datos como el nombre de usuario serán <code>owncloud</code>. Deje <code>localhost</code> como host de la base de datos:</p>

<p><img src="https://assets.digitalocean.com/articles/owncloud_install_ubuntu_1804/db_configure.png" alt="Configuración de la base de datos de ownCloud"></p>

<p>Haga clic en <strong>Finish setup</strong> para terminar de configurar ownCloud usando la información que proporcionó. Accederá a una pantalla de inicio de sesión en la que podrá iniciar sesión usando su cuenta nueva:</p>

<p><img src="https://assets.digitalocean.com/articles/owncloud_install_ubuntu_1804/login_screen.png" alt="Pantalla de inicio de sesión de ownCloud"></p>

<p>La primera vez que inicie sesión, aparecerá una pantalla en la que podrá descargar aplicaciones para sincronizar sus archivos entre varios dispositivos. Puede descargarlas y configurarlas ahora o hacerlo más adelante. Cuando termine, haga clic en la <strong>x</strong> de la esquina superior derecha de la pantalla de presentación para acceder a la interfaz principal:</p>

<p><img src="https://assets.digitalocean.com/articles/owncloud_install_ubuntu_1804/main_interface.png" alt="Interfaz principal de ownCloud"></p>

<p>Aquí, podrá crear o cargar archivos en su nube personal.</p>

<h2 id="conclusión">Conclusión</h2>

<p>ownCloud puede replicar las capacidades de servicios externos populares de almacenamiento en la nube. El contenido puede compartirse entre usuarios o de forma externa con URL públicas. La ventaja de ownCloud es que la información se guarda en un lugar que usted controla y administra sin intervención de terceros.</p>

<p>Explore la interfaz y, para obtener funciones adicionales, instale complementos usando <a href="https://apps.owncloud.com/">la tienda de aplicaciones de ownCloud</a>.</p>
