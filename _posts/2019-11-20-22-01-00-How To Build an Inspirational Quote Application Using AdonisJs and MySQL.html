---
layout: post
title: How To Build an Inspirational Quote Application Using AdonisJs and MySQL
network: digitalocean
date: November 20, 2019 at 10:01PM
url: https://www.digitalocean.com/community/tutorials/how-to-build-an-inspirational-quote-application-using-adonisjs-and-mysql
image: https://assets.digitalocean.com/articles/adonis_quote/step1.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>The author selected the <a href="https://www.brightfunds.org/funds/tech-education">Tech Education Fund</a> to receive a donation as part of the <a href="https://do.co/w4do-cta">Write for DOnations</a> program.</em></p>

<h3 id="introduction">Introduction</h3>

<p><a href="https://adonisjs.com/">AdonisJs</a> is a <a href="https://nodejs.org/en/">Node.js</a> web framework written in plain <a href="https://en.wikipedia.org/wiki/JavaScript">JavaScript</a> that runs on all major operating systems. It uses the popular <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC (Model - View - Controller)</a> design pattern and offers a stable ecosystem for writing server-side web applications. The framework features seamless <a href="https://adonisjs.com/docs/4.1/authentication">authentication</a>, SQL ORM (object-relational mapping), <a href="https://adonisjs.com/docs/4.1/migrations">migrations</a>, and <a href="https://adonisjs.com/docs/4.1/seeds-and-factories">database seeding</a>. AdonisJs has a similar architecture to the PHP web application framework <a href="https://laravel.com/">Laravel</a>, including the same folder structure and several shared setup concepts.</p>

<p>By default, AdonisJs uses the <a href="https://edge.adonisjs.com/docs/introduction">Edge template engine</a> that is designed for intuitive use. Just like Laravel, AdonisJs ships with an ORM called <a href="https://adonisjs.com/docs/4.0/lucid#_introduction">Lucid</a> that serves as an interface for communication between an application’s models and the database. With AdonisJs, developers can build a full-stack application where the back-end server will be responsible for applying the business logic, routing, and rendering all the pages for the application. It is also possible to create a web service API to return JSON responses from a controller; these web services can then be consumed using front-end frameworks such as <a href="https://vuejs.org/">Vue.js</a>, <a href="https://reactjs.org/">React</a>, and <a href="https://angular.io/">Angular</a>.</p>

<p>In this tutorial, you&rsquo;ll build an application with AdonisJs using its CLI. You&rsquo;ll create routes, controllers, models, and views within your application and you&rsquo;ll carry out form validations. The example in this tutorial will be an inspirational quote application in which a user can sign up and log in to create an inspirational quote. This demo application will give you the opportunity to carry out CRUD (Create, Read, Update, and Delete) operations.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before you begin this guide, you will need the following:</p>

<ul>
<li>A local installation of <a href="https://nodejs.org/en/">Node.js</a> (at least v8) and <a href="https://www.npmjs.com/">npm</a> (at least v3.0). Node.js is a JavaScript run-time environment that allows you to run your code outside of the browser. It comes with a pre-installed package manager called npm, which lets you install and update packages. To install these on macOS or Ubuntu 18.04, follow the steps in <a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos">How to Install Node.js and Create a Local Development Environment on macOS</a> or the <strong>Installing Using a PPA section</strong> of <a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04">How To Install Node.js on Ubuntu 18.04</a>.</li>
<li>MySQL installed on your machine. Follow the instructions <a href="https://dev.mysql.com/downloads/mysql/">here</a> to download and install it for your choice of the operating system. To successfully install MySQL, you can either install it by using <a href="https://brew.sh/">Homebrew</a> on <a href="https://dev.mysql.com/doc/mysql-osx-excerpt/5.7/en/osx-installation-pkg.html">Mac</a> or for Ubuntu 18.04 follow our tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04">How To Install MySQL on Ubuntu 18.04</a>.</li>
<li>A basic understanding of JavaScript; see our <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript">How To Code in JavaScript</a> series.</li>
<li>A text editor installed, such as <a href="https://code.visualstudio.com/">Visual Studio Code</a>, <a href="https://atom.io/">Atom</a>, or <a href="https://www.sublimetext.com/">Sublime Text</a>.</li>
</ul>

<p><span class='note'><strong>Note:</strong> This tutorial uses a macOS machine for development. If you&rsquo;re using another operating system, you may need to use <code>sudo</code> for <code>npm</code> commands in the first steps.<br></span></p>

<h2 id="step-1-—-installing-the-adonis-cli">Step 1 — Installing the Adonis CLI</h2>

<p>In this section, you will install <a href="https://github.com/adonisjs/adonis-cli">Adonis CLI</a> and all its required packages on your local machine. The CLI will allow you to scaffold a new AdonisJs project as well as create and generate boilerplate for controllers, middlewares, and models in your application. You&rsquo;ll also create your database for the project.</p>

<p>Run the following command to install the AdonisJs CLI globally on your machine via <code>npm</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">npm i -g <a href="https://www.digitalocean.com/community/users/adonisjs" class="username-tag">@adonisjs</a>/cli
</li></ul></code></pre>
<p>Once the installation process is complete, type the following command in the terminal to confirm the installation of AdonisJs and view the current version:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis --version
</li></ul></code></pre>
<p>You will see output showing the current version of AdonisJs:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">4.1.0</span>
</code></pre>
<p>With the successful installation of the AdonisJs CLI, you now have access to and can use the <code>adonis</code> command to create fresh installations of an AdonisJs project, manage your project, and generate relevant files such as the controllers, models, etc.</p>

<p>Now, you can proceed to create a new AdonisJs project by using the <code>adonis</code>  command as shown here:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis new <span class="highlight">adonis-quotes-app</span>
</li></ul></code></pre>
<p>The preceding command will create an application named <code><span class="highlight">adonis-quotes-app</span></code> in a new directory with the same name in your local project directory with the relevant AdonisJs MVC structure.</p>

<p>Move into the new application folder:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd <span class="highlight">adonis-quotes-app</span>
</li></ul></code></pre>
<p>Then start your application by running:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis serve --dev
</li></ul></code></pre>
<p>This will start the development server on the default port <code>3333</code> as specified inside the root <code>.env</code> file for your application. Navigate to <a href="http://localhost:3333">http://localhost:3333</a> to view the welcome page of AdonisJs.</p>

<p><img src="https://assets.digitalocean.com/articles/adonis_quote/step1.png" alt="Welcome page of AdonisJs"></p>

<p>Now you&rsquo;ll complete the setup of your database. Here, you&rsquo;ll install the <a href="https://www.npmjs.com/package/mysql"><code>mysql</code> driver</a> to connect to your MySQL server from your Node.js application via <code>npm</code>. To begin, go back to your terminal where the application is currently running, stop the process with <code>CTRL + C</code> and run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">npm i mysql
</li></ul></code></pre>
<p>Now that you have successfully installed the MySQL Node.js driver for this application, you need to create the application database and set up the appropriate connection to it.</p>

<p>The latest version of MySQL that you have installed from the prerequisite tutorial uses a default authentication plugin named <a href="https://dev.mysql.com/doc/refman/8.0/en/sha256-pluggable-authentication.html"><code>caching_sha2_password</code></a>. This is currently not supported by Node.js drivers for MySQL. To avoid any database connection issue from your application, you will need to create a new MySQL user and use the currently supported authentication plugin—<a href="https://dev.mysql.com/doc/refman/5.7/en/native-pluggable-authentication.html"><code>mysql_native_password</code></a>.</p>

<p>To begin, access the MySQL client using the <strong>root</strong> account:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql -u root -p
</li></ul></code></pre>
<p>You will be prompted to enter your <strong>root</strong> account password set up during the MySQL installation.</p>

<p>Next, create the user and password using the <code>mysql_native_password</code> plugin:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">CREATE USER '<span class="highlight">sammy</span>'@'localhost' IDENTIFIED WITH mysql_native_password BY '<span class="highlight">password</span>';
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 0 rows affected (0.02 sec)
</code></pre>
<p>Next, create a database for the application with:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">CREATE DATABASE <span class="highlight">adonis</span>;
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 1 row affected (0.03 sec)
</code></pre>
<p>You’ve now successfully created the database for this application.</p>

<p>Now, enable access to the created database for the new MySQL user. Run the following command to grant all privileges to the user in the database:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">GRANT ALL PRIVILEGES ON adonis.* TO '<span class="highlight">sammy</span>'@'localhost';
</li></ul></code></pre>
<p>Reload the grant tables by running the following command to apply the changes that you just made:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">FLUSH PRIVILEGES;
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 0 rows affected (0.00 sec)
</code></pre>
<p>Exit the MySQL client with:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">quit;
</li></ul></code></pre>
<p>You&rsquo;ve successfully installed the AdonisJs CLI, created a new AdonisJs project, and installed <code>mysql</code> via <code>npm</code>. You also created the database for this application and set up a MySQL user with the appropriate privileges to it. This is the basic setup for your application and in the next section you will begin to create the necessary views for your application.</p>

<h2 id="step-2-—-using-the-edge-templating-engine">Step 2 — Using the Edge Templating Engine</h2>

<p>AdonisJs is shipped with its own template engine called <a href="https://edge.adonisjs.com/">Edge</a>. It allows you to create a reusable HTML template and enables the introduction of front-end logic into your application with minimal code. Edge provides JavaScript developers with the tools while developing an application to build a component-based layout, write conditionals, use iterations, and create view layers to hold logic. All template files end with the <code>.edge</code> extension and are stored in the <code>resources/views</code> directory.</p>

<p>The following are the views that your application will need to function properly:</p>

<ul>
<li><strong>Master Layout</strong>:  With Edge, you can create a page that will contain the CSS, common JavaScript files, jQuery, and common parts of the user interface that will stay the same throughout the application—for example, the navigation bar, logo, header, etc. Once you&rsquo;ve established the Master Layout page, other views (pages) in your application will inherit it.</li>
<li><strong>Index view</strong>: This page will use the master layout to inherit common files and will also render contents for the homepage of the application.</li>
<li><strong>Login page</strong>: This page will also use the master layout and render the form with the input fields for both username and password for users to log in.</li>
<li><strong>Register page</strong>: Here, users will see a form to register and have their details persisted into the database.</li>
<li><strong>Create quote page</strong>: Users will use this page to create an inspirational quote.</li>
<li><strong>Edit quote page</strong>: Users will use this page to edit a quote.</li>
<li><strong>View quote page</strong>: Users will use this page to view a particular quote.</li>
</ul>

<p>To begin, use the <code>adonis</code>  command to create the master layout page by running the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view layouts/master
</li></ul></code></pre>
<p>You&rsquo;ll see output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/layouts/master.edge
</code></pre>
<p>This command will automatically create a <code>master.edge</code> file in your <code>resources/views/layouts</code> folder. Open the new file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/layouts/master.edge
</li></ul></code></pre>
<p>Add the following code in it:</p>
<div class="code-label " title="/resources/views/layouts/master.edge">/resources/views/layouts/master.edge</div><pre class="code-pre "><code class="code-highlight language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;adonis-quotes-app&lt;/title&gt;
    {{ style('https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css') }}
    {{ style('style') }}
    {{ script('https://code.jquery.com/jquery-3.3.1.slim.min.js') }}
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container-fliud"&gt;
        @include('navbar')
        @!section('content')
    &lt;/div&gt;
    {{ script('https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js') }}

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>In this file, you include the CDN files for <a href="https://v4-alpha.getbootstrap.com/getting-started/introduction/">Bootstrap CSS, Bootstrap JavaScript,</a> and <a href="https://code.jquery.com/">jQuery</a>. You add a global CSS file name of <code>style.css</code>  and within the <code>div</code> you include a <em>partial</em> file named <code>navbar</code>. To reuse fragments of HTML code that you require across multiple pages in your application, like <code>nav</code> or <code>footer</code>, you can incorporate partials. These are smaller files containing the repeated code making it quicker to update code for these elements in one place rather than at every instance it occurs. The <code>navbar</code> contains markup for a <strong>Login</strong> and <strong>Register</strong> buttons, a logo, and a home link.</p>

<p>With this in place, all the subsequent pages that will be created for this application can extend the master layout and have the <code>navbar</code> rendered without the need to write the content all over again. You&rsquo;ll create this <code>navbar</code> file later in the tutorial.</p>

<p>Finally, you define a section tag <code>@!section()</code> to include content from other pages and have them rendered  by the master layout. For this to work as expected, all the new pages that will extend the master layout must also define a section tag with the same name (i.e., <code>@section(</code><code>'</code><code>content</code><code>'</code><code>)</code>).</p>

<p>Save and exit the file once you&rsquo;re finished editing it.</p>

<p>Next, you will use the <code>adonis</code>  command to create the navigation bar:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view navbar
</li></ul></code></pre>
<p>You&rsquo;ll see output similar to:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/navbar.edge
</code></pre>
<p>Open the newly created file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/navbar.edge
</li></ul></code></pre>
<p>Then add the following code to it:</p>
<div class="code-label " title="/resources/views/navbar.edge">/resources/views/navbar.edge</div><pre class="code-pre "><code class="code-highlight language-html">&lt;nav class="navbar navbar-expand-lg navbar-dark text-white"&gt;
    &lt;a class="navbar-brand" &gt;LOGO&lt;/a&gt;
    &lt;button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"&gt;
        &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
    &lt;/button&gt;

    &lt;div class="collapse navbar-collapse" id="navbarNav"&gt;
        &lt;ul class="navbar-nav"&gt;
            &lt;li class="nav-item active "&gt;
                &lt;a class="btn text-white" href="/"&gt;Home&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class="navbar-right" id="navbarNav"&gt;
        @loggedIn
            &lt;ul class="navbar-nav"&gt;
                    &lt;li&gt;
                        &lt;div class="text-right"&gt;
                             &lt;a href="{{route('create.quote')}}" class="btn btn-outline-primary"&gt;Create Quote&lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/li&gt;

                &lt;li class="nav-item dropdown"&gt;
                    &lt;a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"&gt;
                       {{ auth.user.username}}
                    &lt;/a&gt;
                    &lt;div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink"&gt;
                        &lt;form method="POST" action="{{route('logout')}}"&gt;
                            {{ csrfField() }}
                              &lt;button  type="submit" class="dropdown-item" href=""&gt;logout&lt;/button&gt;
                        &lt;/form&gt;
                    &lt;/div&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        @else
            &lt;ul class="navbar-nav"&gt;
                &lt;li class="nav-item active pr-2"&gt;
                    &lt;a href="{{route('login.create')}}" class="btn btn-outline-danger"&gt;
                      login
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;li class="nav-item active pr-2"&gt;
                    &lt;a href="{{route('register.create')}}" class="btn btn-outline-primary"&gt;
                        Register
                    &lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        @endloggedIn
    &lt;/div&gt;
&lt;/nav&gt;
</code></pre>
<p>In addition to defining the links to the homepage and a button to register and login, you add a <code>@loggedIn</code> tag. With this in place you can write a conditional statement around the authenticated user and display appropriate contents where necessary. For an authenticated user, the application will display their username and a button to create a new quote. If a user is not logged in, your application will display a button to either log in or register. This page will be included as a partial on every page as it was earlier in the master layout for this application.</p>

<p>Save and exit the file.</p>

<p>Now, you&rsquo;ll create the index page that you&rsquo;ll use for the application&rsquo;s homepage. It will render and display the list of all inspirational quotes that users write:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view index
</li></ul></code></pre>
<p>You will see an output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/index.edge
</code></pre>
<p>The file created here will be located in <code>resources/views/index.edge</code>. Open the file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/index.edge
</li></ul></code></pre>
<p>Then add the following code:</p>
<div class="code-label " title="/resources/views/index.edge">/resources/views/index.edge</div><pre class="code-pre "><code class="code-highlight language-html">@layout('layouts/master')
@section('content')

&lt;div class="container"&gt;
    &lt;div class="text-center"&gt;
        @if(flashMessage('successmessage'))
            &lt;span class="alert alert-success p-1"&gt;{{ flashMessage('successmessage') }}&lt;/span&gt;
        @endif
    &lt;/div&gt;
    &lt;div class="row"&gt;
        @each(quote in quotes)
            &lt;div class="col-md-4 mb-4 quote-wrapper"&gt;
                &lt;a href="/view-quote/{{quote.id}}" class="w-100"&gt;
                    &lt;div class="card shadow-lg bg-dark text-white"&gt;
                        &lt;div class="card-body"&gt;
                            &lt;blockquote class="blockquote mb-0"&gt;
                                &lt;p&gt;{{quote.body}}&lt;/p&gt;
                                &lt;footer class="blockquote-footer"&gt;
                                    &lt;cite title="Source Title"&gt; {{quote.username}}&lt;/cite&gt;
                                &lt;/footer&gt;
                            &lt;/blockquote&gt;
                            @if(auth.user.id == quote.user_id)
                              &lt;div&gt;
                                &lt;a  href="/edit-quote/{{quote.id}}" class="btn btn-primary"&gt;edit&lt;/a&gt;
                                &lt;a href="/delete-quote/{{quote.id}}" class="btn btn-danger"&gt;delete&lt;/a&gt;
                              &lt;/div&gt;
                            @endif
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/a&gt;
            &lt;/div&gt;
        @else
         &lt;div class="col-md-12 empty-quote text-center"&gt;
                &lt;p&gt;No inspirational quote has been created&lt;/p&gt;
         &lt;/div&gt;
        @endeach
    &lt;/div&gt;
&lt;/div&gt;
@endsection
</code></pre>
<p>Here, you indicate that this view will use the <code>master</code> layout by extending it. This page can now have access to all the libraries, stylesheets, and the <code>navbar</code> included in the <code>master</code> layout. Next, you iterate over an array of <code>quotes</code> using the built-in <code>@each</code> tag. The <code>quotes</code> array will be passed to this view from the <code>QuoteController</code> that you&rsquo;ll create later in this tutorial. If there are no quotes, an appropriate message will be displayed.</p>

<p>Save and exit this file.</p>

<p>Now, to create the login page, run the following command from the terminal:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view auth/login
</li></ul></code></pre>
<p>You will see an output similar to:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/auth/login.edge
</code></pre>
<p>This will automatically create an <code>auth</code> folder within <code>resources/views</code> and also create a <code>login.edge</code> file within it. Open the <code>login.edge</code> file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/auth/login.edge
</li></ul></code></pre>
<p>Add the following content:</p>
<div class="code-label " title="/resources/views/auth/login.edge">/resources/views/auth/login.edge</div><pre class="code-pre "><code class="code-highlight language-html">@layout('layouts/master')
@section('content')
  &lt;div class="container"&gt;
    &lt;div class="row"&gt;
      &lt;div class="col-md-4 shadow bg-white mt-5 rounded offset-md-4"&gt;
        &lt;form method="POST" action="{{route('login.store')}}"&gt;
          {{ csrfField() }}
            &lt;div&gt;
              @if(flashMessage('successmessage'))
                &lt;span class="alert alert-success p-1"&gt;{{ flashMessage('successmessage') }}&lt;/span&gt;
              @endif
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
              &lt;label for="email"&gt;Email address&lt;/label&gt;
              &lt;input type="email" class="form-control" id="email" name="email" value="{{old('email','')}}"  placeholder="Enter email"&gt;
              {{ elIf('&lt;span class=text-danger&gt;$self&lt;/span&gt;', getErrorFor('email'), hasErrorFor('email')) }}
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
              &lt;label for="pasword"&gt;Password&lt;/label&gt;
              &lt;input type="password" class="form-control" id="password" name="password" value="{{old('password','')}}" placeholder="Password"&gt;
              {{ elIf('&lt;span class=text-danger&gt;$self&lt;/span&gt;', getErrorFor('password'), hasErrorFor('password')) }}
            &lt;/div&gt;

            &lt;div class="text-center"&gt;
              &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
@endsection
</code></pre>
<p>This file holds a form that contains input elements that you&rsquo;ll use to collect the username and password of a registered user before they can successfully get authenticated and start creating quotes. Another important element to note on this page is the <code>{{ csrfField() }}</code>. It is a global variable that AdonisJs will use to pass the CSRF access token when sending a <code>POST</code>, <code>PUT</code>, and <code>DELETE</code> request from your application.</p>

<p>This was put in place to protect your application from <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">Cross-Site Request Forgery (CSRF)</a> attacks. It works by generating a unique CSRF secret for each user visiting your website and once your users send an HTTP request from the frontend, a corresponding token is generated for this secret and passed along with the request. This will allow the middleware created for this request within AdonisJs to verify that both the token and CSRF secret is valid and belong to the currently authenticated user.</p>

<p>Save and exit the file once you&rsquo;re finished.</p>

<p>Next, you will create the register page with this command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view auth/register
</li></ul></code></pre>
<p>You will see output similar to this:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/auth/register.edge
</code></pre>
<p>Locate and open the newly created file in <code>resources/views/auth/register.edge</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/auth/register.edge
</li></ul></code></pre>
<p>Add the following code:</p>
<div class="code-label " title="resources/views/auth/register.edge">resources/views/auth/register.edge</div><pre class="code-pre "><code class="code-highlight language-html">@layout('layouts/master')
@section('content')
  &lt;div class="container "&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-4  bg-white p-3 mt-5 shadow no-border rounded offset-md-4"&gt;
          &lt;form method="POST" action="{{route('register.store')}}"&gt;
            {{ csrfField() }}
              &lt;div class="form-group"&gt;
                &lt;label for="name"&gt;Fullname&lt;/label&gt;
                &lt;input type="text" class="form-control" id="name" name="name"  value="{{old('name','')}}" placeholder="Enter Fullname"&gt;
                {{ elIf('&lt;span class=text-danger&gt;$self&lt;/span&gt;', getErrorFor('name'), hasErrorFor('name')) }}
              &lt;/div&gt;
              &lt;div class="form-group"&gt;
                &lt;label for="email"&gt;Email address&lt;/label&gt;
                &lt;input type="email" class="form-control" id="email"  name="email" value="{{old('email','')}}" placeholder="Enter email"&gt;
                {{ elIf('&lt;span class=text-danger&gt;$self&lt;/span&gt;', getErrorFor('email'), hasErrorFor('email')) }}
              &lt;/div&gt;
              &lt;div class="form-group"&gt;
                &lt;label for="pasword"&gt;Password&lt;/label&gt;
                &lt;input type="password" class="form-control" id="password" name="password" placeholder="Password"&gt;
                {{ elIf('&lt;span class=text-danger&gt;$self&lt;/span&gt;', getErrorFor('password'), hasErrorFor('password')) }}
              &lt;/div&gt;
              &lt;div class="text-center"&gt;
                  &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;
              &lt;/div&gt;
          &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
@endsection
</code></pre>
<p>Similarly to what you have on the login page, this file contains an HTML form with input fields to collect the <code>name</code>, <code>email</code>, and <code>password</code> of a user during the registration process. Also included is the <code>{{ csrfField() }}</code> as it is required for each post request for an AdonisJs application.</p>

<p>Save and exit the file.</p>

<p>Now, you will generate a new file to create an inspirational quote by running the following command from the terminal:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view quotes/create-quote
</li></ul></code></pre>
<p>You will see output like:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/quotes/create-quote.edge
</code></pre>
<p>Open <code>resources/views/quotes/create-quote.edge</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/quotes/create-quote.edge
</li></ul></code></pre>
<p>And add the following content to it:</p>
<div class="code-label " title="/resources/views/quotes/create-quote.edge">/resources/views/quotes/create-quote.edge</div><pre class="code-pre "><code class="code-highlight language-html">@layout('layouts/master')
@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-3"&gt;&lt;/div&gt;
        &lt;div class="col-md-6 shadow bg-white mt-5 rounded p-3"&gt;
            &lt;div class="float-right"&gt;
                &lt;a href="/" class="btn btn-outline-dark "&gt;back&lt;/a&gt;
            &lt;/div&gt;
                &lt;br&gt;

            &lt;div class="clear-fix"&gt;&lt;/div&gt;
                &lt;form method="POST" action="{{route('store.quote')}}"&gt;
                    {{ csrfField() }}
                    &lt;div class="form-group"&gt;
                        &lt;label for="quote"&gt;Create Quote&lt;/label&gt;
                        &lt;textarea type="text" rows="5"  name='body' id="body" class="form-control" id="quote" placeholder="Write an inspirational quote"&gt;&lt;/textarea&gt;
                    &lt;/div&gt;

                    &lt;div class="text-center"&gt;
                        &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="col-md-3"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection
</code></pre>
<p>This page extends the master layout and contains an HTML form with a text area element that allows a user to input text over multiple rows before being posted and handled by the appropriate route.</p>

<p>Save and exit the file once you&rsquo;re finished.</p>

<p>Next, you will create a page for editing a particular quote. Run the following command from the terminal:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view quotes/edit-quote
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/quotes/edit-quote.edge
</code></pre>
<p>Open the file with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/quotes/edit-quote.edge
</li></ul></code></pre>
<p>Add the following content to <code>resources/views/quotes/edit-quote</code>:</p>
<div class="code-label " title="/resources/views/quotes/edit-quote.edge">/resources/views/quotes/edit-quote.edge</div><pre class="code-pre "><code class="code-highlight language-html">@layout('layouts/master')
@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-6 shadow bg-white rounded p-3 offset-md-3"&gt;
            &lt;div class="float-right"&gt;
                &lt;a href="/" class="btn btn-outline-dark "&gt;back&lt;/a&gt;
            &lt;/div&gt;
            &lt;br&gt;

            &lt;div class="clear-fix"&gt;&lt;/div&gt;
            &lt;form method="POST" action="/update-quote/{{quote.id}}"&gt;
                {{ csrfField() }}
                &lt;div class="form-group"&gt;
                    &lt;label for="pasword"&gt;Edit Quote&lt;/label&gt;
                    &lt;textarea type="text" rows="5"  name='body' id="body" class="form-control" id="quote" placeholder="write the inspirational quote"&gt;{{quote.body}}&lt;/textarea&gt;
                &lt;/div&gt;
                &lt;div class="text-center"&gt;
                    &lt;button type="submit" class="btn btn-primary"&gt;Update&lt;/button&gt;
                &lt;/div&gt;

            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection
</code></pre>
<p>This page holds similar content as the <code>create-quote.edge</code> file—the difference is that it contains the details of a particular quote that needs to be edited, <code>&lt;form method="POST" action="/update-quote/{{quote.id}}"&gt;</code>.</p>

<p>Save and exit the file.</p>

<p>Finally, generate a page to view a single inspirational quote:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:view quotes/quote
</li></ul></code></pre>
<p>You will see an output similar to this:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  resources/views/quotes/quote.edge
</code></pre>
<p>Open the file with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano resources/views/quotes/quote.edge
</li></ul></code></pre>
<p>Add the following code:</p>
<div class="code-label " title="/resources/views/quotes/quote.edge">/resources/views/quotes/quote.edge</div><pre class="code-pre "><code class="code-highlight language-html">@layout('layouts/master')
@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-6 offset-md-3"&gt;
            &lt;div class="card shadow-lg bg-dark text-white"&gt;
                &lt;div class="card-body"&gt;
                    &lt;div class="float-right"&gt;
                        &lt;a href="/" class="btn btn-outline-primary "&gt;back&lt;/a&gt;
                    &lt;/div&gt;
                        &lt;br&gt;
                    &lt;div class="clear-fix"&gt;&lt;/div&gt;
                    &lt;blockquote class="blockquote mb-0"&gt;
                        &lt;p&gt;{{quote.body}}&lt;/p&gt;
                        &lt;footer class="blockquote-footer"&gt;
                            &lt;cite title="Source Title"&gt;{{quote.username}}&lt;/cite&gt;
                        &lt;/footer&gt;
                    &lt;/blockquote&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection
</code></pre>
<p>This page renders the details of a particular quote, that includes the body of the quote, <code>quote.body</code>, and the author who created it, <code>quote.username</code>.</p>

<p>Once you&rsquo;re finished with the file, save and exit.</p>

<p>You have created all the required pages for your application by using the Edge templating engine. Next, you&rsquo;ll configure and create a connection to your application&rsquo;s database.</p>

<h2 id="step-3-—-creating-a-database-schema">Step 3 — Creating a Database Schema</h2>

<p>If you serve your application now it will throw an error as you are yet to connect the application to a database. In this section, you will set up a connection to the database and then use the <code>adonis</code> command to generate a migration file that will be used to create the tables for it.</p>

<p>AdonisJs ships with an ORM named <a href="https://github.com/adonisjs/adonis-lucid">Lucid ORM</a>, which provides <a href="https://en.wikipedia.org/wiki/Active_record_pattern">active record</a> implementation for working with your database. It takes away the hassle of writing SQL queries that retrieve data from the database in realtime. This is especially helpful when working on a complex application that requires a lot of queries. As an example, retrieving all the quotes from your application can be achieved by writing this:</p>
<pre class="code-pre "><code langs="">const quotes = await Quote.all()
</code></pre>
<p>To proceed with the appropriate configuration for your application database, ensure that you are still within the root directory of your application and create a <code>.env</code> file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano .env
</li></ul></code></pre>
<p>Open the newly created file and add the following content:</p>
<div class="code-label " title=".env">.env</div><pre class="code-pre "><code langs="">HOST=127.0.0.1
PORT=3333
NODE_ENV=development
APP_URL=http://${HOST}:${PORT}
CACHE_VIEWS=false
APP_KEY=bTVOEgUvmTCfkvgrK8gEBC3Qxt1xSYr0
DB_CONNECTION=<span class="highlight">mysql</span>
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=<span class="highlight">sammy</span>
DB_PASSWORD=<span class="highlight">password</span>
DB_DATABASE=<span class="highlight">adonis</span>
SESSION_DRIVER=cookie
HASH_DRIVER=bcrypt
</code></pre>
<p>By default the database connection for an AdonisJs application is SQLite, which you will update to MySQL here. You also specify the <code>PORT</code> for the application, the application environment, and your database credentials. Ensure that you replace the <code>DB_USER</code>, <code>DB_PASSWORD</code>, and <code>DB_DATABASE</code> placeholder with your credentials.</p>

<p>Next, you will create the model and a migration file for <code>Quote</code> using the Adonis CLI. To accomplish that, run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:model Quote --migration
</li></ul></code></pre>
<p>You’ll see output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  app/Models/Quote.js
✔ create  database/migrations/1568209992854_quote_schema.js
</code></pre>
<p>This command will create a model for <code>Quote</code> in the <code>app/Models</code> folder and a schema file in the <code>database/migrations</code> folder. The newly created schema file will be prefixed with the current timestamp. Open the schema file with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano database/migrations/1568209992854_quote_schema.js
</li></ul></code></pre>
<p>Update its content with the following code:</p>
<div class="code-label " title="database/migrations/...quote_schema.js">database/migrations/&hellip;quote_schema.js</div><pre class="code-pre "><code class="code-highlight language-js">'use strict'
/** @type {import('@adonisjs/lucid/src/Schema')} */
const Schema = use('Schema')
class QuoteSchema extends Schema {
  up () {
    this.create('quotes', (table) =&gt; {
      table.increments()
      table.integer('user_id').notNullable()
      table.string('username', 80).notNullable()
      table.string('body').notNullable()
      table.timestamps()
    })
  }
  down () {
    this.drop('quotes')
  }
}
module.exports = QuoteSchema
</code></pre>
<p>A schema file in AdonisJs requires two different methods, which are:</p>

<ul>
<li><strong>up</strong>: Used to create a new table or alter an existing one.</li>
<li><strong>down</strong>: Used to revert the changes applied in the <code>up</code> method.</li>
</ul>

<p>In addition to the <code>timestamps()</code> and <code>increments()</code> fields, you update the content of the schema file with the field attributes <code>user_id</code>, <code>username</code>, and the <code>body</code> of a quote that will be created. The <code>user_id</code> and <code>username</code> fields reference the details of the user who create a particular quote. This defines a <a href="https://adonisjs.com/docs/4.1/relationships#_has_many">one to many relationship</a> and means a user can own an infinite number of quotes while a single quote can only belong to a user.</p>

<p>Save and exit the file.</p>

<p>AdonisJs comes installed with a <code>User</code> model and its migration file by default, which requires only a small modification to establish the relationship between the <code>User</code> and <code>Quote</code> model.</p>

<p>Open the <code>User</code> model in <code>app/Models/User.js</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">app/Models/User.js
</li></ul></code></pre>
<p>Add this method immediately after the <code>tokens()</code> method:</p>
<div class="code-label " title="app/Models/User.js">app/Models/User.js</div><pre class="code-pre plain"><code langs="">...
class User extends Model {
  ...
  tokens () {
    return this.hasMany('App/Models/Token')
  }

  <span class="highlight">quote () {</span>
    <span class="highlight">return this.hasMany('App/Models/Quote')</span>
  <span class="highlight">}</span>
<span class="highlight">}</span>

module.exports = User
</code></pre>
<p>This will establish a one to many relationship with the <code>Quote</code> table using <code>user_id</code> as the foreign key.</p>

<p>Save and exit the file.</p>

<p>To wrap up this section, use the following command to run migrations, which will execute the <code>up()</code> method of all migration files:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis migration:run
</li></ul></code></pre>
<p>You will see output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>migrate: 1503248427885_user.js
migrate: 1503248427886_token.js
migrate: 1568209992854_quote_schema.js
Database migrated successfully in 3.42 s
</code></pre>
<p>You&rsquo;ve configured and secured a connection with your database. You also created a <code>Quote</code> model and its corresponding schema file and created a <strong>one to many</strong> relationship between a <code>User</code> and <code>Quote</code>. Next, you&rsquo;ll generate the routes and create controllers to handle HTTP requests and the business logic to create, edit, and delete an inspirational quote.</p>

<h2 id="step-4-—-creating-controllers-and-setting-up-routes">Step 4 — Creating Controllers and Setting Up Routes</h2>

<p>In this section, you will start by creating controllers to handle all the logic for the application and later attach these controllers to a specific route for it to be accessed by users via a URL.</p>

<p>To start, you&rsquo;ll use the Adonis CLI to create a new HTTP request controller to handle all authentication processes for your application by running the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:controller Auth --type http
</li></ul></code></pre>
<p>This command will create an <code>AuthController.js</code> file and save it within <code>app/Controllers/Http</code> folder. You use the flag <code>--type</code> to indicate that you want this controller to be an HTTP controller.</p>

<p>You will see an output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  app/Controllers/Http/AuthController.js
</code></pre>
<p>Next, open the newly created controller file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano app/Controllers/Http/AuthController.js
</li></ul></code></pre>
<p>Update it with the following content:</p>
<div class="code-label " title="app/Controllers/Http/AuthController.js">app/Controllers/Http/AuthController.js</div><pre class="code-pre "><code class="code-highlight language-js">'use strict'
const User = use('App/Models/User')
class AuthController {

    loginView({ view }) {
        return view.render('auth.login')
    }
    registrationView({ view }) {
        return view.render('auth.register')
    }

    async postLogin({ request, auth, response}) {
        await auth.attempt(request.input('email'), request.input('password'))
        return response.route('index')
    }

    async postRegister({ request, session, response }) {
        const user = await User.create({
            username: request.input('name'),
            email: request.input('email'),
            password: request.input('password')
        })
        session.flash({ successmessage: 'User have been created successfully'})
        return response.route('login.create');
    }

    async logout ({ auth, response }) {
        await auth.logout()
        return response.route('/')
    }
}
module.exports = AuthController
</code></pre>
<p>In this file, you import the <code>User</code> model and then create two methods named <code>loginView()</code>  and <code>registerView()</code> to render the login and register pages respectively. Finally, you create the following asynchronous methods:</p>

<ul>
<li><code>postLogin()</code>: This method will obtain the value of the <code>email</code> and <code>password</code> posted through the help of the inbuilt <code>request</code> method in AdonisJs and then validate this user against the details in the database. If such a user exists in the database and has inputted the correct credential, they will be redirected back to the homepage and authenticated before they can create a new quote. Otherwise, a message indicating the wrong credentials will be displayed.</li>
<li><code>postRegister()</code>: This will receive the value of the <code>username</code>, <code>email</code>, and <code>password</code> for a user to create an account for such user in the database. A message indicating that such user has been created successfully will be passed to the session and the user will be redirected to the login page to get authenticated and start creating a quote.</li>
<li><code>logout()</code>: This method will handle the logout functionality and redirect the user back to the homepage.</li>
</ul>

<p>Save and exit the file.</p>

<p>Now that you have set up the controller to register and authenticate users, you will proceed by creating an HTTP request controller to manage all operations regarding quotes.</p>

<p>Back in the terminal, run the following command to create the <code>QuoteController</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:controller Quote --type http --resource
</li></ul></code></pre>
<p>Using the <code>--resource</code> flag will create a controller with predefined resourceful methods to do CRUD (Create, Read, Update, and Delete) operations.</p>

<p>You will see:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>✔ create  app/Controllers/Http/QuoteController.js
</code></pre>
<p>Locate this file within <code>app/Controllers/Http/QuoteController.js</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano app/Controllers/Http/QuoteController.js
</li></ul></code></pre>
<p>Update it with the following content:</p>
<div class="code-label " title="app/Controllers/Http/QuoteController.js">app/Controllers/Http/QuoteController.js</div><pre class="code-pre "><code class="code-highlight language-js">'use strict'
const Quote = use('App/Models/Quote')

class QuoteController {

  async index ({ view }) {
    const quote = await Quote.all()
    return view.render('index', {
      quotes: quote.toJSON()
    })
  }

  async create ({ view }) {
    return view.render('quotes.create-quote')
  }

  async store ({ request,auth,session, response }) {
    const quote = await Quote.create({
      user_id: auth.user.id,
      username: auth.user.username,
      body: request.input('body')
    })
    session.flash({ 'successmessage': 'Quote has been created'})
    return response.redirect('/')
  }

  async show ({ params, view }) {
    const quote = await Quote.find(params.id)
    return view.render('quotes.view-quote', {
      quote: quote.toJSON()
    })
  }

  async edit ({ params, view }) {
    const quote = await Quote.find(params.id)
    return view.render('quotes.edit-quote', {
      quote: quote.toJSON()
    })
  }

  async update ({ params, request, response, session }) {
    const quote = await Quote.find(params.id)
    quote.body = request.input('body')
    await quote.save()
    session.flash({'successmessage': 'Quote has been updated'})
    return response.redirect('/')
  }

  async destroy ({ params, response, session }) {
    const quote = await Quote.find(params.id)
    await quote.delete()
    session.flash({'successmessage': 'Quote has been deleted'})
    return response.redirect('/')
  }
}
module.exports = QuoteController
</code></pre>
<p>In this controller, you imported the <code>Quote</code> model and updated the following methods that were automatically created by using AdonisJs CLI:</p>

<ul>
<li><code>index()</code>: to fetch all quotes from the database and render it on the homepage of the application.</li>
<li><code>create()</code>: to render a page for creating quotes.</li>
<li><code>store()</code>: to persist a newly created quote into the database and return an appropriate response.</li>
<li><code>show()</code>: to obtain the <code>id</code> of a particular quote, retrieve it from the database, and render it on the edit quote page.</li>
<li><code>edit()</code>: to obtain the detail of a particular quote from the database and render it for editing.</li>
<li><code>update()</code>: to process any update to a quote and redirect the user back to the homepage.</li>
<li><code>destroy()</code>: to delete a particular quote and remove it entirely from the database.</li>
</ul>

<p>Save and exit the file.</p>

<p>After creating all the necessary controllers for this application, you can now set up the routes so that users can easily interact with your application. To begin, navigate to <code>start/routes.js</code> file</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano start/routes.js
</li></ul></code></pre>
<p>Replace its content with the following:</p>
<div class="code-label " title="start/routes.js">start/routes.js</div><pre class="code-pre javaScript"><code langs="">'use strict'
const Route = use('Route')

Route.get('/','QuoteController.index').as('index')
Route.get('/register','AuthController.registrationView').as('register.create')
Route.post('/register-store','AuthController.postRegister').as('register.store').validator('Register')
Route.get('/login','AuthController.loginView').as('login.create')
Route.post('/login-store','AuthController.postLogin').as('login.store')
Route.get('/view-quote/:id','QuoteController.show').as('view.quote')

Route.group(() =&gt; {
    Route.get('/create-quote','QuoteController.create').as('create.quote')
    Route.post('/store-quote','QuoteController.store').as('store.quote')
    Route.get('/edit-quote/:id','QuoteController.edit').as('edit.quote')
    Route.post('/update-quote/:id','QuoteController.update').as('update.quote')
    Route.get('/delete-quote/:id','QuoteController.destroy').as('delete.quote')
    Route.post('/logout','AuthController.logout').as('logout')
}).middleware(['auth'])
</code></pre>
<p>Here, you define the path for each route in your application, specify the HTTP verbs for each action, and bound the route to a particular method in each controller. You also name each of these routes as they have been referenced within the controllers and views.</p>

<p>To ensure that only authenticated users can access all the quotes routes, you assign a group middleware named to it. And lastly, you attach a validator method to the <code>register.store</code> route to validate user input.</p>

<p>Save and exit the file.</p>

<p>You&rsquo;ve created your controllers and set up the routes for your application. Next you&rsquo;ll create the validator method defined in this step.</p>

<h2 id="step-5-—-validating-user-input">Step 5 — Validating User Input</h2>

<p>AdonisJs does not have validators built-in by default. As a result you&rsquo;ll install and register the validator for your application manually.</p>

<p>Run the following command to install it:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis install <a href="https://www.digitalocean.com/community/users/adonisjs" class="username-tag">@adonisjs</a>/validator
</li></ul></code></pre>
<p>Open the following file to register the validator provider:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano start/app.js
</li></ul></code></pre>
<p>Then register the validator provider by appending it to the list of providers as shown following:</p>
<div class="code-label " title="start/app.js">start/app.js</div><pre class="code-pre plain"><code langs="">...
const providers = [
   ...
   '@adonisjs/cors/providers/CorsProvider',
   '@adonisjs/shield/providers/ShieldProvider',
   '@adonisjs/session/providers/SessionProvider',
   '@adonisjs/auth/providers/AuthProvider',
   <span class="highlight">'@adonisjs/validator/providers/ValidatorProvider'</span>
]
</code></pre>
<p>Now that you have installed and registered the validator provider within your application, create a custom validator to validate user input during registration with the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis make:validator Register
</li></ul></code></pre>
<p>This will create a <code>Register.js</code> file in the <code>App/validators</code> directory. Open the file with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano app/Validators/Register.js
</li></ul></code></pre>
<p>Add the following code to the file:</p>
<div class="code-label " title="app/Validators/Register.js">app/Validators/Register.js</div><pre class="code-pre "><code class="code-highlight language-js">'use strict'
class Register {
  get rules () {
    return {
      name:'required',
      email:'required|email|unique:users',
      password:'required|min:8'
    }
  }

  get messages(){
    return{
      'name.required':'Full name is required',
      'email.required':'email is required',
      'email.unique':'email already exists',
      'password.required':'password is required',
      'password.min':'password should be at least 8 characters'
    }
  }
}
module.exports = Register
</code></pre>
<p>You define rules for specific fields in your application. If validations fail at any time, the validator automatically sets the error as a flash message and the user will be redirected back to the form.</p>

<p>Save and exit the file once you&rsquo;re finished editing.</p>

<p>Finally, to add styling for your application, open the following file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano public/style.css
</li></ul></code></pre>
<p>Replace its contents with the following:</p>
<div class="code-label " title="/public/style.css">/public/style.css</div><pre class="code-pre "><code class="code-highlight language-css">@import url('https://fonts.googleapis.com/css?family=Montserrat:300');

html, body {
  height: 100%;
  width: 100%;
}

body {
  font-family: 'Montserrat', sans-serif;
  font-weight: 300;
  background-image: url("/splash.png");
  background-color: #220052;
}

* {
  margin: 0;
  padding: 0;
}

a {
  color: inherit;
  text-decoration: underline;
}

p {
  margin: 0.83rem 0;
}

.quote-wrapper {
  margin-top: 20px;
}

.quote-wrapper a {
  text-decoration: none;
}

.quote-wrapper a:hover {
  color: #ffffff;
}

.empty-quote {
  color: #ffffff;
}

form {
  padding: 20px;
}
</code></pre>
<p>In this file you update the CSS styling of your application in the <code>style.css</code> file.</p>

<p>You&rsquo;ve installed and registered a validator provider for the purpose of checking users&rsquo; input during the registration process. You also updated the content of your stylesheet to add more styling to the application. In the final step you&rsquo;ll test your application.</p>

<h2 id="step-6-—-serving-the-application">Step 6 — Serving the Application</h2>

<p>In this step, you&rsquo;ll serve your application and create a user and password to test the authentication. You&rsquo;ll also add a quote to your app and view this on the homepage.</p>

<p>To test your application, start the development server with the following command from the root directory of your application:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">adonis serve --dev
</li></ul></code></pre>
<p>This will start the application on the port defined inside the root <code>.env</code>  file, which is <code>3333</code>. Navigate to <a href="http://localhost:3333">http://localhost:3333</a> from your browser.</p>

<p><img src="https://assets.digitalocean.com/articles/adonis_quote/step6a.png" alt="Quote app homepage"></p>

<p>The homepage is empty at the moment as you have not created any quotes. Click on the <strong>Register</strong> button.</p>

<p><img src="https://assets.digitalocean.com/articles/adonis_quote/step6b.png" alt="Registration page"></p>

<p>Enter your details and click on the <strong>Submit</strong> button to complete the registration process. You will be redirected to the login page. Enter your email address and password for authentication.</p>

<p><img src="https://assets.digitalocean.com/articles/adonis_quote/step6c.png" alt="Login page"></p>

<p>Once you&rsquo;re authenticated, click on the <strong>Create Quote</strong> button.</p>

<p><img src="https://assets.digitalocean.com/articles/adonis_quote/step6d.png" alt="Create quote page"></p>

<p>Enter a quote and navigate to the <strong>View all</strong> page to see your quote.</p>

<p><img src="https://assets.digitalocean.com/articles/adonis_quote/step6e.png" alt="View all quotes page"></p>

<p>You&rsquo;ve tested your application by creating and authenticating a user and then writing a quote.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial you&rsquo;ve built a web application with AdonisJs. You set up the application using the AdonisJs CLI and leveraged the CLI for creating other relevant files such as controllers, models, and views.</p>

<p>You can build web applications with this framework irrespective of their size and complexity. Feel free to download the source code for this project <a href="https://github.com/do-community/adonis-quotes-app">here</a> on GitHub. To explore further features, you can also visit the <a href="https://adonisjs.com/docs/4.1/installation">official documentation</a>.</p>

<p>If you would like to explore some of our other JavaScript framework tutorials, check out the following:</p>

<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-build-a-customer-list-management-app-with-react-and-typescript">How To Build a Customer List Management App with React and TypeScript</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-build-a-blog-with-nest-js-mongodb-and-vue-js">How To Build a Blog with Nest.js, MongoDB, and Vue.js</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-build-a-weather-app-with-angular-bootstrap-and-the-apixu-api">How To Build a Weather App with Angular, Bootstrap, and the APIXU API</a></li>
</ul>
