---
layout: post
title: Cómo configurar Jupyter Notebook con Python 3 en Ubuntu 18.04
network: digitalocean
date: January 09, 2020 at 05:47PM
url: https://www.digitalocean.com/community/tutorials/how-to-set-up-jupyter-notebook-with-python-3-on-ubuntu-18-04-es
image: https://assets.digitalocean.com/articles/jupyter_notebook/set_hostname_putty.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introducción">Introducción</h3>

<p><a href="http://jupyter.org/">Jupyter Notebook</a>, una aplicación web de código abierto, le permite crear y compartir un código interactivo, visualizaciones y otros recursos. Esta herramienta puede utilizarse con varios lenguajes de programación, como Python, Julia, R, Haskell y Ruby. A menudo se utiliza para trabajar con datos, modelos estadísticos, y aprendizaje automático.</p>

<p>Este tutorial le servirá como guía para configurar Jupyter Notebook de modo que se ejecute desde un servidor de Ubuntu 18.04, y para aprender a conectarse al Notebook y a utilizarlo. Jupyter Notebooks (o simplemente Notebooks) es un conjunto de documentos producidos por la aplicación Jupyter Notebook, la cual contiene tanto elementos de código informático como de texto enriquecido (párrafos, ecuaciones, cifras y enlaces, entre otros) que ayudan a presentar y compartir la investigación que puede reproducirse.</p>

<p>Al final de esta guía, podrá ejecutar código de Python 3 usando un Jupyter Notebook en ejecución en un servidor remoto.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>Para completar esta guía, debe disponer de una instancia de servidor de Ubuntu 18.04 nueva con un firewall básico y un usuario no root con privilegios sudo configurados. Puede aprender a configurar esto en nuestro <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">tutorial de configuración inicial para servidores</a>.</p>

<h2 id="paso-1-configurar-python">Paso 1: Configurar Python</h2>

<p>Para iniciar el proceso, instalaremos las dependencias que necesitamos para nuestro entorno de programación de Python desde los repositorios de Ubuntu. Ubuntu 18.04 viene con Python 3.6 previamente instalado. Usaremos el administrador de paquetes de Python pip para instalar componentes adicionales más tarde.</p>

<p>Necesitaremos primero actualizar el índice de paquetes local <code>apt</code> y luego descargaremos e instalaremos los paquetes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>A continuación, instale pip y los archivos de encabezado de Python, utilizados por algunas dependencias de Jupyter:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install python3-pip python3-dev
</li></ul></code></pre>
<p>Ahora podemos proceder a configurar un entorno virtual de Python en el que instalaremos Jupyter.</p>

<h2 id="paso-2-crear-un-entorno-virtual-de-python-para-jupyter">Paso 2: Crear un entorno virtual de Python para Jupyter</h2>

<p>Ahora Python 3, sus archivos de encabezado y pip están listos para comenzar, podemos crear un entorno virtual de Python para administrar nuestros proyectos. Instalaremos Jupyter en este entorno virtual.</p>

<p>Para ello, primero necesitaremos acceso al comando <code>virtualenv</code>, que podemos instalar con pip.</p>

<p>Actualice pip e instale el paquete escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo -H pip3 install --upgrade pip
</li><li class="line" prefix="$">sudo -H pip3 install virtualenv
</li></ul></code></pre>
<p>El indicador <code>-H</code> garantiza que la política de seguridad defina la variable de entorno <code>home</code> como el directorio de inicio del usuario de destino.</p>

<p>Con <code>virtualenv</code> ya instalado, podemos comenzar a crear nuestro entorno. Cree un directorio en el que podamos guardar los archivos de nuestro proyecto y posiciónese en él: Daremos a este directorio el nombre <code>my_project_dir</code>, pero deberá usar un nombre que sea significativo para usted y para el trabajo que está desarrolle.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir ~/<span class="highlight">my_project_dir</span>
</li><li class="line" prefix="$">cd ~/<span class="highlight">my_project_dir</span>
</li></ul></code></pre>
<p>En el directorio del proyecto, crearemos un entorno virtual de Python. A los efectos de este tutorial, le daremos el nombre <code>my_project_env</code>, pero debería asignarle uno que se relacione con su proyecto.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">virtualenv <span class="highlight">my_project_env</span>
</li></ul></code></pre>
<p>Con esto, se creará un directorio llamado <code><span class="highlight">my_project_env</span></code> dentro de su directorio <code><span class="highlight">my_project_dir</span></code>. Dentro de este, se instalarán una versión local de Python y una versión local de pip. Podemos usar esto para instalar y configurar un entorno aislado de Python para Jupyter.</p>

<p>Antes de instalar Jupyter, debemos activar el entorno virtual. Puede hacerlo escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source <span class="highlight">my_project_env</span>/bin/activate
</li></ul></code></pre>
<p>Su línea de comandos cambiará para indicar que ahora realizará operaciones en un entorno virtual de Python. Tendrá un aspecto similar al siguiente: <code>(<span class="highlight">my_project_env</span>)<span class="highlight">user</span>@<span class="highlight">host</span>:~/<span class="highlight">my_project_dir</span>$</code>.</p>

<p>Con esto, estará listo para instalar Jupyter en este entorno virtual.</p>

<h2 id="paso-3-instalar-jupyter">Paso 3: Instalar Jupyter</h2>

<p>Una vez activado su entorno virtual, instale Jupyter con la instancia local de pip.</p>

<p><span class='note'><strong>Nota:</strong> Cuando se active el entorno virtual (cuando <code>(my_project_env)</code> se encuentre al inicio de su línea de comandos), use <code>pip</code> en lugar de <code>pip3,</code> incluso si emplea Python 3. La copia del entorno virtual de la herramienta siempre se llama <code>pip</code>, independientemente de la versión de Python.<br></span></p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">pip install jupyter
</li></ul></code></pre>
<p>En este punto, habrá instalado con éxito todo el software necesario para ejecutar Jupyter. Ahora podremos iniciar el servidor de Notebook.</p>

<h2 id="paso-4-ejecutar-jupyter-notebook">Paso 4: Ejecutar Jupyter Notebook</h2>

<p>Ya dispone de todo lo que necesita para ejecutar Jupyter Notebook. Para ejecutarlo, introduzca el siguiente comando:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_project_env)sammy@your_server:~/my_project_dir$">jupyter notebook
</li></ul></code></pre>
<p>Se mostrará un registro de las actividades de Jupyter Notebook en el terminal. Cuando se ejecuta Jupyter Notebook, este funciona en un número de puerto específico. Normalmente, el primer notebook que ejecute usará el puerto <code><span class="highlight">8888</span></code>. Para verificar el número de puerto específico en el que se ejecuta Jupyter Notebook, consulte el resultado del comando utilizado para iniciarlo:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>[I 21:23:21.198 NotebookApp] Writing notebook server cookie secret to /run/user/1001/jupyter/notebook_cookie_secret
[I 21:23:21.361 NotebookApp] Serving notebooks from local directory: /home/<span class="highlight">sammy</span>/<span class="highlight">my_project_dir</span>
[I 21:23:21.361 NotebookApp] The Jupyter Notebook is running at:
[I 21:23:21.361 NotebookApp] http://localhost:<span class="highlight">8888</span>/?token=<span class="highlight">1fefa6ab49a498a3f37c959404f7baf16b9a2eda3eaa6d72</span>
[I 21:23:21.361 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 21:23:21.361 NotebookApp] No web browser found: could not locate runnable browser.
[C 21:23:21.361 NotebookApp]

    Copy/paste this URL into your browser when you connect for the first time,
    to login with a token:
        http://localhost:<span class="highlight">8888</span>/?token=<span class="highlight">1fefa6ab49a498a3f37c959404f7baf16b9a2eda3eaa6d72</span>
</code></pre>
<p>Si ejecuta Jupyter Notebook en una computadora local (no en un servidor), puede dirigirse a la URL que se muestra para conectarse a Jupyter Notebook. Si ejecuta Jupyter Notebook en un servidor, deberá establecer conexión con este usando túneles SSH como se indica en la siguiente sección.</p>

<p>En este punto, podrá mantener la conexión SSH abierta y Jupyter Notebook en ejecución, o bien cerrar la aplicación y volver a ejecutarla una vez que configure los túneles SSH. Optaremos por detener el proceso de Jupyter Notebook. Lo ejecutaremos de nuevo una vez que configuremos los túneles SSH. Para detener el proceso de Jupyter Notebook, presione <code>CTRL+C</code>, escriba <code>Y</code> y luego presione <code>ENTER</code> para confirmar. Se mostrará el siguiente resultado:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>[C 21:28:28.512 NotebookApp] Shutdown confirmed
[I 21:28:28.512 NotebookApp] Shutting down 0 kernels
</code></pre>
<p>A continuación, configuraremos un túnel SSH para poder acceder al Notebook.</p>

<h2 id="paso-5-establecer-conexión-con-el-servidor-usando-túneles-ssh">Paso 5: Establecer conexión con el servidor usando túneles SSH</h2>

<p>En esta sección aprenderemos a establecer conexión con la interfaz web de Jupyter Notebook usando túneles SSH. Debido a que Jupyter Notebook se ejecutará en un puerto específico en el servidor (como el <code>:8888</code> y el <code>:8889</code>, entre otros), los túneles SSH le permiten establecer conexión con el puerto del servidor de forma segura.</p>

<p>En los dos apartados siguientes se describe la forma de crear un túnel SSH desde 1) una Mac o Linux y 2) Windows. Consulte el apartado que corresponda a su computadora local.</p>

<h3 id="túeneles-ssh-con-una-mac-o-linux">Túeneles SSH con una Mac o Linux</h3>

<p>Si usa una Mac o Linux, los pasos para crear un túnel SSH son similares a los que deben seguirse al usar SSH para iniciar sesión en su servidor remoto, con la excepción de que hay parámetros adicionales en el comando <code>ssh</code>. En este apartado, se describirán los parámetros adicionales necesarios en el comando <code>ssh</code> para implementar un túnel con éxito.</p>

<p>Esta implementación es posible ejecutando el siguiente comando SSH en una nueva ventana del terminal local:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh -L <span class="highlight">8888</span>:localhost:<span class="highlight">8888</span> <span class="highlight">your_server_username</span>@<span class="highlight">your_server_ip</span>
</li></ul></code></pre>
<p>El comando <code>ssh</code> abre una conexión SSH, pero <code>-L</code> especifica que se debe reenviar el puerto determinado en el host local (cliente) al host y puerto determinados en el lado remoto (servidor). Esto significa que todo lo que está en ejecución en el segundo número de puerto (por ejemplo <code><span class="highlight">8888</span></code>) en el servidor aparecerá en el primer número de puerto (por ejemplo <code><span class="highlight">8888</span></code>) en su computadora local.</p>

<p>Cambie de forma opcional el puerto <code><span class="highlight">8888</span></code> por uno que elija para evitar usar un puerto ya utilizado por otro proceso.</p>

<p><code><span class="highlight">server_username</span></code> es su nombre de usuario (por ejemplo <span class="highlight">sammy</span>) en el servidor que creó y <code><span class="highlight">your_server_ip</span></code> es la dirección IP de su servidor.</p>

<p>Por ejemplo, para el nombre de usuario <code><span class="highlight">sammy</span></code> y la dirección del servidor <code><span class="highlight">203.0.113.0</span>,</code> el comando sería el siguiente:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh -L <span class="highlight">8888</span>:localhost:<span class="highlight">8888</span> <span class="highlight">sammy</span>@<span class="highlight">203.0.113.0</span>
</li></ul></code></pre>
<p>Si no se produce ningún error después de ejecutar el comando <code>ssh -L</code>, podrá desplazarse a su entorno de programación y ejecutar Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_project_env)sammy@your_server:~/my_project_dir$">jupyter notebook
</li></ul></code></pre>
<p>Verá  un resultado con una URL. Desde un navegador web en su máquina local, abra la interfaz web de Jupyter Notebook con la URL que comienza con <code>http://localhost:8888</code>. Asegúrese de que el número de token esté incluido o ingrese la cadena de número de token cuando se solicite en <code>http://localhost:8888</code>.</p>

<h3 id="túneles-ssh-con-windows-y-putty">Túneles SSH con Windows y Putty</h3>

<p>Si usa Windows, puede crear un túnel SSH usando <a href="https://www.putty.org/">Putty</a>.</p>

<p>Primero, ingrese la dirección URL o IP del servidor como el nombre de host, como se muestra:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/set_hostname_putty.png" alt="Establecer el nombre de host para el túnel SSH"></p>

<p>A continuación, haga clic en <strong>SSH</strong> en la parte inferior del panel izquierdo, para expandir el menú, y luego en <strong>Tunnels</strong>. Introduzca el número del puerto local que quiera usar para acceder a Jupyter en su máquina local. Seleccione <code><span class="highlight">8000</span></code>, o un número mayor, para evitar los puertos utilizados por otros servicios y fije el destino en <code>localhost:<span class="highlight">8888</span></code>, donde <code><span class="highlight">:8888</span></code> sea el número del puerto en el que se ejecute Jupyter Notebook.</p>

<p>Luego, haga clic en el botón <strong>Add</strong>. Deberían aparecer los puertos en la lista de <strong>Forwarded ports</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/forwarded_ports_putty.png" alt="Lista de Forwarded ports"></p>

<p>Por último, haga clic en el botón <strong>Open</strong> para establecer conexión con el servidor a través de SSH y crear un túnel entre los puertos deseados. Diríjase a <code>http://localhost:<span class="highlight">8000</span></code> (o cualquier puerto que haya elegido) en un navegador web para conectarse al Jupyter Notebook que funciona en el servidor. Asegúrese de que el número de token esté incluido, o ingrese la cadena de número de token cuando se solicite en <code>http://localhost:8000</code>.</p>

<h2 id="paso-6-usar-jupyter-notebook">Paso 6: Usar Jupyter Notebook</h2>

<p>En esta sección se abordan los aspectos básicos vinculados al uso de Jupyter Notebook. Si Jupyter Notebook aún no está en ejecución, inícielo con el comando <code>jupyter notebook</code>.</p>

<p>Con esto, debería establecer conexión con este usando un navegador web. Jupyter Notebook es una herramienta muy poderosa que dispone de muchas características. En esta sección se mostrarán algunas de las características básicas para que comience a usar el Notebook. Jupyter Notebook mostrará todos los archivos y las carpetas en el directorio desde el que se ejecuta. Por ello, cuando trabaje en un proyecto asegúrese de iniciarlo desde el directorio del proyecto.</p>

<p>Para crear un nuevo archivo de Notebook, seleccione <strong>New</strong> &gt; <strong>Python 3</strong> en el menú desplegable que se encuentra en la parte superior derecha:</p>

<p><img src="https://assets.digitalocean.com/articles/eng_python/JupyterNotebookPy3/jupyter-notebook-new.png" alt="Crear un nuevo notebook de Python 3"></p>

<p>Con esto se abrirá un Notebook. Ahora podemos ejecutar el código de Python en la celda o cambiar la celda a lenguaje de marcado. Por ejemplo, cambie la primera celda para aceptar el lenguaje de marcado haciendo clic en <strong>Cell</strong> &gt; <strong>Cell Type</strong> &gt; <strong>Markdown</strong> en la barra de navegación de la parte superior. Con esto, podremos escribir notas usando el lenguaje de marcado e incluso incluir ecuaciones escritas en <a href="https://www.latex-project.org/">LaTeX</a> disponiéndolas entre los símbolos de <code>$$</code>. Por ejemplo, escriba lo siguiente en la celda después del cambio a lenguaje de marcado:</p>
<pre class="code-pre "><code langs=""># First Equation

Let us now implement the following equation:
$$ y = x^2$$

where $x = 2$
</code></pre>
<p>Para convertir el lenguaje de marcado en texto enriquecido, presione <code>CTRL + ENTER</code>. Deberían aparecer los siguientes resultados:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/jupyter_markdown.png" alt="Resultados de lenguaje de marcado"></p>

<p>Puede utilizar las celdas de lenguaje de marcado para crear notas y documentar su código. Implementaremos esa ecuación e imprimiremos el resultado. Haga clic en la celda superior y presione <code>ALT+ENTER</code> para añadir una celda debajo de esta. Ingrese el código siguiente en la nueva celda.</p>
<pre class="code-pre "><code class="code-highlight language-python">x = 2
y = x**2
print(y)
</code></pre>
<p>Para ejecutar el código, presione <code>CTRL+ENTER</code>. Obtendrá los siguientes resultados:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/jupyter_python.png" alt="Resultado de la primera ecuación"></p>

<p>Ahora podrá <a href="https://www.digitalocean.com/community/tutorials/how-to-import-modules-in-python-3">importar módulos</a> y usar el Notebook como lo haría con cualquier otro entorno de desarrollo de Python.</p>

<h2 id="conclusión">Conclusión</h2>

<p>¡Felicitaciones! Ahora debería poder escribir código y notas de Python que puedan reproducirse en lenguaje de marcado usando Jupyter Notebook. Si desea acceder a una visita rápida de Jupyter Notebook desde la interfaz, seleccione <strong>Help</strong> &gt; <strong>User Interface Tour</strong> en el menú de navegación superior para obtener más información.</p>

<p>A partir de aquí, puede iniciar un proyecto de análisis y visualización de datos leyendo <a href="https://www.digitalocean.com/community/tutorials/data-analysis-and-visualization-with-pandas-and-jupyter-notebook-in-python-3">Análisis y visualización de datos con pandas y Jupyter Notebook en Python 3</a>.</p>

<p>Si está interesado en abordar el tema en mayor profundidad, puede leer nuestras series sobre <a href="https://www.digitalocean.com/community/tutorial_series/time-series-visualization-and-forecasting">Visualización y pronóstico de series de tiempo</a>.</p>
