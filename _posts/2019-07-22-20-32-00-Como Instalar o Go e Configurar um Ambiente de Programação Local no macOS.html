---
layout: post
title: Como Instalar o Go e Configurar um Ambiente de Programação Local no macOS
network: digitalocean
date: July 22, 2019 at 08:32PM
url: https://www.digitalocean.com/community/tutorials/como-instalar-o-go-e-configurar-um-ambiente-de-programacao-local-no-macos-pt
image: https://assets.digitalocean.com/articles/eng_python/OSXSetUp/MacOSXSetUp.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introdução">Introdução</h3>

<p><a href="https://golang.org">Go</a> é uma linguagem de programação que nasceu da frustração no Google. Os desenvolvedores precisavam escolher continuamente uma linguagem que fosse executada com eficiência, mas demoravam muito tempo para compilar ou escolher uma linguagem fácil de programar, mas que era executada de forma ineficiente em produção. O Go foi projetado para ter todas as três características disponíveis ao mesmo tempo: compilação rápida, facilidade de programação e execução eficiente em produção.</p>

<p>Embora o Go seja uma linguagem de programação versátil que pode ser usada para muitos projetos de programação diferentes, ela é particularmente adequada para programas de rede/sistemas distribuídos e ganhou a reputação de ser "a linguagem da nuvem". Ela se concentra em ajudar o programador moderno a fazer mais com um conjunto forte de ferramentas, removendo debates sobre formatação ao tornar o formato parte da especificação da linguagem, bem como ao facilitar o deploy ao compilar para um único binário. O Go é fácil de aprender, com um conjunto muito pequeno de palavras-chave, o que o torna uma ótima opção para iniciantes e igualmente para desenvolvedores experientes.</p>

<p>Este tutorial irá guiá-lo pela instalação do Go em sua máquina local com macOS e da configuração de um workspace de programação através da linha de comando.</p>

<h2 id="pré-requisitos">Pré-requisitos</h2>

<p>Você precisará de um computador com macOS com acesso administrativo e que esteja conectado à Internet.</p>

<h2 id="passo-1-—-abrindo-o-terminal">Passo 1 — Abrindo o Terminal</h2>

<p>Você estará concluindo a instalação e a configuração na linha de comando, que é uma maneira não gráfica de interagir com seu computador. Ou seja, em vez de clicar nos botões, você digitará texto e receberá retornos do seu computador por meio de texto também. A linha de comando, também conhecida como shell, pode ajudá-lo a modificar e automatizar muitas das tarefas que você faz em um computador todos os dias, e é uma ferramenta essencial para desenvolvedores de software. </p>

<p>O Terminal do macOS é um aplicativo que você pode usar para acessar a interface da linha de comando. Como qualquer outro aplicativo, você pode encontrá-lo indo até o Finder, navegando até a pasta Aplicativos e, em seguida, na pasta Utilitários. A partir daqui, dê um clique duplo no Terminal como qualquer outro aplicativo para abri-lo. Alternativamente, você pode usar o Spotlight mantendo pressionadas as teclas <code>CMD</code> e <code>SPACE</code> para localizar o Terminal digitando-o na caixa que aparece.</p>

<p><img src="https://assets.digitalocean.com/articles/eng_python/OSXSetUp/MacOSXSetUp.png" alt="macOS Terminal"></p>

<p>Existem muitos outros comandos do Terminal para aprender que podem permitir que você faça coisas mais poderosas. O artigo “<a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal">An Introduction to the Linux Terminal</a>” pode te orientar melhor com o terminal do Linux, que é semelhante ao teminal do macOS.</p>

<p>Agora que você abriu o Terminal, pode fazer o download e instalar o  <a href="https://developer.apple.com/xcode/">Xcode</a>, um pacote de ferramentas de desenvolvedor que você precisará para instalar o Go.</p>

<h2 id="passo-2-—-instalando-o-xcode">Passo 2 — Instalando o Xcode</h2>

<p>O Xcode é um <em>integrated development environment</em> ou <em>ambiente de desenvolvimento integrado</em> (IDE) composto de ferramentas de desenvolvimento de software para macOS. Você pode verificar se o Xcode já está instalado, digitando o seguinte na janela do Terminal:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">xcode-select -p
</li></ul></code></pre>
<p>A saída a seguir significa que o Xcode está instalado:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>/Library/Developer/CommandLineTools
</code></pre>
<p>Se você recebeu um erro em seu navegador web, instale o <a href="https://itunes.apple.com/us/app/xcode/id497799835?mt=12&amp;ign-mpt=uo%3D2">Xcode a partir da App Store</a> e aceite as opções padrão.</p>

<p>Quando o Xcode estiver instalado, retorne à janela do Terminal. Em seguida, você precisará instalar o app separado de Ferramentas de Linha de Comando do Xcode, que pode ser feito digitando:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">xcode-select --install
</li></ul></code></pre>
<p>Neste ponto, o Xcode e seu app de Ferramentas de Linha de Comando estão totalmente instalados e estamos prontos para instalar o gerenciador de pacotes Homebrew.</p>

<h2 id="passo-3-—-instalando-e-configurando-o-homebrew">Passo 3 — Instalando e Configurando o Homebrew</h2>

<p>Embora o Terminal do macOS tenha muitas das funcionalidades dos Terminais Linux e de outros sistemas Unix, ele não é fornecido com um gerenciador de pacotes que acomoda as melhores práticas. Um <strong>gerenciador de pacotes</strong> é uma coleção de ferramentas de software que trabalham para automatizar processos de instalação que incluem instalação inicial de software, atualização e configuração de software, e remoção de software conforme necessário. Eles mantêm instalações em um local central e podem manter todos os pacotes de software no sistema em formatos comumente usados. <a href="https://brew.sh/"><strong>Homebrew</strong></a> fornece ao macOS um sistema gerenciador de pacotes de software livre e de código aberto que simplifica a instalação de software no macOS.</p>

<p>Para instalar o Homebrew, digite isso na sua janela de Terminal:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
</li></ul></code></pre>
<p>O Homebrew é feito em Ruby, assim ele irá modificar o caminho do Ruby do seu computador. O comando <code>curl</code> baixa um script da URL especificada. Este script explicará o que ele fará e, em seguida, fará uma pausa no processo para solicitar sua confirmação. Isso lhe fornece uma série de comentários sobre o que o script vai fazer no seu sistema e dá a você a oportunidade de verificar o processo.</p>

<p>Se você precisar digitar sua senha, observe que suas teclas não serão exibidas na janela do Terminal, mas serão gravadas. Basta pressionar a tecla <code>return</code> ou <code>enter</code> depois de inserir sua senha. Caso contrário, pressione a letra <code>y</code> para “sim” quando você for solicitado a confirmar a instalação.</p>

<p>Vamos dar uma olhada nas flags associadas ao comando <code>curl</code>:</p>

<ul>
<li>A flag <code>-f</code> ou <code>--fail</code> informa à janela do Terminal para não dar saída de documento HTML nos erros de servidor.</li>
<li>A flag <code>-s</code> ou <code>--silent</code> silencia o <code>curl</code> para que ele não mostre o medidor de progresso, e combinada com a flag <code>-S</code> ou <code>--show-error</code> ela irá assegurar que <code>curl</code> mostre uma mensagem de erro se falhar.</li>
<li>A flag <code>-L</code> ou <code>--location</code> informará ao <code>curl</code> para refazer a solicitação para um novo local se o servidor informar que a página solicitada foi movida para um local diferente.</li>
</ul>

<p>Quando o processo de instalação estiver concluído, colocaremos o diretório Homebrew no começo da variável de ambiente <code>PATH</code>. Isso garantirá que as instalações do Homebrew serão chamadas antes das ferramentas que o macOS possa selecionar automaticamente e que podem ser executadas em contraposição ao ambiente de desenvolvimento que estamos criando.</p>

<p>Você deve criar ou abrir o arquivo <code>~/.bash_profile</code> com o editor de texto de linha de comando <strong>nano</strong> usando o comando <code>nano</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano ~/.bash_profile
</li></ul></code></pre>
<p>Quando o arquivo abrir na janela do Terminal, escreva o seguinte:</p>
<pre class="code-pre "><code langs="">export PATH=/usr/local/bin:$PATH
</code></pre>
<p>Para salvar suas alterações, mantenha pressionada a tecla <code>CTRL</code> e a letra <code>o</code> e, quando solicitado, pressione a tecla <code>RETURN</code>. Agora você pode sair do nano segurando a tecla <code>CTRL</code> e a letra <code>x</code>.</p>

<p>Ative essas alterações executando o seguinte no Terminal:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/.bash_profile
</li></ul></code></pre>
<p>Depois de fazer isso, as alterações feitas na variável de ambiente <code>PATH</code> entrarão em vigor.</p>

<p>Você pode ter certeza de que o Homebrew foi instalado com sucesso digitando:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">brew doctor
</li></ul></code></pre>
<p>Se nenhuma atualização for necessária neste momento, a saída do Terminal mostrará:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Your system is ready to brew.
</code></pre>
<p>Caso contrário, você pode receber um aviso para executar outro comando, como <code>brew update</code>, para garantir que sua instalação do Homebrew esteja atualizada.</p>

<p>Uma vez que o Homebrew está pronto, você pode instalar o Go.</p>

<h2 id="passo-4-—-instalando-o-go">Passo 4 — Instalando o Go</h2>

<p>Você pode usar o Homebrew para procurar por todos os pacotes disponíveis com o comando <code>brew search</code>. Para o propósito deste tutorial, você irá procurar por pacotes ou módulos relacionados ao Go:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">brew search golang
</li></ul></code></pre>
<p><span class='note'><strong>Nota</strong>: Este tutorial não usa <code>brew search go</code>, pois isso retorna muitos resultados. Como <code>go</code> é uma palavra muito pequena e combinaria com muitos pacotes, tornou-se comum usar <code>golang</code> como termo de busca. Essa é uma prática comum quando se pesquisa na Internet por artigos relacionados ao Go também. O termo <em>Golang</em> nasceu a partir do domínio para o Go, que é <code>golang.org</code>.<br></span></p>

<p>O Terminal mostrará uma lista do que você pode instalar:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>golang  golang-migrate
</code></pre>
<p>O Go estará entre os itens da lista. Vá em frente e instale-o:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">brew install golang
</li></ul></code></pre>
<p>A janela do Terminal lhe dará feedback sobre o processo de instalação do Go. Pode demorar alguns minutos antes da conclusão da instalação.</p>

<p>Para verificar a versão do Go que você instalou, digite o seguinte:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go version
</li></ul></code></pre>
<p>Isso mostrará a versão específica do Go que está atualmente instalada, que por padrão será a versão mais atualizada e estável do Go disponível.</p>

<p>No futuro, para atualizar o Go, você pode executar os seguintes comandos para atualizar o Homebrew e depois atualizar o Go. Você não precisa fazer isso agora, pois acabou de instalar a versão mais recente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">brew update
</li><li class="line" prefix="$">brew upgrade golang
</li></ul></code></pre>
<p><code>brew update</code> atualizará as fórmulas para o próprio Homebrew, garantindo que você tenha as informações mais recentes sobre os pacotes que deseja instalar. <code>brew upgrade golang</code> atualizará o pacote <code>golang</code> para a sua última versão.</p>

<p>É uma boa prática garantir que sua versão do Go esteja atualizada.</p>

<p>Com o Go instalado no seu computador, você está pronto para criar um workspace para seus projetos de Go.</p>

<h2 id="passo-5-—-criando-o-seu-workspace-go">Passo 5 — Criando o seu Workspace Go</h2>

<p>Agora que você tem o Xcode, Homebrew e Go instalados, você pode criar seu workspace de programação.</p>

<p>O workspace do Go conterá dois diretórios em sua raiz:</p>

<ul>
<li><code>src</code>: O diretório que contém os arquivos-fonte do Go. Um arquivo-fonte é um arquivo que você escreve usando a linguagem de programação Go. Arquivos-fonte são usados pelo compilador Go para criar um arquivo binário executável.</li>
<li><code>bin</code>: O diretório que contém executáveis compilados e instalados pelas ferramentas Go. Executáveis são arquivos binários que são executados em seu sistema e executam tarefas. Estes são normalmente os programas compilados a partir do seu código-fonte ou outro código-fonte Go baixado.</li>
</ul>

<p>O subdiretório <code>src</code> pode conter vários repositórios de controle de versão (tais como o <a href="https://git-scm.com/">Git</a>, o <a href="https://www.mercurial-scm.org/">Mercurial</a>, e o <a href="http://bazaar.canonical.com">Bazaar</a>). Você verá diretórios como <code>github.com</code>, <code>golang.org</code> ou outros quando seu programa importar bibliotecas de terceiros. Se você estiver usando um repositório de código como o <code>github.com</code>, você também colocará seus projetos e arquivos-fonte nesse diretório. Isso permite uma importação canônica de código em seu projeto. As importações <em>Canônicas</em> são importações que fazem referência a um pacote completo, como o <code>github.com/digitalocean/godo</code>.</p>

<p>Aqui está como pode se parecer um workspace típico:</p>
<pre class="code-pre plain"><code langs="">.
├── bin
│   ├── buffalo                                      # comando executável
│   ├── dlv                                          # comando executável
│   └── packr                                        # comando executável
└── src
    └── github.com
        └── digitalocean
            └── godo
                ├── .git                            # metadados do repositório do Git
                ├── account.go                      # fonte do pacote
                ├── account_test.go                 # fonte do teste
                ├── ...
                ├── timestamp.go
                ├── timestamp_test.go
                └── util
                    ├── droplet.go
                    └── droplet_test.go
</code></pre>
<p>O diretório padrão para o workspace Go a partir da versão 1.8 é o diretório home do usuário com um subdiretório <code>go</code> ou <code>$HOME/go</code>. Se você estiver usando uma versão anterior à 1.8 do Go, ainda é considerado uma boa prática usar o local <code>$HOME/go</code> para o seu workspace.</p>

<p>Execute o seguinte comando para criar a estrutura de diretórios para o seu workspace Go:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir -p $HOME/go/{bin,src}
</li></ul></code></pre>
<p>A opção <code>-p</code> diz ao <code>mkdir</code> para criar todos os <code>subdiretórios</code> no diretório, mesmo que eles não existam atualmente. A utilização do <code>{bin, src}</code> cria um conjunto de argumentos para <code>mkdir</code> e diz para ele criar tanto o diretório<code>bin</code> quanto o diretório <code>src</code>.</p>

<p>Isso garantirá que a seguinte estrutura de diretórios esteja em vigor:</p>
<pre class="code-pre plain"><code langs="">└── $HOME
    └── go
        ├── bin
        └── src
</code></pre>
<p>Antes do Go 1.8, era necessário definir uma variável de ambiente local chamada <code>$GOPATH</code>. Embora não seja mais explicitamente exigido fazer isso, ainda é considerada uma boa prática, pois muitas ferramentas de terceiros ainda dependem da configuração dessa variável.</p>

<p>Você pode definir seu <code>$GOPATH</code> adicionando-o ao seu <code>~/.bash_profile</code>.</p>

<p>Primeiro, abra <code>~/.bash_profile</code> com o <code>nano</code> ou seu editor de texto preferido:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano ~/.bash_profile
</li></ul></code></pre>
<p>Defina seu <code>$GOPATH</code> adicionando o seguinte ao arquivo:</p>
<div class="code-label " title="~/.bash_profile">~/.bash_profile</div><pre class="code-pre "><code class="code-highlight language-sh">export GOPATH=$HOME/go
</code></pre>
<p>Quando o Go compila e instala ferramentas, ele as coloca no diretório <code>$GOPATH/bin</code>. Por conveniência, é comum adicionar o subdiretório <code>/bin</code> do workspace ao seu <code>PATH</code> no seu arquivo <code>~/.bash_profile</code>:</p>
<div class="code-label " title="~/.bash_profile">~/.bash_profile</div><pre class="code-pre "><code class="code-highlight language-sh">export PATH=$PATH:$GOPATH/bin
</code></pre>
<p>Agora você deve ter as seguintes entradas no seu <code>~/.bash_profile</code>:</p>
<div class="code-label " title="~/.bash_profile">~/.bash_profile</div><pre class="code-pre "><code class="code-highlight language-sh">export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
</code></pre>
<p>Agora, isso permitirá que você execute todos os programas compilados ou baixados por meio das ferramentas Go em qualquer parte do seu sistema.</p>

<p>Para atualizar seu shell, execute o seguinte comando para carregar as variáveis globais que você acabou de criar:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">. ~/.bash_profile
</li></ul></code></pre>
<p>Você pode verificar que seu <code>$PATH</code> está atualizado usando o comando <code>echo</code> e inspecionando a saída:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">echo $PATH
</li></ul></code></pre>
<p>Você deve ver seu <code>$GOPATH/bin</code>, que aparecerá no seu diretório home. Se você estivesse logado como <code>sammy</code>, você veria <code>/Users/sammy/go/bin</code> no caminho.</p>
<pre class="code-pre "><code class="code-highlight language-sh"><div class="secondary-code-label " title="Output">Output</div><span class="highlight">/Users/sammy/go/bin</span>:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
</code></pre>
<p>Agora que você tem a raiz do workspace criada e sua variável de ambiente <code>$GOPATH</code> definida, você pode criar seus projetos futuros com a seguinte estrutura de diretórios. Este exemplo assume que você está usando o <a href="https://www.github.com">github.com</a> como seu repositório:</p>
<pre class="code-pre plain"><code langs="">$GOPATH/src/<span class="highlight">github.com</span>/<span class="highlight">username</span>/<span class="highlight">project</span>
</code></pre>
<p>Se você estivesse trabalhando no projeto <a href="https://github.com/digitalocean/godo"><code>https://github.com/digitalocean/godo</code></a>, você iria colocá-lo no seguinte diretório:</p>
<pre class="code-pre plain"><code langs="">$GOPATH/src/<span class="highlight">github.com</span>/<span class="highlight">digitalocean</span>/<span class="highlight">godo</span>
</code></pre>
<p>Estruturar seus projetos dessa maneira tornará os projetos disponíveis com a ferramenta <code>go get</code>. Isso também ajudará a legibilidade mais tarde.</p>

<p>Você pode verificar isso usando o comando <code>go get</code> para buscar a biblioteca <code>godo</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go get github.com/digitalocean/godo
</li></ul></code></pre>
<p>Você pode ver se baixou com sucesso o pacote <code>godo</code> listando o diretório:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ls -l $GOPATH/src/github.com/digitalocean/godo
</li></ul></code></pre>
<p>Você deve ver uma saída semelhante a esta:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>-rw-r--r--  1 sammy  staff   2892 Apr  5 15:56 CHANGELOG.md
-rw-r--r--  1 sammy  staff   1851 Apr  5 15:56 CONTRIBUTING.md
.
.
.
-rw-r--r--  1 sammy  staff   4893 Apr  5 15:56 vpcs.go
-rw-r--r--  1 sammy  staff   4091 Apr  5 15:56 vpcs_test.go
</code></pre>
<p>Neste passo, você criou um workspace Go e configurou as variáveis de ambiente necessárias. No próximo passo, você testará o workspace com algum código.</p>

<h2 id="passo-6-—-criando-um-programa-simples">Passo 6 — Criando um Programa Simples</h2>

<p>Agora que você tem o workspace Go configurado, é hora de criar um simples programa “Hello, World!”. Isso garantirá que o workspace esteja configurado corretamente e também lhe dará a oportunidade de se familiarizar com o Go. </p>

<p>Como estamos criando um único arquivo-fonte Go, e não um projeto real, não precisamos estar em nosso workspace para fazer isso.</p>

<p>A partir do seu diretório home, abra um editor de texto de linha de comando, como o <code>nano</code>, e crie um novo arquivo:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano hello.go
</li></ul></code></pre>
<p>Quando o arquivo de texto abrir no Terminal, digite seu programa:</p>
<pre class="code-pre "><code class="code-highlight language-go">package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
</code></pre>
<p>Saia do nano pressionando as teclas <code>control</code> e <code>x</code>, e quando solicitado a salvar o arquivo, pressione <code>y</code>.</p>

<p>Este código usará o pacote <code>fmt</code> e chamará a função <code>Println</code> com <code>Hello, World!</code> como argumento. Isso fará com que a frase <code>Hello, World!</code> seja impressa no terminal quando o programa for executado.</p>

<p>Ao sair do <code>nano</code> e retornar ao seu shell, execute o programa:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go run hello.go
</li></ul></code></pre>
<p>O programa <code>hello.go</code> que você acabou de criar fará com que o Terminal produza a seguinte saída:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>Neste passo, você usou um programa básico para verificar se seu workspace Go está configurado corretamente.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Parabéns! Neste ponto, você tem um workspace de programação Go configurado em sua máquina local com macOS e pode começar um projeto de codificação!</p>
