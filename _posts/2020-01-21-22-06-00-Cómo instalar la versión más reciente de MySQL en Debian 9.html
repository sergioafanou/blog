---
layout: post
title: Cómo instalar la versión más reciente de MySQL en Debian 9
network: digitalocean
date: January 21, 2020 at 10:06PM
url: https://www.digitalocean.com/community/tutorials/how-to-install-the-latest-mysql-on-debian-9-es
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introducción">Introducción</h3>

<p><a href="https://www.mysql.com/">MySQL</a> es un destacado sistema de administración de bases de datos de código abierto que se usa para almacenar y recuperar datos para una gran variedad de aplicaciones populares. MySQL está representado por la letra <strong>M</strong> en la sigla de la pila <em>LAMP</em>, un conjunto de software de código abierto de uso común, en la que también se incluyen Linux, el servidor web Apache y el lenguaje de programación de PHP.</p>

<p>En Debian 9, MariaDB, una ramificación de la comunidad del proyecto MySQL se incluye como la variante predeterminada de MySQL. Aunque MariaDB funciona correctamente en la mayoría de los casos, si necesita las funciones que solo encontrará en MySQL de Oracle puede instalar y usar paquetes desde un repositorio de cuyo mantenimiento se encargan los desarrolladores de MySQL.</p>

<p>Para instalar la última versión de MySQL, añadiremos este repositorio, instalaremos el propio software de MySQL, protegeremos la instalación y, por último, probaremos que MySQL funcione y responda a los comandos.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>Antes de comenzar con este tutorial, necesitará lo siguiente:</p>

<ul>
<li>Un servidor de Debian 9 configurado siguiendo esta <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-9">guía de configuración inicial para servidores</a>, un usuario no *<em>root *</em>con privilegios <code>sudo</code> y un firewall.</li>
</ul>

<h2 id="paso-1-añadir-el-repositorio-de-software-de-mysql">Paso 1: Añadir el repositorio de software de MySQL</h2>

<p>Los desarrolladores de MySQL proporcionan un paquete <code>.deb</code> que gestiona la configuración e instalación de los repositorios de software oficiales de MySQL. Una vez configurados los repositorios, podremos usar el comando estándar <code>apt</code> de Ubuntu para instalar el software. Descargaremos este archivo <code>.deb</code> con <code>wget</code> y luego lo instalaremos con el comando <code>dpkg</code>.</p>

<p>Primero, cargue <a href="https://dev.mysql.com/downloads/repo/apt/">la página de descarga de MySQL</a> en su navegador web. Busque el botón <strong>Descargar</strong> en la esquina inferior derecha y haga clic para llegar a la página siguiente. En esta página se solicitará que inicie sesión o se registre para crear una cuenta web Oracle. Podemos omitir esto y en vez de eso buscar el enlace que dice <strong>No thanks, just start my download</strong> (no, gracias, simplemente quiero iniciar mi descarga). Haga clic con el botón secundario del ratón y seleccione <strong>Copiar dirección de enlace</strong> (la redacción de esta opción puede diferir según su navegador).</p>

<p>Ahora, descargaremos el archivo. En su servidor, diríjase a un directorio en el que pueda realizar tareas de escritura. Descargue el archivo usando <code>wget</code>; recuerde pegar la dirección que acaba de copiar en lugar de la parte resaltada a continuación:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /tmp
</li><li class="line" prefix="$">wget <span class="highlight">https://dev.mysql.com/get/mysql-apt-config_0.8.10-1_all.deb</span>
</li></ul></code></pre>
<p>El archivo debería descargarse en el directorio actual. Enumere los archivos para asegurarse:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ls
</li></ul></code></pre>
<p>Debería poder ver el nombre del archivo que se indica:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>mysql-apt-config_<span class="highlight">0.8.10-1</span>_all.deb
. . .
</code></pre>
<p>Ahora estamos listos para la instalación:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo dpkg -i mysql-apt-config*
</li></ul></code></pre>
<p><code>dpkg</code> se utiliza para instalar, eliminar e inspeccionar paquetes de software <code>.deb</code>. El indicador <code>-i</code> muestra que deseamos realizar la instalación con el archivo especificado.</p>

<p>Durante la instalación, se le presentarán una pantalla de configuración en la que podrá especificar la versión de MySQL que prefiere y una opción de instalación de repositorios para otras herramientas relacionadas con MySQL. Los valores predeterminados no añadirán más que la información sobre repositorios para la última versión estable de MySQL. Esto es lo que deseamos. Por ello, utilice la flecha hacia abajo para buscar la opción de menú <code>Ok</code> y pulse <code>ENTER</code>.</p>

<p>Con esto, el paquete terminará de añadir el repositorio. Actualice su caché de paquetes <code>apt</code> para que estén disponibles los nuevos paquetes de software:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Ahora que agregamos los repositorios de MySQL, estamos listos para instalar el propio software de servidor de MySQL. Si alguna vez necesita actualizar la configuración de estos repositorios, ejecute <code>sudo dpkg-reconfigure mysql-apt-config</code>, seleccione las nuevas opciones y luego use <code>sudo apt-get update</code> para actualizar la caché de su paquete.</p>

<h2 id="paso-2-instalar-mysql">Paso 2: Instalar MySQL</h2>

<p>Una vez agregado el repositorio, y con nuestra caché de paquetes recién actualizada, podremos usar <code>apt</code> para instalar el último paquete de servidor de MySQL:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install mysql-server
</li></ul></code></pre>
<p><code>apt</code> analizará todos los paquetes <code>mysql-server</code> disponibles y determinará que el paquete MySQL proporcionado es el más nuevo y adecuado. Luego, la herramienta calculará las dependencias del paquete y solicitará que apruebe la instalación. Escriba <code>Y</code> y luego pulse <code>ENTER</code>. Con esto, se instalará el software.</p>

<p>Se le solicitará establecer una contraseña de <strong>root</strong> durante la etapa de configuración de la instalación. Seleccione y confirme una contraseña segura para continuar. A continuación, aparecerá una solicitud para que seleccione un complemento de autenticación predeterminado. Lea el contenido para comprender las opciones. Si tiene dudas, la opción Use <strong>Strong Password Encrypt (usar</strong> cifrado de contraseña segura) ofrece más protección.</p>

<p>Con esto, MySQL debería quedar instalado y activo. Haremos una comprobación usando <code>systemctl</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status mysql
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>● mysql.service - MySQL Community Server
   Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled)
   <span class="highlight">Active: active (running)</span> since Wed 2018-09-05 15:58:21 UTC; 30s ago
     Docs: man:mysqld(8)
           http://dev.mysql.com/doc/refman/en/using-systemd.html
 Main PID: 12805 (mysqld)
   Status: "SERVER_OPERATING"
   CGroup: /system.slice/mysql.service
           └─12805 /usr/sbin/mysqld

Sep 05 15:58:15 mysql1 systemd[1]: Starting MySQL Community Server...
Sep 05 15:58:21 mysql1 systemd[1]: <span class="highlight">Started MySQL Community Server.</span>
</code></pre>
<p>La línea <code>Active: active (running)</code> indica que MySQL está instalado y en ejecución. A continuación, haremos que la instalación sea un poco más segura.</p>

<h2 id="paso-3-proteger-mysql">Paso 3: Proteger MySQL</h2>

<p>MySQL cuenta con un comando que podemos usar para realizar algunas actualizaciones de seguridad en nuestra nueva instalación. Lo ejecutaremos:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql_secure_installation
</li></ul></code></pre>
<p>Con esto, se solicitará la contraseña de <strong>root</strong> de MySQL que estableció durante la instalación. Escríbala y pulse <code>ENTER</code>. A continuación, responderemos a una serie de solicitudes con respuestas “Sí” o “No”. Vamos a verlas:</p>

<p>Primero, se nos hará una pregunta sobre el <strong>complemento de validación de contraseña</strong>, un complemento que puede imponer de forma automática determinadas reglas de seguridad de contraseñas para sus usuarios de MySQL. Habilitar esto es una decisión que deberá tomar según sus necesidades de seguridad particulares. Escriba <code>y</code> y luego pulse <code>ENTER</code> para habilitarlo, o simplemente pulse <code>ENTER</code> para omitirlo. Si el parámetro se habilita, también se le solicitará elegir un nivel de 0 a 2 para establecer cuán estricta será la validación de la contraseña. Seleccione un número y pulse <code>ENTER</code> para continuar.</p>

<p>A continuación, se le preguntará si desea cambiar la contraseña de <strong>root</strong>. Debido a que acabamos de crear la contraseña cuando instalamos MySQL, podemos omitir esto de forma segura. Pulse <code>ENTER</code> para continuar sin actualizar la contraseña.</p>

<p>Puede responder el resto de las preguntas con la opción <strong>Yes</strong>. Se le preguntará si desea eliminar el usuario MySQL <strong>anónimo,</strong> deshabilitar el inicio de sesión <strong>de root</strong> remoto, eliminar la base de datos <strong>de prueba</strong> y volver a cargar las tablas de privilegios para garantizar que los cambios anteriores se apliquen correctamente. Todo esto es recomendable. Escriba <code>y</code> y pulse <code>ENTER</code> para cada pregunta.</p>

<p>La secuencia de comandos se cerrará una vez que responda todas las preguntas. Con esto, nuestra instalación de MySQL tendrá un nivel de protección razonable. Haremos otra prueba ejecutando un cliente que se conecte al servidor y muestre información.</p>

<h2 id="paso-4-probar-mysql">Paso 4: Probar MySQL</h2>

<p><code>mysqladmin</code> es un cliente administrativo de línea de comandos para MySQL. Lo usaremos para establecer conexión con el servidor y extraer información sobre la versión y el estado:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysqladmin -u root -p version
</li></ul></code></pre>
<p>La parte <code>-u root</code> indica a <code>mysqladmin</code> que inicie sesión como el usuario <strong>root</strong> de MySQL, <code>-p</code> indica al cliente que solicite una contraseña, y <code>version</code> es el comando que queremos ejecutar.</p>

<p>El resultado nos permitirá conocer la versión del servidor MySQL que está en ejecución, su tiempo de conexión y otros datos sobre el estado:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>mysqladmin  Ver 8.0.12 for Linux on x86_64 (MySQL Community Server - GPL)
Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Server version      8.0.12
Protocol version    10
Connection      Localhost via UNIX socket
UNIX socket     /var/run/mysqld/mysqld.sock
Uptime:         6 min 42 sec

Threads: 2  Questions: 12  Slow queries: 0  Opens: 123  Flush tables: 2  Open tables: 99  Queries per second avg: 0.029
</code></pre>
<p>Si recibió un resultado similar, ¡felicitaciones! Habrá instalado y protegido de forma correcta el servidor más reciente de MySQL.</p>

<h2 id="conclusión">Conclusión</h2>

<p>De esta manera, completó una instalación básica de la versión más reciente de MySQL, que debería funcionar para muchas aplicaciones populares:</p>
