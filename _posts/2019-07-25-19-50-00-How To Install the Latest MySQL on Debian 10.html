---
layout: post
title: How To Install the Latest MySQL on Debian 10
network: digitalocean
date: July 25, 2019 at 07:50PM
url: https://www.digitalocean.com/community/tutorials/how-to-install-the-latest-mysql-on-debian-10
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introduction">Introduction</h3>

<p><a href="https://www.mysql.com/">MySQL</a> is a prominent open source database management system used to store and retrieve data for a wide variety of popular applications. MySQL is the <strong>M</strong> in the <em>LAMP</em> stack, a commonly used set of open source software that also includes Linux, the Apache web server, and the PHP programming language.</p>

<p>In Debian 10, MariaDB, a community fork of the MySQL project, is packaged as the default MySQL variant. While MariaDB works well in most cases, if you need features found only in Oracle's MySQL, you can install and use packages from a repository maintained by the MySQL developers.</p>

<p>To install the latest version of MySQL, we'll add this repository, install the MySQL software itself, secure the install, and finally we'll test that MySQL is running and responding to commands.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before starting this tutorial, you will need:</p>

<ul>
<li>One Debian 10 server set up by following <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-10">this initial server setup guide</a>, including a non-<strong>root</strong> user with <code>sudo</code> privileges and a firewall.</li>
</ul>

<h2 id="step-1-—-adding-the-mysql-software-repository">Step 1 — Adding the MySQL Software Repository</h2>

<p>The MySQL developers provide a <code>.deb</code> package that handles configuring and installing the official MySQL software repositories.  Once the repositories are set up, we'll be able to use Debian's standard <code>apt</code> command to install the software. </p>

<p>Before we do this, we need to install the prerequisite <a href="https://gnupg.org/">GnuPG</a> package, an open-source implementation of the <a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy#OpenPGP">OpenPGP standard</a>.</p>

<p>Let's begin by updating the local package index to reflect the latest upstream changes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Then, install the <code>gnupg</code> package:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install gnupg
</li></ul></code></pre>
<p>After confirming the installation, apt will install <code>gnupg</code> and its dependencies.</p>

<p>Next, we’ll download the MySQL <code>.deb</code> package with <code>wget</code> and then install it using the <code>dpkg</code> command.</p>

<p>Load <a href="https://dev.mysql.com/downloads/repo/apt/">the MySQL download page</a> in your web browser.  Find the <strong>Download</strong> button in the lower-right corner and click through to the next page.  This page will prompt you to log in or sign up for an Oracle web account.  We can skip that and instead look for the link that says <strong>No thanks, just start my download</strong>.  Right-click the link and select <strong>Copy Link Address</strong> (this option may be worded differently, depending on your browser).</p>

<p>Now we're going to download the file.  On your server, move to a directory you can write to.  Download the file using <code>wget</code>, remembering to paste the address you just copied in place of the highlighted portion below:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /tmp
</li><li class="line" prefix="$">wget <span class="highlight">https://dev.mysql.com/get/mysql-apt-config_0.8.13-1_all.deb</span>
</li></ul></code></pre>
<p>The file should now be downloaded in our current directory.  List the files to make sure:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ls
</li></ul></code></pre>
<p>You should see the filename listed:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>mysql-apt-config_<span class="highlight">0.8.13-1</span>_all.deb
. . .
</code></pre>
<p>Now we're ready to install:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo dpkg -i mysql-apt-config*
</li></ul></code></pre>
<p><code>dpkg</code> is used to install, remove, and inspect <code>.deb</code> software packages.  The <code>-i</code> flag indicates that we'd like to install from the specified file.</p>

<p>During the installation, you'll be presented with a configuration screen where you can specify which version of MySQL you'd prefer, along with an option to install repositories for other MySQL-related tools.  The defaults will add the repository information for the latest stable version of MySQL and nothing else.  This is what we want, so use the down arrow to navigate to the <code>Ok</code> menu option and hit <code>ENTER</code>.</p>

<p>The package will now finish adding the repository.  Refresh your <code>apt</code> package cache to make the new software packages available:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Now that we've added the MySQL repositories, we're ready to install the actual MySQL server software.  If you ever need to update the configuration of these repositories, just run <code>sudo dpkg-reconfigure mysql-apt-config</code>, select new options, and then <code>sudo apt-get update</code> to refresh your package cache.</p>

<h2 id="step-2-—-installing-mysql">Step 2 — Installing MySQL</h2>

<p>Having added the repository and with our package cache freshly updated, we can now use <code>apt</code> to install the latest MySQL server package:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install mysql-server
</li></ul></code></pre>
<p><code>apt</code> will look at all available <code>mysql-server</code> packages and determine that the MySQL provided package is the newest and best candidate.  It will then calculate package dependencies and ask you to approve the installation.  Type <code>y</code> then <code>ENTER</code>.  The software will install.</p>

<p>You will be asked to set a <strong>root</strong> password during the configuration phase of the installation.  Choose and confirm a secure password to continue.  Next, a prompt will appear asking for you to select a default authentication plugin.  Read the display to understand the choices.  If you are not sure, choosing <strong>Use Strong Password Encryption</strong> is safer.</p>

<p>MySQL should be installed and running now.  Let's check using <code>systemctl</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status mysql
</li></ul></code></pre><pre class="code-pre "><code langs="">● mysql.service - MySQL Community Server
   Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled)
   Active: <span class="highlight">active (running)</span> since Thu 2019-07-25 17:20:12 UTC; 3s ago
     Docs: man:mysqld(8)
           http://dev.mysql.com/doc/refman/en/using-systemd.html
  Process: 2673 ExecStartPre=/usr/share/mysql-8.0/mysql-systemd-start pre (code=exited, status=0/SUCCESS)
 Main PID: 2709 (mysqld)
   Status: "Server is operational"
    Tasks: 39 (limit: 4915)
   Memory: 378.4M
   CGroup: /system.slice/mysql.service
           └─2709 /usr/sbin/mysqld

Jul 25 17:20:10 sammy systemd[1]: Starting MySQL Community Server...
Jul 25 17:20:12 sammy systemd[1]: Started MySQL Community Server.
</code></pre>
<p>The <code>Active: active (running)</code> line means MySQL is installed and running.  Now we'll make the installation a little more secure.</p>

<h2 id="step-3-—-securing-mysql">Step 3 — Securing MySQL</h2>

<p>MySQL comes with a command we can use to perform a few security-related updates on our new install.  Let's run it now:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql_secure_installation
</li></ul></code></pre>
<p>This will ask you for the MySQL <strong>root</strong> password that you set during installation. Type it in and press <code>ENTER</code>.  Now we'll answer a series of yes or no prompts. Let's go through them:</p>

<p>First, we are asked about the <strong>validate password plugin</strong>, a plugin that can automatically enforce certain password strength rules for your MySQL users.  Enabling this is a decision you'll need to make based on your individual security needs.  Type <code>y</code> and <code>ENTER</code> to enable it, or just hit <code>ENTER</code> to skip it.  If enabled, you will also be prompted to choose a level from 0–2 for how strict the password validation will be.  Choose a number and hit <code>ENTER</code> to continue.</p>

<p>Next you'll be asked if you want to change the <strong>root</strong> password.  Since we just created the password when we installed MySQL, we can safely skip this.  Hit <code>ENTER</code> to continue without updating the password.</p>

<p>The rest of the prompts can be answered <strong>yes</strong>.  You will be asked about removing the <strong>anonymous</strong> MySQL user, disallowing remote <strong>root</strong> login, removing the <strong>test</strong> database, and reloading privilege tables to ensure the previous changes take effect properly.  These are all a good idea. Type <code>y</code> and hit <code>ENTER</code> for each.</p>

<p>The script will exit after all the prompts are answered.  Now our MySQL installation is reasonably secured.  Let's test it again by running a client that connects to the server and returns some information.</p>

<h2 id="step-4-–-testing-mysql">Step 4 – Testing MySQL</h2>

<p><code>mysqladmin</code> is a command line administrative client for MySQL.  We'll use it to connect to the server and output some version and status information:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysqladmin -u root -p version
</li></ul></code></pre>
<p>The <code>-u root</code> portion tells <code>mysqladmin</code> to log in as the MySQL <strong>root</strong> user, <code>-p</code> instructs the client to ask for a password, and <code>version</code> is the actual command we want to run.</p>

<p>The output will let us know what version of the MySQL server is running, its uptime, and some other status information:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>mysqladmin  Ver 8.0.17 for Linux on x86_64 (MySQL Community Server - GPL)
Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Server version      8.0.17
Protocol version    10
Connection      Localhost via UNIX socket
UNIX socket     /var/run/mysqld/mysqld.sock
Uptime:         3 min 9 sec

Threads: 2  Questions: 10  Slow queries: 0  Opens: 128  Flush tables: 3  Open tables: 48  Queries per second avg: 0.052
</code></pre>
<p>This output confirms that you've successfully installed and secured the latest MySQL server.</p>

<h2 id="conclusion">Conclusion</h2>

<p>You've now installed the latest stable version of MySQL, which should work for many popular applications.</p>
