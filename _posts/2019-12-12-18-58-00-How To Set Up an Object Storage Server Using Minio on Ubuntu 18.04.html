---
layout: post
title: How To Set Up an Object Storage Server Using Minio on Ubuntu 18.04
network: digitalocean
date: December 12, 2019 at 06:58PM
url: https://www.digitalocean.com/community/tutorials/how-to-set-up-an-object-storage-server-using-minio-on-ubuntu-18-04
image: https://assets.digitalocean.com/articles/cart-66199/Minio_login_screen.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>The author selected the <a href="https://www.brightfunds.org/funds/open-internet-free-speech">Open Internet/Free Speech Fund</a> to receive a donation as part of the <a href="https://do.co/w4do-cta">Write for DOnations</a> program.</em></p>

<h3 id="introduction">Introduction</h3>

<p>From cloud-based backup solutions to high-availability <a href="https://www.digitalocean.com/community/tutorials/using-a-cdn-to-speed-up-static-content-delivery">content delivery networks (CDNs)</a>, the ability to store unstructured blobs of object data and make them accessible through HTTP APIs, known as <a href="https://www.digitalocean.com/community/tutorials/object-storage-vs-block-storage-services#what-is-object-storage"><em>object storage</em></a>, has become an integral part of the modern technology landscape. </p>

<p><a href="https://www.minio.io/">Minio</a> is a popular open-source object storage server compatible with the <a href="https://aws.amazon.com/free/storage/?sc_channel=PS&amp;sc_campaign=acquisition_US&amp;sc_publisher=google&amp;sc_medium=ACQ-P%7CPS-GO%7CBrand%7CDesktop%7CSU%7CStorage%7CS3%7CUS%7CEN%7CText&amp;sc_content=s3_e&amp;sc_detail=amazon%20s3&amp;sc_category=Storage&amp;sc_segment=293617570044&amp;sc_matchtype=e&amp;sc_country=US&amp;s_kwcid=AL!4422!3!293617570044!e!!g!!amazon%20s3&amp;ef_id=EAIaIQobChMI0JiSkYys5gIVRZyzCh3Y8wcFEAAYASAAEgLqg_D_BwE:G:s">Amazon S3 cloud storage service</a>. Applications that have been configured to talk to Amazon S3 can also be configured to talk to Minio, allowing Minio to be a viable alternative to S3 if you want more control over your object storage server. The service stores unstructured data such as photos, videos, log files, backups, and container/VM images, and can even provide a single object storage server that pools multiple drives spread across many servers.</p>

<p>Minio is written in Go, comes with a command line client plus a browser interface, and supports simple queuing service for <a href="https://www.digitalocean.com/community/tutorials/an-advanced-message-queuing-protocol-amqp-walkthrough">Advanced Message Queuing Protocol (AMQP)</a>, <a href="https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elastic-stack-on-ubuntu-18-04">Elasticsearch</a>, <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04">Redis</a>, <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-nats-on-ubuntu-16-04">NATS</a>, and <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-ubuntu-18-04">PostgreSQL</a> targets. For all of these reasons, learning to set up a Minio object storage server can add a wide range of flexibility and utility to your project.</p>

<p>In this tutorial, you will:</p>

<ul>
<li><p>Install the Minio server on your Ubuntu 18.04 server and configure it as a <a href="https://www.digitalocean.com/community/tutorials/systemd-essentials-working-with-services-units-and-the-journal"><code>systemd</code> service</a>.</p></li>
<li><p>Set up an SSL/TLS certificate using <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a> to secure communication between the server and the client.</p></li>
<li><p>Access Minio&rsquo;s browser interface via HTTPS to use and administrate the server.</p></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<p>To complete this tutorial, you will need:</p>

<ul>
<li><p>One Ubuntu 18.04 server set up by following <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">our Ubuntu 18.04 initial server setup tutorial</a>, including a sudo non-root user and a firewall.</p></li>
<li><p>A fully registered domain name. You can purchase one on <a href="https://namecheap.com">Namecheap</a> or get one for free on <a href="http://www.freenom.com/en/index.html">Freenom</a>. In this tutorial, your domain will be represented as <code><span class="highlight">your_domain</span></code>.</p></li>
<li><p>The following DNS records set up for your Minio server. You can follow <a href="https://www.digitalocean.com/docs/networking/dns/how-to/manage-records/">our DNS records documentation</a> for details on how to add them for a DigitalOcean Droplet.</p>

<ul>
<li>An A record with your server name (e.g. <code><span class="highlight">minio-server.your_domain</span></code>) pointing to your object server&rsquo;s IPv4 address.</li>
<li><strong>(Optional)</strong> If you want your server reachable via IPv6, you&rsquo;ll need an AAAA record with your server name pointing to your object server&rsquo;s IPv6 address.</li>
</ul></li>
</ul>

<h2 id="step-1-mdash-installing-and-configuring-the-minio-server">Step 1 — Installing and Configuring the Minio Server</h2>

<p>You can install the Minio server by compiling the source code or via a binary file. To install it from the source, you need to have at least <a href="https://golang.org/doc/go1.12">Go 1.12</a> installed on your system.</p>

<p>In this step, you will install the server through the precompiled binary and then configure the Minio server afterward.</p>

<p>First, log in to your server, replacing <code><span class="highlight">sammy</span></code> with your username and <code><span class="highlight">your_server_ip</span></code> with your Ubuntu 18.04 server&rsquo;s IP address:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh <span class="highlight">sammy</span>@<span class="highlight">your_server_ip</span>
</li></ul></code></pre>
<p>If you haven&rsquo;t updated the package database recently, update it now:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Next, download the Minio server&rsquo;s binary file from the official website:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">wget https://dl.min.io/server/minio/release/linux-amd64/minio
</li></ul></code></pre>
<p>You will receive output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>--2019-08-27 15:08:49--  https://dl.min.io/server/minio/release/linux-amd64/minio
Resolving dl.min.io (dl.min.io)... 178.128.69.202
Connecting to dl.min.io (dl.min.io)|178.128.69.202|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 44511616 (42M) [application/octet-stream]
Saving to: ‘minio’

minio               100%[===================&gt;]  42.45M  21.9MB/s    in 1.9s

2019-08-27 15:08:51 (21.9 MB/s) - ‘minio’ saved [44511616/44511616]
</code></pre>
<p>Once the download is finished, a file named <code>minio</code> will be in your working directory. Use the following command to make it executable: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chmod +x minio
</li></ul></code></pre>
<p>Now, move the file into the <code>/usr/local/bin</code> directory where Minio&rsquo;s <code>systemd</code> startup script expects to find it:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mv minio /usr/local/bin
</li></ul></code></pre>
<p>This will allow us to write a <a href="https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files#types-of-units">service unit file</a> later in this tutorial to automatically run Minio on startup.</p>

<p>For security reasons, it is best to avoid running the Minio server as <strong>root</strong>. This will limit the damage that can be done to your system if compromised. Since the <code>systemd</code> script you&rsquo;ll use in Step 2 looks for a user account and group called <code>minio-user</code>, make a new user with this name:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo useradd -r minio-user -s /sbin/nologin
</li></ul></code></pre>
<p>In this command, you used the <code>-s</code> flag to set <code>/sbin/nologin</code> as the shell for <code>minio-user</code>. This is a shell that does not allow user login, which is not needed for <code>minio-user</code>.</p>

<p>Next, change ownership of the Minio binary to <code>minio-user</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown minio-user:minio-user /usr/local/bin/minio
</li></ul></code></pre>
<p>Next, you will create a directory where Minio will store files. This will be the storage location for the <em>buckets</em> that you will use later to organize the objects you store on your Minio server. This tutorial will name the directory <code><span class="highlight">minio</span></code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mkdir /usr/local/share/<span class="highlight">minio</span>
</li></ul></code></pre>
<p>Give ownership of that directory to <code>minio-user</code>: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown minio-user:minio-user /usr/local/share/<span class="highlight">minio</span>
</li></ul></code></pre>
<p>Most server configuration files are stored in the <code>/etc</code> directory, so create your Minio configuration file there: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mkdir /etc/<span class="highlight">minio</span>
</li></ul></code></pre>
<p>Give ownership of that directory to <code>minio-user</code>, too:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown minio-user:minio-user /etc/minio
</li></ul></code></pre>
<p>Use Nano or your favorite text editor to create the environment file needed to modify the default configuration:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/default/<span class="highlight">minio</span>
</li></ul></code></pre>
<p>Once the file is open, add in the following lines to set some important environment variables in your environment file:</p>
<div class="code-label " title="/etc/default/minio">/etc/default/minio</div><pre class="code-pre "><code langs="">MINIO_ACCESS_KEY="<span class="highlight">minio</span>"
MINIO_VOLUMES="<span class="highlight">/usr/local/share/minio/</span>"
MINIO_OPTS="-C <span class="highlight">/etc/minio</span> --address <span class="highlight">your_server_ip</span>:<span class="highlight">9000</span>"
MINIO_SECRET_KEY="<span class="highlight">miniostorage</span>"
</code></pre>
<p>Let&rsquo;s take a look at these variables and the values you set:</p>

<ul>
<li> <code>MINIO_ACCESS_KEY</code>: This sets the access key you will use to access the Minio browser user interface.</li>
<li> <code>MINIO_SECRET_KEY</code>: This sets the private key you will use to complete your login credentials into the Minio interface. This tutorial has set the value to <code><span class="highlight">miniostorage</span></code>, but we advise choosing a different, more complicated password to secure your server.</li>
<li> <code>MINIO_VOLUMES</code>: This identifies the storage directory that you created for your buckets.</li>
<li> <code>MINIO_OPTS</code>: This changes where and how the server serves data. The <code>-C</code> flag points Minio to the configuration directory it should use, while the <code>--address</code> flag tells Minio the IP address and port to bind to. If the IP address is not specified, Minio will bind to every address configured on the server, including <code>localhost</code> and any Docker-related IP addresses, so directly specifying the IP address here is recommended. The default port <code>9000</code> can be changed if you would like.</li>
</ul>

<p>Finally, save and close the environment file when you&rsquo;re finished making changes.</p>

<p>You&rsquo;ve now installed Minio and set some important environment variables. Next, you&rsquo;ll configure the server to run as a system service.</p>

<h2 id="step-2-mdash-installing-the-minio-systemd-startup-script">Step 2 — Installing the Minio Systemd Startup Script</h2>

<p>In this step, you&rsquo;ll configure the Minio server to be managed as a <code>systemd</code> service. </p>

<p>First, download the official <a href="https://github.com/minio/minio-service/blob/master/README.md">Minio service descriptor file</a> using the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">curl -O https://raw.githubusercontent.com/minio/minio-service/master/linux-systemd/minio.service
</li></ul></code></pre>
<p>You will receive output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   835  100   835    0     0   6139      0 --:--:-- --:--:-- --:--:--  6139
</code></pre>
<p>After the download has finished, a file named <code>minio.service</code> will be in your working directory.</p>

<p>To audit the contents of <code>minio.service</code> before applying it, open it in a text editor to view its contents:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano minio.service
</li></ul></code></pre>
<p>This will show the following:</p>
<div class="code-label " title="/etc/systemd/system/minio.service">/etc/systemd/system/minio.service</div><pre class="code-pre "><code langs="">[Unit]
Description=MinIO
Documentation=https://docs.min.io
Wants=network-online.target
After=network-online.target
AssertFileIsExecutable=/usr/local/bin/minio

[Service]
WorkingDirectory=/usr/local/

User=minio-user
Group=minio-user

EnvironmentFile=/etc/default/minio
ExecStartPre=/bin/bash -c "if [ -z \"${MINIO_VOLUMES}\" ]; then echo \"Variable MINIO_VOLUMES not set in /etc/default/minio\"; exit 1; fi"

ExecStart=/usr/local/bin/minio server $MINIO_OPTS $MINIO_VOLUMES

# Let systemd restart this service always
Restart=always

# Specifies the maximum file descriptor number that can be opened by this process
LimitNOFILE=65536

# Disable timeout logic and wait until process is stopped
TimeoutStopSec=infinity
SendSIGKILL=no

[Install]
WantedBy=multi-user.target

# Built for ${project.name}-${project.version} (${project.name})
</code></pre>
<p>This service unit file starts the Minio server using the <code>minio-user</code> user that you created earlier. It also implements the environment variables you set in the last step, and makes the server run automatically on startup. For more information on <code>systemd</code> unit files, see our guide <a href="https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files">Understanding Systemd Units and Unit Files</a>.</p>

<p>Once you&rsquo;ve looked over the script&rsquo;s contents, close your text editor.</p>

<p>Systemd requires that unit files be stored in the <code>systemd</code> configuration directory, so move <code>minio.service</code> there:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mv minio.service /etc/systemd/system
</li></ul></code></pre>
<p>Then, run the following command to reload all systemd units:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl daemon-reload
</li></ul></code></pre>
<p>Finally, enable Minio to start on boot:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl enable minio
</li></ul></code></pre>
<p>This will give the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Created symlink from /etc/systemd/system/multi-user.target.wants/minio.service to /etc/systemd/system/minio.service.
</code></pre>
<p>Now that the systemd script is installed and configured, it&rsquo;s time to start the server.</p>

<h2 id="step-3-mdash-starting-the-minio-server">Step 3 — Starting the Minio Server</h2>

<p>In this step, you&rsquo;ll start the server and modify the firewall to allow access through the browser interface.</p>

<p>First, start the Minio server:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start minio
</li></ul></code></pre>
<p>Next, verify Minio&rsquo;s status, the IP address it&rsquo;s bound to, its memory usage, and more by running this command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status minio
</li></ul></code></pre>
<p>You will get the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>● minio.service - MinIO
   Loaded: loaded (/etc/systemd/system/minio.service; enabled; vendor preset: enabled)
   Active: <span class="highlight">active (running)</span> since Mon 2019-12-09 21:54:02 UTC; 46s ago
     Docs: https://docs.min.io
  Process: 3405 ExecStartPre=/bin/bash -c if [ -z "${MINIO_VOLUMES}" ]; then echo "Variable MINIO_VOLUMES not set in /etc/default/minio"; exit 1; fi (code=exited, status=0/SUCCES
 Main PID: 3407 (minio)
    Tasks: 7 (limit: 1152)
   CGroup: /system.slice/minio.service
           └─3407 /usr/local/bin/minio server -C /etc/minio --address <span class="highlight">your_server_IP</span>:<span class="highlight">9000</span> /usr/local/share/minio/

Dec 09 21:54:02 cart-Minion-Object-1804-1 systemd[1]: Started MinIO.
Dec 09 21:54:03 cart-Minion-Object-1804-1 minio[3407]: Endpoint:  http://<span class="highlight">your_server_IP</span>:<span class="highlight">9000</span>
Dec 09 21:54:03 cart-Minion-Object-1804-1 minio[3407]: Browser Access:
Dec 09 21:54:03 cart-Minion-Object-1804-1 minio[3407]:    http://<span class="highlight">your_server_IP</span>:<span class="highlight">9000</span>
...
</code></pre>
<p>Next, enable access through the firewall to the Minio server on the configured port. In this tutorial, that&rsquo;s port <code><span class="highlight">9000</span></code>.</p>

<p>First add the rule:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw allow <span class="highlight">9000</span>
</li></ul></code></pre>
<p>Then, enable the firewall:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw enable
</li></ul></code></pre>
<p>You will get the following prompt:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Command may disrupt existing ssh connections. Proceed with operation (y|n)?
</code></pre>
<p>Press <code>y</code> and <code>ENTER</code> to confirm this. You will then get the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Firewall is active and enabled on system startup
</code></pre>
<p>Minio is now ready to accept traffic, but before connecting to the server, you will secure communication by installing an SSL/TLS certificate.</p>

<h2 id="step-4-mdash-securing-access-to-your-minio-server-with-a-tls-certificate">Step 4 — Securing Access to Your Minio Server With a TLS Certificate</h2>

<p>In this step, you will secure access to your Minio server using a private key and public certificate that has been obtained from a certificate authority (CA), in this case <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a>. To get a free SSL certificate, you will use <a href="https://certbot.eff.org/">Certbot</a>.</p>

<p>First, allow HTTP and HTTPS access through your firewall. To do this, open port <code>80</code>, which is the port for HTTP:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw allow 80
</li></ul></code></pre>
<p>Next, open up port <code>443</code> for HTTPS:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw allow 443
</li></ul></code></pre>
<p>Once you&rsquo;ve added these rules, check on your firewall&rsquo;s status with the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw status verbose
</li></ul></code></pre>
<p>You will receive output similar to the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Status: active
Logging: on (low)
Default: deny (incoming), allow (outgoing), disabled (routed)
New profiles: skip

To                         Action      From
--                         ------      ----
22/tcp (OpenSSH)           ALLOW IN    Anywhere
9000                       ALLOW IN    Anywhere
443                        ALLOW IN    Anywhere
80                         ALLOW IN    Anywhere
22/tcp (OpenSSH (v6))      ALLOW IN    Anywhere (v6)
9000 (v6)                  ALLOW IN    Anywhere (v6)
443 (v6)                   ALLOW IN    Anywhere (v6)
80 (v6)                    ALLOW IN    Anywhere (v6)
</code></pre>
<p>This confirms that ports <code>80</code> and <code>443</code> are open, ensuring that your server accepts requests from the internet.</p>

<p>Next, you will install Certbot. Since Certbot maintains a separate <a href="https://help.ubuntu.com/community/PPA">PPA</a> repository, you will first have to add it to your list of repositories before installing Certbot as shown:</p>

<p>To prepare to add the PPA repository, first install <a href="https://packages.ubuntu.com/bionic/admin/software-properties-common"><code>software-properties-common</code></a>, a package for managing PPAs:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install software-properties-common
</li></ul></code></pre>
<p>This package provides some useful scripts for adding and removing PPAs instead of doing it manually.</p>

<p>Now add the <a href="https://help.ubuntu.com/community/Repositories/Ubuntu"><em>Universe</em></a> repository:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo add-apt-repository universe
</li></ul></code></pre>
<p>This repository contains free and open source software maintained by the Ubuntu community, but is not officially maintained by <a href="https://canonical.com/">Canonical</a>, the developers of Ubuntu. This is where we will find the repository for Certbot.</p>

<p>Next, add the Certbot repository:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo add-apt-repository ppa:certbot/certbot
</li></ul></code></pre>
<p>You will receive the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>This is the PPA for packages prepared by Debian Let's Encrypt Team and backported for Ubuntu(s).
More info: https://launchpad.net/~certbot/+archive/ubuntu/certbot
Press [ENTER] to continue or ctrl-c to cancel adding it
</code></pre>
<p>Press <code>ENTER</code> to accept.</p>

<p>Then update the package list:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Finally, install <code>certbot</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install certbot
</li></ul></code></pre>
<p>Next, you will use <code>certbot</code> to generate a new SSL certificate.</p>

<p>Since Ubuntu 18.04 doesn&rsquo;t yet support automatic installation, you will use the <code>certonly</code> command and <code>--standalone</code> to obtain the certificate:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo certbot certonly --standalone -d minio-server.<span class="highlight">your_domain</span>
</li></ul></code></pre>
<p><code>--standalone</code> means that this certificate is for a built-in <em>standalone</em> web server. For more information on this, see our <a href="https://www.digitalocean.com/community/tutorials/how-to-use-certbot-standalone-mode-to-retrieve-let-s-encrypt-ssl-certificates-on-ubuntu-1804">How To Use Certbot Standalone Mode to Retrieve Let&rsquo;s Encrypt SSL Certificates on Ubuntu 18.04</a> tutorial.</p>

<p>You will receive the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator standalone, Installer None
Enter email address (used for urgent renewal and security notices) (Enter 'c' to
cancel):
</code></pre>
<p>Add your email and press <code>ENTER</code>.</p>

<p>Certbot will then ask you to register with Let&rsquo;s Encrypt:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Please read the Terms of Service at
https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must
agree in order to register with the ACME server at
https://acme-v02.api.letsencrypt.org/directory
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(A)gree/(C)ancel:
</code></pre>
<p>Type <code>A</code> and press <code>ENTER</code> to agree.</p>

<p>Next, you will be asked if you are willing to share your email with the <a href="https://www.eff.org/">Electronic Frontier Foundation</a>:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Would you be willing to share your email address with the Electronic Frontier
Foundation, a founding partner of the Let's Encrypt project and the non-profit
organization that develops Certbot? We'd like to send you email about our work
encrypting the web, EFF news, campaigns, and ways to support digital freedom.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o:
</code></pre>
<p>Once you answer <code>Y</code> or <code>N</code>, your public and private keys will be generated and saved in the <code>/etc/letsencrypt/live/minio-server.<span class="highlight">your_domain_name</span></code> directory.</p>

<p>Next, copy these two files (<code>privkey.pem</code> and <code>fullchain.pem</code>) into the <code>certs</code> directory under Minio&rsquo;s server configuration folder, which is <code>/etc/minio</code> for this tutorial. Use the following to copy <code>privkey.pem</code> and rename the file <code>private.key</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo cp /etc/letsencrypt/live/minio-server.<span class="highlight">your_domain_name</span>/privkey.pem <span class="highlight">/etc/minio</span>/certs/private.key
</li></ul></code></pre>
<p>Then do the same for <code>fullchain.pem</code>, naming the result <code>public.crt</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo cp /etc/letsencrypt/live/minio-server.<span class="highlight">your_domain_name</span>/fullchain.pem <span class="highlight">/etc/minio</span>/certs/public.crt
</li></ul></code></pre>
<p>Now, change the ownership of the files to <code>minio-user</code>. First, do this for <code>private.key</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown minio-user:minio-user <span class="highlight">/etc/minio</span>/certs/private.key
</li></ul></code></pre>
<p>Then <code>public.crt</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown minio-user:minio-user <span class="highlight">/etc/minio</span>/certs/public.crt
</li></ul></code></pre>
<p>Restart the Minio server, so that it becomes aware of the certificate and starts using HTTPS:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart minio
</li></ul></code></pre>
<p>Let’s Encrypt certificates are only valid for ninety days. This is to encourage users to automate their certificate renewal process. The Certbot package you installed automatically adds a renew script to <a href="https://www.digitalocean.com/community/tutorials/how-to-use-cron-to-automate-tasks-on-a-vps"><code>/etc/cron.d</code></a>. This script runs twice a day and will automatically renew any certificate that’s within thirty days of expiration.</p>

<p>With that, Minio&rsquo;s connection is now secure, and the SSL/TLS certificate will automatically renew for you. In the next step, you&rsquo;ll connect to Minio through the browser to use the server.</p>

<h2 id="step-5-mdash-securely-connecting-to-minio-39-s-web-interface-using-https">Step 5 — Securely Connecting to Minio&rsquo;s Web Interface Using HTTPS</h2>

<p>In this step, you&rsquo;ll securely connect to the Minio web interface via HTTPS, and then you&rsquo;ll create buckets and upload objects into them.</p>

<p>Access the web interface by pointing your browser to <code>https://minio-server.<span class="highlight">your_domain</span>:<span class="highlight">9000</span></code>.</p>

<p>You will see the Minio server login screen:</p>

<p><img src="https://assets.digitalocean.com/articles/cart-66199/Minio_login_screen.png" alt="Minio login screen"></p>

<p>Now, log in to the main interface by entering your credentials. For <strong>Access Key</strong>, enter the <code>MINIO_ACCESS_KEY</code> you set in the <code>/etc/default/<span class="highlight">minio</span></code> environment file in <strong>Step 1</strong>. For <strong>Secret Key</strong>, type the <code>MINIO_SECRET_KEY</code> you set in the same file. Once you&rsquo;ve entered the credentials, click the round button with the arrow directly below the input fields.</p>

<p>You will then be presented with the Minio user interface. To create a new bucket in which you can store objects, click the light-red <strong>+</strong> button on the bottom right of the main interface to bring up two additional yellow buttons.</p>

<p><img src="https://assets.digitalocean.com/articles/how-to-set-up-an-object-storage-server-using-minio/61120-ssb.png" alt="Minio's main interface"></p>

<p>Click the middle yellow button and enter a name for your new bucket in the prompt, pressing the <code>ENTER</code> key to save your response. Your new bucket is now ready to be used for storage.</p>

<p><span class='note'><strong>Note:</strong> When naming your Minio bucket, make sure that your name only contains lowercase letters, numbers, or hyphens. Minio limits bucket naming conventions in order to be compatible with AWS S3 standards.<br></span></p>

<p>When you want to add objects into your bucket, click the same light-red button as before and then click the top yellow button to open a file-upload prompt.</p>

<p>At this point, you&rsquo;ve worked through the entire basic web interface of creating buckets and uploading objects.</p>

<h2 id="conclusion">Conclusion</h2>

<p>You now have your own Minio object storage server that you can connect to securely from the web interface using a Let&rsquo;s Encrypt SSL/TLS certificate. Optionally, you may want to look at the <a href="https://dl.minio.io/client/mc/release/">Minio desktop clients</a> for FreeBSD, Linux, Mac, and Windows as an alternative way to use and administrate your object storage server.</p>

<p>Additionally, if you&rsquo;d like to increase your Minio installation&rsquo;s storage capacity beyond your server&rsquo;s disk size, you can use <a href="https://www.digitalocean.com/community/tutorials/how-to-use-block-storage-on-digitalocean">DigitalOcean&rsquo;s block storage service</a> to attach a volume to your server, extending storage capacity by as much as 80 TB.</p>

<p>More information about Minio is available at the <a href="https://docs.minio.io/">project&rsquo;s documentation website</a>. If you&rsquo;d like to learn more about object storage, browse our <a href="https://www.digitalocean.com/community/tags/object-storage?type=tutorials">Object Storage tutorials</a>.</p>
