---
layout: post
title: How To Deploy an ASP.NET Core Application with MySQL Server Using Nginx on Ubuntu 18.04
network: digitalocean
date: July 20, 2019 at 12:36AM
url: https://www.digitalocean.com/community/tutorials/how-to-deploy-an-asp-net-core-application-with-mysql-server-using-nginx-on-ubuntu-18-04
image: https://i.imgur.com/VI7KTaU.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>The author selected the <a href="https://www.brightfunds.org/organizations/open-source-initiative">Open Source Initiative</a> to receive a donation as part of the <a href="https://do.co/w4do-cta">Write for DOnations</a> program.</em></p>

<h3 id="introduction">Introduction</h3>

<p><a href="https://dotnet.microsoft.com/learn/web/what-is-aspnet-core">ASP.NET Core</a> is a high-performant, open-source framework for building modern web applications, meant to be a more modular version of <a href="https://dotnet.microsoft.com/apps/aspnet">Microsoft’s ASP.NET Framework</a>. Released in 2016, it can run on several operating systems such as Linux and macOS. This enables developers to target a particular operating system for development based on design requirements. With ASP.NET Core, a developer can build any kind of web application or service irrespective of the complexity and size. Developers can also make use of <a href="https://docs.microsoft.com/en-us/aspnet/core/razor-pages/?view=aspnetcore-2.2&amp;tabs=visual-studio">Razor pages</a> to create page-focused design working on top of the traditional <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">Model-View-Controller</a> (MVC) pattern.</p>

<p>ASP.NET Core provides the flexibility to integrate with any front-end frameworks to handle client-side logic or consume a web service. You could, for example, build a RESTful API with ASP.NET Core and easily consume it with JavaScript frameworks such as Angular, React, and Vue.js.</p>

<p>In this tutorial you'll set up and deploy a production-ready ASP.NET Core application with a MySQL Server on Ubuntu 18.04 using Nginx. You will deploy a demo ASP.NET Core application similar to the application from Microsoft's documentation and hosted on <a href="https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/tutorials/razor-pages/razor-pages-start/2.2-stage-samples">GitHub</a>. Once deployed, the demo application will allow you to create a list of movies and store it in the database. You'll be able to create, read, update, and delete records from the database. You can use this tutorial to deploy your own ASP.NET Core application instead; it's possible you'll have to implement extra steps that include generating a new migration file for your database.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>You will need the following for this tutorial:</p>

<ul>
<li>One Ubuntu 18.04 server set up by following <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">the Ubuntu 18.04 initial server setup guide</a>, including a non-root user with <code>sudo</code> access and a firewall.</li>
<li>Nginx installed by following <a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04">How To Install Nginx on Ubuntu 18.04</a>.</li>
<li>A secured Nginx web server. You can follow this tutorial on <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04">How To Secure Nginx with Let's Encrypt on Ubuntu 18.04</a>.</li>
<li>Both of the following DNS records set up for your server. You can follow this <a href="https://www.digitalocean.com/docs/networking/dns/">introduction to DigitalOcean DNS</a> for details on how to add them.

<ul>
<li>An <code>A</code> record with <code><span class="highlight">your-domain</span></code> pointing to your server's public IP address.</li>
<li>An <code>A</code> record with <code>www.<span class="highlight">your-domain</span></code> pointing to your server's public IP address.</li>
</ul></li>
<li>MySQL installed by following <a href="https://www.digitalocean.com/community/tutorials/how-to-install-the-latest-mysql-on-ubuntu-18-04">How To Install the Latest MySQL on Ubuntu 18.04</a>.</li>
</ul>

<h2 id="step-1-—-installing-net-core-runtime">Step 1 — Installing .NET Core Runtime</h2>

<p>A .NET Core runtime is required to successfully run a .NET Core application, so you'll start by installing this to your machine. First, you need to register the Microsoft Key and product repository. After that, you will install the required dependencies.</p>

<p>First, logged in as your new created user, make sure you're in your root directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li></ul></code></pre>
<p>Next, run the following command to register the Microsoft key and product repository:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">wget -q https://packages.microsoft.com/config/ubuntu/18.04/packages-microsoft-prod.deb
</li></ul></code></pre>
<p>Use <code>dpkg</code> with the <code>-i</code> flag to install the specified file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo dpkg -i packages-microsoft-prod.deb
</li></ul></code></pre>
<p>To facilitate the installation of other packages required for your application, you will install the <code>universe</code> repository with the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo add-apt-repository universe
</li></ul></code></pre>
<p>Next install the <code>apt-transport</code> package to allow the use of repositories accessed via the HTTP Secure protocol:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install apt-transport-https
</li></ul></code></pre>
<p>Now, run the following command to download the packages list from the repositories and update them to get information on the newest versions of packages and their dependencies:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Finally, you can install the .NET runtime SDK with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install dotnet-sdk-2.2
</li></ul></code></pre>
<p>You will be prompted with the details of the size of additional files that will be installed. Type <code>Y</code> and hit <code>ENTER</code> to continue.</p>

<p>Now that you're done installing the .NET Core runtime SDK on the server, you are almost ready to download the demo application from GitHub and set up the deployment configuration. But first, you'll create the database for the application.</p>

<h2 id="step-2-—-creating-a-mysql-user-and-database">Step 2 — Creating a MySQL User and Database</h2>

<p>In this section, you will create a MySQL server user, create a database for the application, and grant all the necessary privileges for the new user to connect to the database from your application.</p>

<p>To begin, you need to access the MySQL client using the MySQL root account as shown here:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql -u root -p
</li></ul></code></pre>
<p>You will be prompted to enter the root account password, set up during the prerequisite tutorial.</p>

<p>Next, create a MySQL database for the application with:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">CREATE DATABASE <span class="highlight">MovieAppDb</span>;
</li></ul></code></pre>
<p>You will see the following output in the console:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 1 row affected (0.03 sec)
</code></pre>
<p>You've now created the database successfully. Next, you will create a new MySQL user, associate them with the newly created database, and grant them all privileges.</p>

<p>Run the following command to create the MySQL user and password. Remember to change the username and password to something more secure:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">CREATE USER '<span class="highlight">movie-admin</span>'@'localhost' IDENTIFIED BY '<span class="highlight">password</span>';
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 0 rows affected (0.02 sec)
</code></pre>
<p>To access a database or carry out a specific action on it, a MySQL user needs the appropriate permission. At the moment <strong>movie-admin</strong> does not have the appropriate permission over the application database.</p>

<p>You will change that by running the following command to grant access to <strong>movie-admin</strong> on <code><span class="highlight">MovieAppDb</span></code>:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">GRANT ALL PRIVILEGES ON <span class="highlight">MovieAppDb</span>.* TO '<span class="highlight">movie-admin</span>'@'localhost';
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 0 rows affected (0.01 sec)
</code></pre>
<p>Now, you can reload the grant tables by running the following command to apply the changes that you just made using the flush statement:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">FLUSH PRIVILEGES;
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Query OK, 0 rows affected (0.00 sec)
</code></pre>
<p>You are done creating a new user and granting privileges. To test if you are on track, exit the MySQL client:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">quit;
</li></ul></code></pre>
<p>Log in again, using the credentials of the MySQL user you just created and enter the appropriate password when prompted:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql -u <span class="highlight">movie-admin</span> -p
</li></ul></code></pre>
<p>Check to be sure that the user <strong>movie-admin</strong> can access the created database, check with:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">SHOW DATABASES;
</li></ul></code></pre>
<p>You will see the <code><span class="highlight">MovieAppDb</span></code> table listed in the output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>+--------------------+
| Database           |
+--------------------+
| <span class="highlight">MovieAppDb</span>         |
| information_schema |
+--------------------+
2 rows in set (0.01 sec)
</code></pre>
<p>Now, exit the MySQL client:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">quit;
</li></ul></code></pre>
<p>You've created a database, made a new MySQL user for the demo application, and granted the newly created user the right privileges to access the database. In the next section, you will start setting up the demo application.</p>

<h2 id="step-3-—-setting-up-the-demo-app-and-database-credentials">Step 3 — Setting Up the Demo App and Database Credentials</h2>

<p>As stated earlier, you'll deploy an existing ASP.NET Core application. This application was built to create a movie list and it uses the Model-View-Controller design pattern to ensure a proper structure and separation of concerns. To create or add a new movie to the list, the user will populate the form fields with the appropriate details and click on the <strong>Create</strong> button to post the details to the controller. The controller at this point will receive a POST HTTP request with the submitted details and persist the data in the database through the model.</p>

<p>You will use <a href="https://git-scm.com/">Git</a> to pull the source code of this demo application from <a href="https://github.com/do-community/movie-app-list">GitHub</a> and save it in a new directory. You could also download an alternate application here if you will be deploying a different application.</p>

<p>To begin, create a new directory named <code><span class="highlight">movie-app</span></code> from the terminal by using the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mkdir -p /var/www/<span class="highlight">movie-app</span>
</li></ul></code></pre>
<p>This will serve as the root directory for your application. Next, change the folder owner and group in order to allow a non-root user account to work with the project files:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">sammy</span>:<span class="highlight">sammy</span> /var/www/<span class="highlight">movie-app</span>
</li></ul></code></pre>
<p>Replace <strong>sammy</strong> with your sudo non-root username.</p>

<p>Now, you can move into the parent directory and clone the application on GitHub:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /var/www
</li><li class="line" prefix="$">git clone https://github.com/do-community/movie-app-list.git <span class="highlight">movie-app</span>
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Cloning into '<span class="highlight">movie-app</span>'...
remote: Enumerating objects: 91, done.
remote: Counting objects: 100% (91/91), done.
remote: Compressing objects: 100% (73/73), done.
remote: Total 91 (delta 13), reused 91 (delta 13), pack-reused 0
Unpacking objects: 100% (91/91), done.
</code></pre>
<p>You have successfully cloned the demo application from GitHub, so the next step will be to create a successful connection to the application database. You will do this by editing the <code>ConnectionStrings</code> property within the <code>appsettings.json</code> file and add the details of the database.</p>

<p>Change directory into the application:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd <span class="highlight">movie-app</span>
</li></ul></code></pre>
<p>Now open the file for editing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano appsettings.json
</li></ul></code></pre>
<p>Add your database credentials:</p>
<div class="code-label " title="appsettings.json">appsettings.json</div><pre class="code-pre "><code langs="">{
  "Logging": {
    "LogLevel": {
      "Default": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "MovieContext": "Server=localhost;User Id=<span class="highlight">movie-admin</span>;Password=<span class="highlight">password</span>;Database=<span class="highlight">MovieAppDb</span>"
  }
}
</code></pre>
<p>With this in place, you've successfully created a connection to your database. Now press <code>CTRL+X</code> to save your changes to the file and type <code>Y</code> to confirm. Then hit <code>ENTER</code> to exit the page.</p>

<p>ASP.NET Core applications use a .NET standard library named <a href="https://docs.microsoft.com/en-us/ef/">Entity Framework</a> (EF) Core to manage interaction with the database. <a href="https://docs.microsoft.com/en-us/ef/core/">Entity Framework Core</a> is a lightweight, cross-platform version of the popular Entity Framework data access technology. It is an object-relational mapper (ORM) that enables .NET developers to work with a database using any of the database providers, such as MySQL.</p>

<p>You can now update your database with the tables from the cloned demo application. Run the following command for that purpose:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">dotnet ef database update
</li></ul></code></pre>
<p>This will apply an update to the database and create the appropriate schemas.</p>

<p>Now, to build the project and all its dependencies, run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">dotnet build
</li></ul></code></pre>
<p>You will see output similar to:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Microsoft (R) Build Engine version 16.1.76+g14b0a930a7 for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 95.09 ms for /var/www/<span class="highlight">movie-app</span>/MvcMovie.csproj.
  MvcMovie -&gt; /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/MvcMovie.dll
  MvcMovie -&gt; /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/MvcMovie.Views.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:01.91
</code></pre>
<p>This will build the project and install any third-party dependencies listed in the <code><span class="highlight">project.assets.json</span></code> file but the application won’t be ready for production yet. To get the application ready for deployment, run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">dotnet publish
</li></ul></code></pre>
<p>You will see the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Microsoft (R) Build Engine version 16.1.76+g14b0a930a7 for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

Restore completed in 89.62 ms for /var/www/movie-app/MvcMovie.csproj.
MvcMovie -&gt; /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/MvcMovie.dll
MvcMovie -&gt; /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/MvcMovie.Views.dll
MvcMovie -&gt; /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/publish/
</code></pre>
<p>This will pack and compile the application, read through its dependencies, publish the resulting set of files into a folder for deployment, and produce a cross-platform <code>.dll</code> file that uses the installed .NET Core runtime to run the application.</p>

<p>By installing dependencies, creating a connection to the database, updating the database with the necessary tables, and publishing it for production, you've completed the setup for this demo application. In the next step you will configure the web server to make the application accessible and secure at your domain.</p>

<h2 id="step-4-—-configuring-the-web-server">Step 4 — Configuring the Web Server</h2>

<p>By now, having followed the <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04">How To Secure Nginx with Let's Encrypt tutorial</a>, you'll have a server block for your domain at <code>/etc/nginx/sites-available/<span class="highlight">your_domain</span></code> with the <code><span class="highlight">server_name</span></code> directive already set appropriately. In this step, you will edit this server block to configure Nginx as a reverse proxy for your application. A reverse proxy is a server that sits in front of web servers and forwards every web browser’s request to those web servers. It receives all requests from the network and forwards them to a different web server.</p>

<p>In the case of an ASP.NET Core application, <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-2.2">Kestrel</a> is the preferred web server that is included with it by default. It is great for serving dynamic content from an ASP.NET Core application as it provides better request-processing performance and was designed to make ASP.NET as fast as possible. However, Kestrel isn't considered a full-featured web server because it can't manage security and serve static files, which is why it is advisable to always run it behind a web server.</p>

<p>To begin, ensure that you are within the root directory of your server:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li></ul></code></pre>
<p>Open the server block for editing with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/nginx/sites-available/<span class="highlight">your_domain</span>
</li></ul></code></pre>
<p>As detailed in the <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04#step-4-%E2%80%94-obtaining-an-ssl-certificate">Step 4</a> of the <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04">How To Secure Nginx with Let's Encrypt tutorial</a>, if you selected option 2, Certbot will automatically configure this server block in order to redirect HTTP traffic to HTTPS with just a few modifications.</p>

<p>Continue with the configuration by editing the first two blocks in the file to reflect the following:</p>
<div class="code-label " title=" /etc/nginx/sites-available/your-domain"> /etc/nginx/sites-available/your-domain</div><pre class="code-pre "><code langs="">server {

    server_name <span class="highlight">your-domain</span>  www.<span class="highlight">your-domain</span>;

   location / {
     proxy_pass http://localhost:5000;
     proxy_http_version 1.1;
     proxy_set_header Upgrade $http_upgrade;
     proxy_set_header Connection keep-alive;
     proxy_set_header Host $host;
     proxy_cache_bypass $http_upgrade;
     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
     proxy_set_header X-Forwarded-Proto $scheme;
    }

listen [::]:443 ssl ipv6only=on; # managed by Certbot
listen 443 ssl; # managed by Certbot
ssl_certificate /etc/letsencrypt/live/<span class="highlight">your-domain</span>/fullchain.pem; # managed by Certbot
ssl_certificate_key /etc/letsencrypt/live/<span class="highlight">your-domain</span>/privkey.pem; # managed by Certbot
include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot


}
...
</code></pre>
<p>The configuration in this server block will instruct Nginx to listen on port <code>443</code>, which is the standard port for websites that use SSL. Furthermore, Nginx will accept public traffic on port <code>443</code> and forward every matching request to the built-in Kestrel server at <code>http://localhost:5000</code>.</p>

<p>Finally, following the server block you just edited in the file, ensure that the second server block looks like so:</p>
<div class="code-label " title=" /etc/nginx/sites-available/your-domain"> /etc/nginx/sites-available/your-domain</div><pre class="code-pre "><code langs="">
...
server {
if ($host = www.<span class="highlight">your-domain</span>) {
    return 301 https://$host$request_uri;
} # managed by Certbot


if ($host = <span class="highlight">your-domain</span>) {
    return 301 https://$host$request_uri;
} # managed by Certbot


    listen 80;
    listen [::]:80;

    server_name <span class="highlight">your-domain</span>  www.<span class="highlight">your-domain</span>;
return 404; # managed by Certbot
}
</code></pre>
<p>This server block will redirect all requests to <code>https://<span class="highlight">your-domain</span></code> and <code>https://www.<span class="highlight">your-domain</span></code> to a secure HTTPS access.</p>

<p>Next, force Nginx to pick up the changes you've made to the server block by running:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nginx -s reload
</li></ul></code></pre>
<p>With the Nginx configuration successfully completed, the server is fully set up to forward all HTTPS requests made to <code>https://<span class="highlight">your-domain</span></code> on to the ASP.NET Core app running on Kestrel at <code>http://localhost:5000</code>. However, Nginx isn’t set up to manage the Kestrel server process. To handle this and ensure that the Kestrel process keeps running in the background, you will use <code>systemd</code> functionalities.</p>

<p><a href="https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files">Systemd</a> files will allow you to manage a process by providing start, stop, restart, and log functionalities once you create a process of work called a unit.</p>

<p>Move into the <code>systemd</code> directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /etc/systemd/systems
</li></ul></code></pre>
<p>Create a new file for editing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano <span class="highlight">movie.service</span>
</li></ul></code></pre>
<p>Add the following content to it:</p>
<div class="code-label " title="movie.service">movie.service</div><pre class="code-pre "><code langs="">[Unit]
Description=<span class="highlight">Movie app</span>

[Service]
WorkingDirectory=/var/www/<span class="highlight">movie-app</span>
ExecStart=/usr/bin/dotnet /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/publish/MvcMovie.dll
Restart=always
RestartSec=10
SyslogIdentifier=<span class="highlight">movie</span>
User=<span class="highlight">sammy</span>
Environment=ASPNETCORE_ENVIRONMENT=Production
Environment=DOTNET_PRINT_TELEMETRY_MESSAGE=false

[Install]
WantedBy=multi-user.target
</code></pre>
<p>The configuration file specifies the location of the project’s folder with <code>WorkingDirectory</code> and the command to execute at the start of the process in <code>ExecStart</code>. In addition, you've used the <code>RestartSec</code> directive to specify when to restart the <code>systemd</code> service if the .NET runtime service crashes.</p>

<p>Now save the file and enable the new movie service created with:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl enable <span class="highlight">movie.service</span>
</li></ul></code></pre>
<p>After that, proceed to start the service and verify that it’s running by starting the service:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start <span class="highlight">movie.service</span>
</li></ul></code></pre>
<p>Then check its status:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status <span class="highlight">movie.service</span>
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">movie.service</span> - <span class="highlight">Movie app</span>
   Loaded: loaded (/etc/systemd/system/<span class="highlight">movie.service</span>; enabled; vendor preset: enabled)
   Active: active (running) since Sun 2019-06-23 04:51:28 UTC; 11s ago
 Main PID: 6038 (dotnet)
    Tasks: 16 (limit: 1152)
   CGroup: /system.slice/<span class="highlight">movie.service</span>
           └─6038 /usr/bin/dotnet /var/www/<span class="highlight">movie-app</span>/bin/Debug/netcoreapp2.2/publish/MvcMovie.dll

</code></pre>
<p>This output gives you an overview of the current status of the <code><span class="highlight">movie.service</span></code> created to keep your app running. It indicates that the service is enabled and currently active.</p>

<p>Navigate to <code>https://<span class="highlight">your-domain</span></code> from your browser to run and test out the application.</p>

<p>You'll see the home page for the demo application—<strong>Movie List Application</strong>.</p>

<p><img src="https://i.imgur.com/VI7KTaU.png" alt="Movie list application"></p>

<p>With the reverse proxy configured and Kestrel managed through systemd, the web app is fully configured and can be accessed from a browser.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial, you deployed an ASP.NET Core application to an Ubuntu server. To persist and manage data, you installed and used MySQL server and used the Nginx web server as a reverse proxy to serve your application.</p>

<p>Beyond this tutorial, if you're interested in building an interactive web application using C# instead of Javascript you could try a web UI framework by Microsoft called <a href="https://dotnet.microsoft.com/apps/aspnet/web-apps/client">Blazor</a>. It is an event-driven component-based web UI for implementing logic on the client side of an ASP.NET Core application.</p>

<p>If you wish to deploy your own application, you'll need to consider other required procedures to deploy your app. The complete source code for this demo application can be found <a href="https://github.com/do-community/movie-app-list">here on GitHub</a>.</p>
