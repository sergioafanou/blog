---
layout: post
title: How To Build and Install Go Programs
network: digitalocean
date: November 06, 2019 at 11:25PM
url: https://www.digitalocean.com/community/tutorials/how-to-build-and-install-go-programs
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introduction">Introduction</h3>

<p>So far in our <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-go">How To Code in Go series</a>, you have used the command <a href="https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go#step-2-%E2%80%94-running-a-go-program"><code>go run</code></a> to automatically compile your source code and run the resulting executable. Although this command is useful for testing your code on the command line, distributing or deploying your application requires you to build your code into a shareable <em>binary executable</em>, or a single file containing machine byte code that can run your application. To do this, you can use the Go toolchain to <em>build</em> and <em>install</em> your program.</p>

<p>In Go, the process of translating source code into a binary executable is called <em>building</em>. Once this executable is built, it will contain not only your application, but also all the support code needed to execute the binary on the target platform. This means that a Go binary does not need system dependencies such as Go tooling to run on a new system, unlike other languages like <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-ruby">Ruby</a>, <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">Python</a>, or <a href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js">Node.js</a>. Putting these executables in an executable filepath on your own system will allow you to run the program from anywhere on your system. This is called <em>installing</em> the program onto your system.</p>

<p>In this tutorial, you will use the Go toolchain to run, build, and install a sample <code>Hello, World!</code> program, allowing you to use, distribute, and deploy future applications effectively.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To follow the example in this article, you will need:</p>

<ul>
<li>A Go workspace set up by following <a href="https://www.digitalocean.com/community/tutorial_series/how-to-install-and-set-up-a-local-programming-environment-for-go">How To Install Go and Set Up a Local Programming Environment</a>.</li>
</ul>

<h2 id="setting-up-and-running-the-go-binary">Setting Up and Running the Go Binary</h2>

<p>First, create an application to use as an example for demonstrating the Go toolchain. To do this, you will use the classic &ldquo;Hello, World!&rdquo; program from the <a href="https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go">How To Write Your First Program in Go</a> tutorial.</p>

<p>Create a directory called <code>greeter</code> in your <code>src</code> directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir greeter
</li></ul></code></pre>
<p>Next, move into the newly created directory and create the <code>main.go</code> file in the text editor of your choice:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd greeter
</li><li class="line" prefix="$">nano main.go
</li></ul></code></pre>
<p>Once the file is open, add the following contents:</p>
<div class="code-label " title="src/greeter/main.go">src/greeter/main.go</div><pre class="code-pre "><code class="code-highlight language-go">package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
</code></pre>
<p>When run, this program will print the phrase <code>Hello, World!</code> to the console, and then the program will exit successfully.</p>

<p>Save and exit the file.</p>

<p>To test the program, use the <code>go run</code> command, as you&rsquo;ve done in previous tutorials:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go run main.go
</li></ul></code></pre>
<p>You&rsquo;ll receive the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>As mentioned before, the <code>go run</code> command built your source file into an executable binary, and then ran the compiled program. However, this tutorial aims to build the binary in such a way that you can share and distribute it at will. To do this, you will use the <code>go build</code> command in the next step.</p>

<h2 id="building-go-binaries-with-go-build">Building Go Binaries With <code>go build</code></h2>

<p>Using <code>go build</code>, you can generate an executable binary for our sample Go application, allowing you to distribute and deploy the program where you want.</p>

<p>Try this with <code>main.go</code>. In your <code>greeter</code> directory, run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go build
</li></ul></code></pre>
<p>If you do not provide an argument to this command, <code>go build</code> will automatically compile the <code>main.go</code> program in your current directory. The command will include all your <code>*.go</code> files in the directory. It will also build all of the supporting code needed to be able to execute the binary on any computer with the same system architecture, regardless of whether that system has the <code>.go</code> source files, or even a Go installation.</p>

<p>In this case, you built your <code>greeter</code> application into an executable file that was added to your current directory. Check this by running the <code>ls</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ls
</li></ul></code></pre>
<p>If you are running macOS or Linux, you will find a new executable file that has been named after the directory in which you built your program:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">greeter</span>  main.go
</code></pre>
<p><span class='note'><strong>Note:</strong> On Windows, your executable will be <code>greeter.exe</code>. <br></span></p>

<p>By default <code>go build</code> will generate an executable for the current <a href="https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures#possible-platforms-for-goos-and-goarch">platform and architecture</a>. For example, if built on a <code>linux/386</code> system, the executable will be compatible with any other <code>linux/386</code> system, even if Go is not installed. Go supports building for other platforms and architectures, which you can read more about in our <a href="https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures">Building Go Applications for Different Operating Systems and Architectures</a> article.</p>

<p>Now, that you&rsquo;ve created your executable, run it to make sure the binary has been built correctly. On macOS or Linux, run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">./greeter
</li></ul></code></pre>
<p>On Windows, run:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">greeter.exe
</li></ul></code></pre>
<p>The output of the binary will match the output from when you ran the program with <code>go run</code>:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>Now you have created a single executable binary that contains, not only your program, but also all of the system code needed to run that binary. You can now distribute this program to new systems or deploy it to a server, knowing that the file will always run the same program. </p>

<p>In the next section, this tutorial will explain how a binary is named and how you can change it, so that you can have better control over the build process of your program.</p>

<h2 id="changing-the-binary-name">Changing the Binary Name</h2>

<p>Now that you know how to generate an executable, the next step is to identify how Go chooses a name for the binary and to customize this name for your project.</p>

<p>When you run <code>go build</code>, the default is for Go to automatically decide on the name of the generated executable. It does this in one of two ways: If you are using <a href="https://github.com/golang/go/wiki/Modules">Go Modules</a>, then Go will use the last part of your module&rsquo;s name; otherwise, Go will use the current directory&rsquo;s name. This is the method used in the last section, when you created the <code>greeter</code> directory, changed into it, and then ran <code>go build</code>.</p>

<p>Let&rsquo;s take a closer look at the module method. If you had a <code>go.mod</code> file in your project with a <code>module</code> declaration such as the following:</p>
<div class="code-label " title="go.mod">go.mod</div><pre class="code-pre "><code langs="">module <span class="highlight">github.com/sammy/shark</span>
</code></pre>
<p>Then the default name for the generated executable would be <code><span class="highlight">shark</span></code>.</p>

<p>In more complex programs that require specific naming conventions, these default values will not always be the best choice for naming your binary. In these cases, it would be best to customize your output with the <code>-o</code> flag. </p>

<p>To test this out, change the name of the executable you made in the last section to <code>hello</code> and have it placed in a sub-folder called <code>bin</code>. You don&rsquo;t have to create this folder; Go will do that on its own during the build process.</p>

<p>Run the following <code>go build</code> command with the <code>-o</code> flag:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go build -o bin/hello
</li></ul></code></pre>
<p>The <code>-o</code> flag makes Go match the output of the command to whatever argument you chose. In this case, the result is a new executable named <code>hello</code> in a sub-folder named <code>bin</code>.</p>

<p>To test the new executable, change into the new directory and run the binary:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd bin
</li><li class="line" prefix="$">./hello
</li></ul></code></pre>
<p>You will receive the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>You can now customize the name of your executable to fit the needs of your project, completing our survey of how to build binaries in Go. But with <code>go build</code>, you are still limited to running your binary from the current directory. In order to use newly built executables from anywhere on your system, you can install it using <code>go install</code>.</p>

<h2 id="installing-go-programs-with-go-install">Installing Go Programs with <code>go install</code></h2>

<p>So far in this article, we have discussed how to generate executable binaries from our <code>.go</code> source files. These executables are helpful to distribute, deploy, and test, but they cannot yet be executed from outside of their source directories. This would be a problem if you wanted to actively use your program, such as if you developed a command line tool to help your workflow on your own system. To make the programs easier to use, you can install them into your system and access them from anywhere.</p>

<p>To understand what is meant by this, you will use the <code>go install</code> command to install your sample application.</p>

<p>The <code>go install</code> command behaves almost identically to <code>go build</code>, but instead of leaving the executable in the current directory, or a directory specified by the <code>-o</code> flag, it places the executable into the <code>$GOPATH/bin</code> directory.</p>

<p>To find where your <code>$GOPATH</code> directory is located, run the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go env GOPATH
</li></ul></code></pre>
<p>The output you receive will vary, but the default is the <code>go</code> directory inside of your <code>$HOME</code> directory:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>$HOME/go
</code></pre>
<p>Since <code>go install</code> will place generated executables into a sub-directory of <code>$GOPATH</code> named <code>bin</code>, this directory must be added to the <code>$PATH</code> environment variable. This is covered in the <strong>Creating Your Go Workspace</strong> step of the prerequisite article <a href="https://www.digitalocean.com/community/tutorial_series/how-to-install-and-set-up-a-local-programming-environment-for-go">How To Install Go and Set Up a Local Programming Environment</a>. </p>

<p>With the <code>$GOPATH/bin</code> directory set up, move back to your <code>greeter</code> directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ..
</li></ul></code></pre>
<p>Now run the install command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go install
</li></ul></code></pre>
<p>This will build your binary and place it in <code>$GOPATH/bin</code>. To test this, run the following:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ls $GOPATH/bin
</li></ul></code></pre>
<p>This will list the contents of <code>$GOPATH/bin</code>:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>greeter
</code></pre>
<p><span class='note'><strong>Note:</strong> The <code>go install</code> command does <strong>not</strong> support the <code>-o</code> flag, so it will use one of the default names described earlier to name the executable.<br></span></p>

<p>With the binary installed, test to see if the program will run from outside its source directory. Move back to your home directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd $HOME
</li></ul></code></pre>
<p>Use the following to run the program:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">greeter
</li></ul></code></pre>
<p>This will yield the following:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>Now you can take the programs you write and install them into your system, allowing you to use them from wherever, whenever you need them.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial, you demonstrated how the Go toolchain makes it easy to build executable binaries from source code. These binaries can be distributed to run on other systems, even ones that do not have Go tooling and environments. You also used <code>go install</code> to automatically build and install our programs as executables in the system&rsquo;s <code>$PATH</code>. With <code>go build</code> and <code>go install</code>, you now have the ability to share and use your application at will.</p>

<p>Now that you know the basics of <code>go build</code>, you can explore how to make modular source code with the <a href="https://www.digitalocean.com/community/tutorials/customizing-go-binaries-with-build-tags">Customizing Go Binaries with Build Tags</a> tutorial, or how to build for different platforms with <a href="https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures">Building Go Applications for Different Operating Systems and Architectures</a>. If you&rsquo;d like to learn more about the Go programming language in general, check out the entire <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-go">How To Code in Go series</a>.</p>
