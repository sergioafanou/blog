---
layout: post
title: Cómo instalar y configurar GitLab en Ubuntu 18.04.
network: digitalocean
date: December 05, 2019 at 06:49PM
url: https://www.digitalocean.com/community/tutorials/como-instalar-y-configurar-gitlab-en-ubuntu-18-04-es
image: https://assets.digitalocean.com/articles/gitlab_install_1604/gitlab_initial_password2.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introducción">Introducción</h3>

<p><a href="https://gitlab.com/gitlab-org/gitlab-ce">GitLab CE</a>, o Community Edition, es una aplicación de código abierto que se utiliza, principalmente, para alojar repositorios Git, con funciones adicionales relacionadas con el desarrollo, como el seguimiento de incidentes. Está diseñado para alojarse usando su propia infraestructura, y ofrece flexibilidad al implementarse como almacén repositorio interno para su equipo de desarrollo, una forma pública de interactuar con los usuarios o un medio para que colaboradores alojen sus propios proyectos.</p>

<p>El proyecto GitLab hace que sea relativamente fácil configurar una instancia de GitLab en su propio hardware con un sencillo mecanismo de instalación. En esta guía, explicaremos cómo instalar y configurar GitLab en un servidor Ubuntu 18.04.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>Para este tutorial, necesitará lo siguiente:</p>

<ul>
<li>Un servidor Ubuntu 18.04 con un usuario sudo no root y un firewall básico. Para configurarlo, siga nuestra <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">Guía de configuración inicial del servidor Ubuntu 18.04</a>.</li>
</ul>

<p>Los <a href="http://docs.gitlab.com/ce/install/requirements.html#hardware-requirements">requisitos de hardware publicados de GitLab</a> recomiendan usar un servidor con lo siguiente:</p>

<ul>
<li>2 núcleos</li>
<li>8 GB de RAM</li>
</ul>

<p>Si bien es posible que se pueda arreglar sustituyendo algún espacio de intercambio por RAM, no se recomienda hacerlo. Para esta guía, asumiremos que tiene, como mínimo, los recursos anteriores.</p>

<ul>
<li>Un nombre de dominio que apunte a su servidor. Para obtener más información, consulte nuestra documentación sobre <a href="https://www.digitalocean.com/docs/networking/dns/quickstart/">cómo comenzar a usar DNS en DigitalOcean</a>. Este tutorial usará el nombre de dominio <strong>example.com</strong>.</li>
</ul>

<h2 id="paso-1-instalación-de-las-dependencias">Paso 1: instalación de las dependencias</h2>

<p>Antes de poder instalar GitLab, es importante instalar algunos de los programas de software que utiliza durante la instalación y de forma continua. Afortunadamente, todo el software requerido puede instalarse fácilmente desde los repositorios  del paquete predeterminado de Ubuntu.</p>

<p>Ya que esta es la primera vez que usamos <code>apt</code> durante esta sesión, podemos actualizar el índice de paquete local y, luego, instalar las dependencias escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li><li class="line" prefix="$">sudo apt install ca-certificates curl openssh-server postfix
</li></ul></code></pre>
<p>Probablemente, ya tenga algunos de estos programas de software instalados. Para la instalación de <code>postfix</code>, seleccione el <strong>sitio de Internet</strong> cuando se le indique. En la siguiente pantalla, introduzca el nombre de dominio de su servidor para configurar la manera en que el sistema enviará el correo.</p>

<h2 id="paso-2-instalación-de-gitlab">Paso 2: instalación de GitLab</h2>

<p>Ahora que las dependencias están instaladas, podemos instalar GitLab. Este es un proceso sencillo que utiliza una secuencia de comandos de instalación para configurar su sistema con los repositorios de GitLab.</p>

<p>Vaya al directorio <code>/tmp</code> y descargue la secuencia de comandos de instalación:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /tmp
</li><li class="line" prefix="$">curl -LO https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh
</li></ul></code></pre>
<p>Examine la secuencia de comandos descargada para asegurarse de sentirse cómodo con las acciones que realizará. También puede encontrar una versión alojada de la secuencia de comandos <a href="https://packages.gitlab.com/gitlab/gitlab-ce/install">aquí</a>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">less /tmp/script.deb.sh
</li></ul></code></pre>
<p>Cuando esté satisfecho con la seguridad de la secuencia de comandos, ejecute el instalador:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo bash /tmp/script.deb.sh
</li></ul></code></pre>
<p>La secuencia de comandos configurará su servidor para que utilice los repositorios que mantiene GitLab. Esto le permite administrar GitLab con las mismas herramientas de administración de paquetes que utiliza para otros paquetes del sistema. Una vez completado esto, pude instalar la aplicación GitLab con <code>apt</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install gitlab-ce
</li></ul></code></pre>
<p>Esto instalará los componentes necesarios en su sistema.</p>

<h2 id="paso-3-ajuste-de-las-reglas-del-firewall">Paso 3: ajuste de las reglas del firewall</h2>

<p>Antes de configurar GitLab, deberá asegurarse de que las reglas de su firewall permitan el tráfico web. Si  siguió la guía indicada en los requisitos previos, tendrá un firewall <code>ufw</code> habilitado.</p>

<p>Consulte el estado actual de su firewall activo escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw status
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Status: active

To                         Action      From
--                         ------      ----
OpenSSH                    ALLOW       Anywhere                  
OpenSSH (v6)               ALLOW       Anywhere (v6)
</code></pre>
<p>Como puede ver, las reglas actuales permiten tráfico SSH, pero el acceso a otros servicios está restringido. Ya que GitLab es una aplicación web, debemos permitir el acceso HTTP. Debido a que aprovecharemos la capacidad de GitLab para solicitar y habilitar un certificado TLS/SSL gratuito de <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a>, también vamos a permitir el acceso HTTPS.</p>

<p>El protocolo para asignar un puerto para HTTP y HTTPS está disponible en el archivo <code>/etc/services</code>, para que podamos permitir ese tráfico entrante por nombre. Si aún no tiene el tráfico OpenSSH, habilitado, también deberá permitir  ese tráfico ahora:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw allow http
</li><li class="line" prefix="$">sudo ufw allow https
</li><li class="line" prefix="$">sudo ufw allow OpenSSH
</li></ul></code></pre>
<p>Vuelva a comprobar <code>ufw status</code>; debería ver el acceso configurado, por lo menos, para estos dos servicios:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw status
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Status: active

To                         Action      From
--                         ------      ----
OpenSSH                    ALLOW       Anywhere                  
80/tcp                     ALLOW       Anywhere                  
443/tcp                    ALLOW       Anywhere                  
OpenSSH (v6)               ALLOW       Anywhere (v6)             
80/tcp (v6)                ALLOW       Anywhere (v6)             
443/tcp (v6)               ALLOW       Anywhere (v6)
</code></pre>
<p>El resultado anterior indica que la interfaz web de GitLab será accesible una vez que configuremos la aplicación.</p>

<h2 id="paso-4-edición-del-archivo-de-configuración-de-gitlab">Paso 4: edición del archivo de configuración de GitLab</h2>

<p>Antes de poder usar la aplicación, deberá actualizar el archivo de configuración y ejecutar un comando de reconfiguración. Primero, abra el archivo de configuración de GitLab:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/gitlab/gitlab.rb
</li></ul></code></pre>
<p>Cerca de la parte superior, se encuentra la línea de configuración <code>external_url</code>. Actualícela para que coincida con su dominio. Cambie <code>http</code> por <code>https</code> para que GitLab redirija automáticamente a los usuarios al sitio protegido por el certificado Let´s Encrypt:</p>
<div class="code-label " title="/etc/gitlab/gitlab.rb">/etc/gitlab/gitlab.rb</div><pre class="code-pre "><code langs="">##! For more details on configuring external_url see:
##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab
external_url 'http<span class="highlight">s</span>://<span class="highlight">example.com</span>'
</code></pre>
<p>A continuación, busque el ajuste <code>letsencrypt['contact_emails']</code>. Este ajuste define una lista de direcciones de correo electrónico que el proyecto de Let&rsquo;s Encrypt puede usar para ponerse en contacto con usted si hay problemas con su dominio. Es recomendable quitar los comentarios y completar este ajuste para que esté al tanto cualquier problema:</p>
<div class="code-label " title="/etc/gitlab/gitlab.rb">/etc/gitlab/gitlab.rb</div><pre class="code-pre "><code langs="">letsencrypt['contact_emails'] = ['<span class="highlight">sammy@example.com</span>']
</code></pre>
<p>Guarde y cierre el archivo. Ejecute el siguiente comando para reconfigurar GitLab:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo gitlab-ctl reconfigure
</li></ul></code></pre>
<p>Esto inicializará GitLab usando la información que puede encontrar sobre su servidor. Este es un proceso completamente automatizado, por lo que no tendrá que responder ninguna pregunta. El proceso también configurará un certificado Let&rsquo;s Encrypt para su domino.</p>

<h2 id="paso-5-configuración-inicial-a-través-de-la-interfaz-web">Paso 5: configuración inicial a través de la interfaz web</h2>

<p>Con GitLab ejecutándose y el acceso permitido, podemos realizar algunos ajustes iniciales de la aplicación a través de la interfaz web.</p>

<h3 id="iniciar-sesión-por-primera-vez">Iniciar sesión por primera vez</h3>

<p>Visite el nombre del dominio de su servidor GitLab en su navegador web:</p>
<pre class="code-pre "><code langs="">https://<span class="highlight">example.com</span>
</code></pre>
<p>En su primera visita, verá una solicitud inicial para configurar una contraseña para la cuenta administrativa:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/gitlab_initial_password2.png" alt="Solicitud de establecimiento de una contraseña inicial de GitLab"></p>

<p>En la solicitud de contraseña inicial, proporcione y confirme una contraseña segura para la cuenta administrativa. Haga clic en el botón <strong>Cambiar contraseña</strong> cuando haya terminado.</p>

<p>Se lo redirigirá a la página de inicio de sesión convencional de GitLab:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/gitlab_first_signin2.png" alt="Solicitud de acceso inicial de GitLab"></p>

<p>Aquí, puede iniciar sesión con la contraseña que acaba de configurar. Las credenciales son:</p>

<ul>
<li>Nombre de usuario: <strong>root</strong></li>
<li>Contraseña: la [contraseña que estableció]</li>
</ul>

<p>Introduzca estos valores en los campos para los usuarios existentes y haga clic en el botón <strong>Iniciar sesión</strong>. Iniciará sesión en la aplicación y se lo dirigirá a una página de destino que le indicará que comience a añadir proyectos:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/landing_page2.png" alt="Página de destino de acceso inicial de GitLab"></p>

<p>Ahora, puede realizar algunos cambios sencillos para configurar GitLab de la forma que desee.</p>

<h3 id="configurar-los-ajustes-de-su-perfil">Configurar los ajustes de su perfil</h3>

<p>Una de las primeras cosas que debe hacer tras una nueva instalación es mejorar su perfil. GitLab selecciona algunos valores predeterminados razonables, pero estos no suelen ser apropiados una vez que comienza a usar el software.</p>

<p>Para realizar las modificaciones necesarias, haga clic en el icono de usuario en la esquina superior derecha de la interfaz. En el menú desplegable que aparece, seleccione <strong>Ajustes</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/profile_settings_button2.png" alt="Botón de ajustes del perfil de GitLab"></p>

<p>Se lo dirigirá a la sección <strong>Perfil</strong> de sus ajustes:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/profile_settings2.png" alt="Página de ajustes de perfil de GitLab"></p>

<p>Cambie el <strong>nombre</strong> &ldquo;Administrador&rdquo; y la dirección de <strong>correo electrónico</strong> &ldquo;<a href="mailto:admin@example.com">admin@example.com</a>&rdquo; por datos más precisos. El nombre que seleccione se mostrará a otros usuarios, y el correo electrónico se usará para la detección predeterminada de avatar, las notificaciones, acciones de Git en la interfaz, etc.</p>

<p>Haga clic en el botón <strong>Actualizar ajustes de perfil</strong> en la parte inferior cuando esté listo:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/update_profile_settings_button2.png" alt="Botón Actualizar ajustes de perfil de GitLab"></p>

<p>Se enviará un correo electrónico de confirmación a la dirección que proporcionó. Siga las instrucciones del correo electrónico para confirmar su cuenta y poder comenzar a usarla en GitLab.</p>

<h3 id="cambiar-el-nombre-de-su-cuenta">Cambiar el nombre de su cuenta</h3>

<p>A continuación, haga clic en el elemento <strong>Cuenta</strong> en la barra de menú izquierda:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/account_menu_item2.png" alt="Elemento del menú Cuenta de GitLab"></p>

<p>Aquí, puede encontrar su token de API privado o configurar una autenticación de dos factores. Sin embargo, la funcionalidad en la que estamos interesados en este momento es la sección <strong>Cambiar nombre de usuario</strong>:</p>

<p>Por defecto, la primera cuenta administrativa recibe el nombre** root*<em>. Ya que este es un nombre de cuenta conocido, es más seguro cambiarlo a un nombre diferente. Seguirá teniendo privilegios administrativos; lo único que cambiará será el nombre. Sustituya *</em>root **por su nombre de usuario preferido:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/change_username2.png" alt="Sección de cambio de nombre de usuario de GitLab"></p>

<p>Haga clic en el botón <strong>Actualizar nombre de usuario</strong> para realizar el cambio:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/update_username_button2.png" alt="Botón Actualizar nombre de usuario de GitLab"></p>

<p>La próxima vez que inicie sesión en GitLab, recuerde usar su nuevo nombre de usuario.</p>

<h3 id="añadir-una-clave-ssh-a-su-cuenta">Añadir una clave SSH a su cuenta</h3>

<p>En la mayoría de los casos, le convendrá usar claves SSH con Git para interactuar con sus proyectos de GitLab. Para hacerlo, deberá añadir su clave pública SSH a su cuenta de GitLab.</p>

<p>Si ya tiene un par de claves SSH creado en su <strong>equipo local</strong>, normalmente, podrá ver la clave pública escribiendo lo siguiente:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cat ~/.ssh/id_rsa.pub
</li></ul></code></pre>
<p>Debería ver una gran porción de texto similar a esta:</p>
<pre class="code-pre  local-environment"><code langs=""><div class="secondary-code-label " title="Output">Output</div>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDMuyMtMl6aWwqBCvQx7YXvZd7bCFVDsyln3yh5/8Pu23LW88VXfJgsBvhZZ9W0rPBGYyzE/TDzwwITvVQcKrwQrvQlYxTVbqZQDlmsC41HnwDfGFXg+QouZemQ2YgMeHfBzy+w26/gg480nC2PPNd0OG79+e7gFVrTL79JA/MyePBugvYqOAbl30h7M1a7EHP3IV5DQUQg4YUq49v4d3AvM0aia4EUowJs0P/j83nsZt8yiE2JEYR03kDgT/qziPK7LnVFqpFDSPC3MR3b8B354E9Af4C/JHgvglv2tsxOyvKupyZonbyr68CqSorO2rAwY/jWFEiArIaVuDiR9YM5 sammy@mydesktop
</code></pre>
<p>Copie este texto y vuelva a la página Ajustes de perfil en la interfaz web de GitLab.</p>

<p>Si, en su lugar, recibe un mensaje como este, aún no tiene un par de claves SSH configurado en su máquina:</p>
<pre class="code-pre  local-environment"><code langs=""><div class="secondary-code-label " title="Output">Output</div>cat: /home/sammy/.ssh/id_rsa.pub: No such file or directory
</code></pre>
<p>En este caso, puede crear un par de claves SSH escribiendo lo siguiente:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh-keygen
</li></ul></code></pre>
<p>Acepte los valores predeterminados y, opcionalmente, proporcione una contraseña para proteger la clave de forma local:</p>
<pre class="code-pre  local-environment"><code langs=""><div class="secondary-code-label " title="Output">Output</div>Generating public/private rsa key pair.
Enter file in which to save the key (/home/sammy/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/sammy/.ssh/id_rsa.
Your public key has been saved in /home/sammy/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:I8v5/M5xOicZRZq/XRcSBNxTQV2BZszjlWaIHi5chc0 sammy@gitlab.docsthat.work
The key's randomart image is:
+---[RSA 2048]----+
|          ..%o==B|
|           *.E =.|
|        . ++= B  |
|         ooo.o . |
|      . S .o  . .|
|     . + .. .   o|
|      +   .o.o ..|
|       o .++o .  |
|        oo=+     |
+----[SHA256]-----+
</code></pre>
<p>Una vez que lo haya realizado, podrá visualizar su clave pública como se muestra arriba escribiendo lo siguiente:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cat ~/.ssh/id_rsa.pub
</li></ul></code></pre><pre class="code-pre  local-environment"><code langs=""><div class="secondary-code-label " title="Output">Output</div>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDMuyMtMl6aWwqBCvQx7YXvZd7bCFVDsyln3yh5/8Pu23LW88VXfJgsBvhZZ9W0rPBGYyzE/TDzwwITvVQcKrwQrvQlYxTVbqZQDlmsC41HnwDfGFXg+QouZemQ2YgMeHfBzy+w26/gg480nC2PPNd0OG79+e7gFVrTL79JA/MyePBugvYqOAbl30h7M1a7EHP3IV5DQUQg4YUq49v4d3AvM0aia4EUowJs0P/j83nsZt8yiE2JEYR03kDgT/qziPK7LnVFqpFDSPC3MR3b8B354E9Af4C/JHgvglv2tsxOyvKupyZonbyr68CqSorO2rAwY/jWFEiArIaVuDiR9YM5 sammy@mydesktop
</code></pre>
<p>Copie el bloque de texto que se muestra, y vuelva a los <strong>Ajustes</strong> de su perfil en la interfaz web de GitLab.</p>

<p>Haga clic en el elemento <strong>Claves SSH</strong> en el menú izquierdo:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/ssh_keys_menu_item2.png" alt="Elemento del menú Claves SSH de GitLab"></p>

<p>En el espacio proporcionado, pegue la clave pública que copió desde su máquina local. Dele un título descriptivo, y haga clic en el botón <strong>Añadir clave</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/add_ssh_key2.png" alt="Añadir clave SSH en GitLab"></p>

<p>Ahora, debería poder administrar sus proyectos y repositorios de GitLab desde su máquina local sin tener que proporcionar las credenciales de su cuenta de GitLab.</p>

<h2 id="paso-6-restricción-o-desactivación-de-registros-públicos-opcional">Paso 6: restricción o desactivación de registros públicos (opcional)</h2>

<p>Quizá haya advertido que cualquier persona puede registrar una cuenta al visitar su página de destino de la instancia de GitLab. Tal vez sea lo que quiere si está alojando un proyecto público. Sin embargo, muchas veces, es necesario tener ajustes más restrictivos.</p>

<p>Para comenzar, diríjase al área administrativa haciendo clic en el icono *<em>de llave inglesa *</em>en la barra de menú principal ubicada en la parte superior de la página.</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/admin_area_button2.png" alt="Botón del área administrativa de GitLab"></p>

<p>En la siguiente página, puede ver un resumen de su instancia de GitLab en su totalidad. Para configurar los ajustes, haga clic en el elemento <strong>Ajustes</strong> en la parte inferior del menú de la izquierda:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/admin_settings_button2.png" alt="Botón de ajustes administrativos de GitLab"></p>

<p>Se lo dirigirá a los ajustes globales de su instancia de GitLab. Aquí, puede configurar varios ajustes que afectan a la capacidad de los nuevos usuarios para registrarse, así como su nivel de acceso.</p>

<h3 id="deshabilitar-registros">Deshabilitar registros</h3>

<p>Si desea deshabilitar los registros por completo (aún podrá crear cuentas manualmente para nuevos usuarios), desplácese a la sección <strong>Restricciones de registro</strong>.</p>

<p>Anule la selección de la casilla <strong>Registro habilitado</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/deselect_sign-ups_enabled.png" alt="Anulación de la selección de registros habilitados en GitLab"></p>

<p>Desplácese a la parte inferior y haga clic en el botón <strong>Guardar cambios</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/new_save_changes_button.png" alt="Botón Guardar ajustes en GitLab"></p>

<p>Ahora, la sección de registro no debería estar presente en la página de destino de GitLab.</p>

<h3 id="restringir-registros-por-dominio">Restringir registros por dominio</h3>

<p>Si está usando GitLab como parte de una organización que proporciona direcciones de correo electrónico asociadas con un dominio, puede restringir los registros por dominio en vez de deshabilitarlos por completo.</p>

<p>En la sección <strong>Restricciones de registro</strong>, seleccione el cuadro <strong>Enviar correo de confirmación al registrarse</strong>, que permitirá a los usuarios iniciar sesión solo tras haber confirmado su correo electrónico.</p>

<p>A continuación, añada su dominio o dominios al cuadro <strong>Dominios con permiso de registro</strong>, uno por línea. Puede usar el asterisco &ldquo;*&rdquo; para especificar dominios comodín:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/restrict_sign-ups_by_domain.png" alt="Restricción de registros por dominio de GitLab"></p>

<p>Desplácese a la parte inferior y haga clic en el botón <strong>Guardar cambios:</strong></p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/new_save_changes_button.png" alt="Botón Guardar ajustes en GitLab"></p>

<p>Ahora, la sección de registro no debería estar presente en la página de destino de GitLab.</p>

<h3 id="restringir-la-creación-de-proyectos">Restringir la creación de proyectos</h3>

<p>Por defecto, los nuevos usuarios pueden crear hasta 10 proyectos. Si desea permitir que nuevos usuarios externos tengan visibilidad y capacidad de manipulación, pero quiere restringir su acceso para crear nuevos proyectos, puede hacerlo en la sección <strong>Ajustes de cuenta y límites</strong>.</p>

<p>Aquí, puede cambiar el <strong>Límite predeterminado de proyectos</strong> a 0 o deshabilitar por completo la capacidad de los nuevos usuarios para crear proyectos:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/set_projects_to_zero.png" alt="Establecer proyectos a cero en GitLab"></p>

<p>Se podrán continuar añadiendo nuevos usuarios al proyecto manualmente, y tendrán acceso a los proyectos internos o públicos creados por otros usuarios.</p>

<p>Desplácese a la parte inferior y haga clic en el botón <strong>Guar dar cambios</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/gitlab_install_1604/new_save_changes_button.png" alt="Botón Guardar ajustes en GitLab"></p>

<p>Ahora, los nuevos usuarios podrán crear cuentas, pero no proyectos.</p>

<h3 id="renovar-los-certificados-de-let´s-encrypt">Renovar los certificados de Let´s Encrypt</h3>

<p>Por defecto, GitLab tiene una tarea programada para renovar los certificados de Let&rsquo;s Encrypt después de medianoche cada 4 días (el minuto exacto se basa en su <code>external_url</code>). Puede modificar estos ajustes en el archivo <code>/etc/gitlab/gitlab.rb</code>. Por ejemplo, si quisiera establecer la renovación cada 7 días a las 12:30, podría hacerlo de la siguiente manera:</p>
<div class="code-label " title="/etc/gitlab/gitlab.rb">/etc/gitlab/gitlab.rb</div><pre class="code-pre "><code langs="">letsencrypt['auto_renew_hour'] = "12"
letsencrypt['auto_renew_minute'] = "30"
letsencrypt['auto_renew_day_of_month'] = "*/7"
</code></pre>
<p>También puede desactivar la renovación automática añadiendo un ajuste adicional a <code>/etc/gitlab/gitlab.rb</code>.</p>
<div class="code-label " title="/etc/gitlab/gitlab.rb">/etc/gitlab/gitlab.rb</div><pre class="code-pre "><code langs="">letsencrypt['auto_renew'] = false
</code></pre>
<p>Con las renovaciones automáticas configuradas, no tendrá que preocuparse por las interrupciones del servicio.</p>

<h2 id="conclusión">Conclusión</h2>

<p>Ahora, debería tener una instancia de GitLab operativa alojada en su propio servidor. Puede comenzar a importar o crear nuevos proyectos y configurar el nivel apropiado de acceso para su equipo. GitLab añade nuevas funciones y realiza actualizaciones a su plataforma con regularidad, por lo tanto, asegúrese de visitar la página de inicio del proyecto para estar al día de cualquier mejora o aviso importante.</p>
