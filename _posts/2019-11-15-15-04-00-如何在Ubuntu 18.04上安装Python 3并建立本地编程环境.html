---
layout: post
title: 如何在Ubuntu 18.04上安装Python 3并建立本地编程环境
network: digitalocean
date: November 15, 2019 at 03:04PM
url: https://www.digitalocean.com/community/tutorials/ubuntu-18-04-python-3-zh
image: https://assets.digitalocean.com/articles/eng_python/UbuntuDebianSetUp/UbuntuSetUp.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="简介">简介</h3>

<p>Python是一种灵活多样的编程语言。它的用途广泛，在脚本、自动化、数据分析、机器学习和后端开发方面都具有优势。Python于1991年首次发行，名字的灵感来源于英国喜剧团体“Monty Python”，因此Python开发团队希望让Python用起来很有趣。易于安装配置、代码风格相对简单直接、有即时的反馈和报错，这些特性让Python成为编程初学者的一个很好选择，也同样适合有经验的程序员。<a href="https://www.digitalocean.com/community/tutorials/python-2-vs-python-3-practical-considerations-2">Python 3是最新的版本</a> 并被认为是Python的未来.</p>

<p>本教程将指导你在<strong>本地</strong>Linux机器上安装Python 3，并且通过命令行设置编程环境。此教程将清楚地介绍Ubuntu 18.04的安装过程，但通用原则同样适用于Debian Linux的任何其他发行版。</p>

<h2 id="必备条件">必备条件</h2>

<p>你需要一台安装了Ubuntu 18.04的计算机或虚拟机、对该计算机有管理员权限、机器需联网。你可以通过<a href="http://releases.ubuntu.com/releases/18.04/">Ubuntu 18.04的发行版本网页</a>去下载操作系统。 </p>

<h2 id="第一步-—-配置python-3">第一步 — 配置Python 3</h2>

<p>我们将在命令行上完成安装和配置，命令行（command line）是一种与计算机交互的非图形方式。也就是说，不点击按钮而是输入文本，从计算机接收的反馈结果同样是文本形式。</p>

<p>命令行（command line），也称为shell，或终端（terminal），可以帮助你修改和自动化众多“需要每天在计算机上执行的&quot;任务，是程序员的基本工具。有许多终端命令可以学习，赋予你能力去做更强大的事。 这篇文章 “<a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal">Linux终端命令行简介</a>” 能让你更熟悉命令行。</p>

<p>在Ubuntu 18.04上，你可以通过点击屏幕左上角的Ubuntu图标并在搜索栏中输入“Terminal”/“终端”，来找到终端应用程序。单击终端应用程序图标便可打开它。或者你可以同时按住键盘上的“CTRL”、“ALT”和“T”键来自动打开终端。</p>

<p><img src="https://assets.digitalocean.com/articles/eng_python/UbuntuDebianSetUp/UbuntuSetUp.png" alt="Ubuntu终端命令行"></p>

<p>Ubuntu 18.04预装了Python 3和Python 2。为了确保我们的版本是最新的，让我们用<code>apt</code>命令去更新和升级系统。Ubuntu上的<code>apt</code>是英文<strong>A</strong>dvanced <strong>P</strong>ackaging <strong>T</strong>ool（高级软件包工具）的简写</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li><li class="line" prefix="$">sudo apt -y upgrade
</li></ul></code></pre>
<p>此处的<code>-y</code>标志，将会确认我们同意安装所有项目，但根据你的Linux版本，在系统更新和升级时，你可能需要确认额外的系统提示。</p>

<p>当此过程完成后，我们可以通过输入以下命令，去检查系统中安装的Python 3版本：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">python3 -V
</li></ul></code></pre>
<p>你将在终端窗口中收到输出结果，它将告诉你版本号。版本号可能有所不同，但将会与此类似：</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Python <span class="highlight">3.6.5</span>
</code></pre>
<p>为了管理Python的软件包，让我们安装<strong>pip</strong>。这个工具将安装和管理在开发项目中，我们可能会用到的软件包。若想了解更多关于“使用pip安装模块或软件包”的信息，你可以参考这篇文章：“<a href="https://www.digitalocean.com/community/tutorials/how-to-import-modules-in-python-3">如何在Python 3中调用模块</a>.”</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install -y python3-pip
</li></ul></code></pre>
<p>Python的软件包安装，可以通过输入以下命令去实现：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">pip3 install <span class="highlight">软件包的名称</span>
</li></ul></code></pre>
<p>这里的<code><span class="highlight">软件包的名称</span></code> 可以是任何的Python软件包或软件库，比如用于网站开发的<code>Django</code>，或是用于科学运算的<code>NumPy</code>。 因此如果你想安装NumPy，你可以使用这个命令：<code>pip3 install numpy</code>。</p>

<p>有一些软件包和开发工具需要额外安装，以确保我们的编程环境有一个健全的配置：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install build-essential libssl-dev libffi-dev python-dev
</li></ul></code></pre>
<p>如果有系统提示问是否同意安装，输入<code>y</code>。</p>

<p>设置好了Python，安装好了pip和其他工具，我们就可以为我们的开发项目设置一个“虚拟环境”。</p>

<h2 id="第二步-配置虚拟环境">第二步 - 配置虚拟环境</h2>

<p>虚拟环境使您能够在计算机上为Python项目保留一个独立的空间，从而确保每个项目都有自己的一组依赖软件包，不会干扰任何其他项目。</p>

<p>通过设置编程环境，我们可以更好地控制Python项目、以及管理不同版本的包。在使用第三方软件包时，这一点尤其重要。</p>

<p>你可以设置任意多数量的Python编程环境。每个环境简单来讲，就是计算机中的一个目录或文件夹，其中包含一些脚本以使其成为“环境”。</p>

<p>虽然有几种方法可以在Python中实现编程环境，我们将在这里使用<strong>venv</strong>模块，它是标准Python 3库的一部分。让我们输入以下命令来安装venv：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install -y python3-venv
</li></ul></code></pre>
<p>安装好venv之后，我们就可以创建环境了。我们可以将Python编程环境放某个已有的目录中，也可以使用<code>mkdir</code>创建一个新目录，如下所示：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir <span class="highlight">environments</span>
</li><li class="line" prefix="$">cd <span class="highlight">environments</span>
</li></ul></code></pre>
<p>当你进入希望安装环境群组的目录<code>environments</code>中之后，可以通过运行以下命令创建环境：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">python3 -m venv <span class="highlight">my_env</span>
</li></ul></code></pre>
<p>总的来说这将设置一个新目录<code>my_env</code>，其中包含一些项目，可以使用<code>ls</code>进行查看：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ls my_env
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>bin include lib lib64 pyvenv.cfg share
</code></pre>
<p>这些文件会协同工作，以确保你的项目与本地计算机的大环境隔离，这样系统文件和项目文件就不会混合在一起。这是版本控制的良好实践，可以确保每个项目都可以访问特定的、其所需的包。Python Wheels是一种为Python构建的“包格式”，它可以通过减少需要编译的次数来加速软件生产，它位于Ubuntu 18.04的<code>share</code>目录中。</p>

<p>你需要激活环境才能使用它，你可以通过输入以下命令，调用激活脚本：</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source <span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>现在命令行每行的行首提示，将以你的环境名作为前缀，在我们的情况下它被称为<span class="highlight">my_env</span>。你的前缀可能看起来有些不同，但括号中的环境名称应该是在行首：</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@localhost:~/environments$">
</li></ul></code></pre>
<p>这个前缀让我们知道环境<span class="highlight">my env</span>当前处于活动状态，这意味着当我们在这里创建程序时，它们将只使用这个特定环境的设置和包。</p>

<p><span class='note'><strong>注意</strong> 在虚拟环境中，可以使用命令python代替python3，使用命令pip代替pip3。如果在环境之外的计算机上使用python3，则需要专门使用<code>python3</code>和<code>pip3</code>命令。<br></span></p>

<p>这些步骤完成后，你的虚拟环境就可以使用了。</p>

<h2 id="第三步-—-创建“hello-world”程序">第三步 — 创建“Hello, World”程序</h2>

<p>现在我们已经建立了虚拟环境，让我们创建一个经典的的“Hello, World!”程序。这可以测试我们的环境，若还不熟悉Python，这个程序会让我们有机会更加熟悉它。</p>

<p>为此我们将打开“命令行文本编辑器”（如nano）并创建一个新文件：</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@localhost:~/environments$">nano hello.py
</li></ul></code></pre>
<p>当文本文件在终端窗口打开时，我们将输入我们的程序：</p>
<pre class="code-pre "><code class="code-highlight language-python">print("Hello, World!")
</code></pre>
<p>同时按下<code>CTRL</code>和<code>X</code>退出nano，然后当提示问是否想保存时，按下<code>y</code>。 </p>

<p>一旦你退出nano并返回到命令行，我们将运行这个程序：</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@localhost:~/environments$">python hello.py
</li></ul></code></pre>
<p>刚刚创建的<code>hello.py</code>程序应当使终端命令行输出以下结果：</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>若想离开环境，只需输入命令<code>deactivate</code>即可返回到原始目录。</p>

<h2 id="总结">总结</h2>

<p>恭喜！现在你已经在本地Ubuntu机器上设置了Python 3的编程环境，可以开始一个编程项目了！</p>

<p>如果你使用着不同的计算机操作系统，请参阅我们与操作系统相关的系列教程：“<a href="https://www.digitalocean.com/community/tutorial_series/how-to-install-and-set-up-a-local-programming-environment-for-python-3">如何为Python 3安装和设置本地编程环境</a>”。或者，如果你使用的是Ubuntu服务器，可以参考这个教程 “<a href="https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-programming-environment-on-an-ubuntu-18-04-server">如何在Ubuntu 18.04服务器上安装Python并设置编程环境</a>”。</p>

<p>在本地机器准备好进行软件开发之后，您可以继续学习Python编程，我们有一些免费教程供你参考<a href="https://do.co/python-book"><em>如何用Python 3编程</em> 电子书</a>，或是参照<a href="https://www.digitalocean.com/community/tags/project/tutorials">编程项目教程</a>。</p>
