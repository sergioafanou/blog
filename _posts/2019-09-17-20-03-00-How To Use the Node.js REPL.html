---
layout: post
title: How To Use the Node.js REPL
network: digitalocean
date: September 17, 2019 at 08:03PM
url: https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>The author selected the <a href="https://www.brightfunds.org/funds/open-internet-free-speech">Open Internet/Free Speech Fund</a> to receive a donation as part of the <a href="https://do.co/w4do-cta">Write for DOnations</a> program.</em></p>

<h3 id="introduction">Introduction</h3>

<p>The Node.js <em>Read-Eval-Print-Loop</em> (REPL) is an interactive shell that processes Node.js expressions. The shell <strong>reads</strong> JavaScript code the user enters, <strong>eval</strong>uates the result of interpreting the line of code, <strong>prints</strong> the result to the user, and <strong>loops</strong> until the user signals to quit.</p>

<p>The REPL is bundled with with every Node.js installation and allows you to quickly test and explore JavaScript code within the Node environment without having to store it in a file.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To complete this tutorial, you will need:</p>

<ul>
<li>Node.js installed on your development machine. This tutorial uses version 10.16.0. To install this on macOS or Ubuntu 18.04, follow the steps in <a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos">How to Install Node.js and Create a Local Development Environment on macOS</a> or the &ldquo;Installing Using a PPA&rdquo; section of <a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04">How To Install Node.js on Ubuntu 18.04</a>.</li>
<li>A basic knowledge of JavaScript, which you can find here: <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript">How To Code in JavaScript</a></li>
</ul>

<h2 id="step-1-—-starting-and-stopping-the-repl">Step 1 — Starting and Stopping the REPL</h2>

<p>If you have <code>node</code> installed, then you also have the Node.js REPL. To start it, simply enter <code>node</code> in your command line shell:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">node
</li></ul></code></pre>
<p>This results in the REPL prompt:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt;
</li></ul></code></pre>
<p>The <code>&gt;</code> symbol lets you know that you can enter JavaScript code to be immediately evaluated.</p>

<p>For an example, try adding two numbers in the REPL by typing this:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; 2 + 2
</li></ul></code></pre>
<p>When you press <code>ENTER</code>, the REPL will evaluate the expression and return:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">4
</li></ul></code></pre>
<p>To exit the REPL, you can type <code>.exit</code>, or press <code>CTRL+D</code> once, or press <code>CTRL+C</code> twice, which will return you to the shell prompt.</p>

<p>With starting and stopping out of the way, let&rsquo;s take a look at how you can use the REPL to execute simple JavaScript code.</p>

<h2 id="step-2-—-executing-code-in-the-node-js-repl">Step 2 — Executing Code in the Node.js REPL</h2>

<p>The REPL is a quick way to test JavaScript code without having to create a file. Almost every valid JavaScript or Node.js expression can be executed in the REPL.</p>

<p>In the previous step you already tried out addition of two numbers, now let&rsquo;s try division. To do so, start a new REPL:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">node
</li></ul></code></pre>
<p>In the prompt type:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; 10 / 5
</li></ul></code></pre>
<p>Press <code>ENTER</code> , and the output will be <code>2</code>, as expected:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">2
</li></ul></code></pre>
<p>The REPL can also process operations on strings. <a href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#string-concatenation">Concatenate</a> the following strings in your REPL by typing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; "Hello " + "World"
</li></ul></code></pre>
<p>Again, press <code>ENTER</code>, and the string expression is evaluated:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">'Hello World'
</li></ul></code></pre>
<p><span class='note'><strong>Note</strong>: You may have noticed that the output used single quotes instead of double quotes. In JavaScript, the quotes used for a string do not affect its value. If the string you entered used a single quote, the REPL is smart enough to use double quotes in the output.<br></span></p>

<h3 id="calling-functions">Calling Functions</h3>

<p>When writing Node.js code, it&rsquo;s common to print messages via the global <code>console.log</code> method or a similar <a href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript">function</a>. Type the following at the prompt:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; console.log("Hi")
</li></ul></code></pre>
<p>Pressing <code>ENTER</code> yields the following output:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">Hi
</li><li class="line" prefix="$">undefined
</li></ul></code></pre>
<p>The first result is the output from <code>console.log</code>, which prints a message to the <code>stdout</code> stream (the screen). Because <code>console.log</code> prints a string instead of returning a string, the message is seen without quotes. The <code>undefined</code> is the return value of the function.</p>

<h3 id="creating-variables">Creating Variables</h3>

<p>Rarely do you just work with literals in JavaScript. Creating a variable in the REPL works in the same fashion as working with <code>.js</code> files. Type the following at the prompt:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; let age = 30
</li></ul></code></pre>
<p>Pressing <code>ENTER</code> results in:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">undefined
</li></ul></code></pre>
<p>Like before, with <code>console.log</code>, the return value of this command is <code>undefined</code>. The <code>age</code> variable will be available until you exit the REPL session. For example, you can multiply <code>age</code> by two. Type the following at the prompt and press <code>ENTER</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; age * 2
</li></ul></code></pre>
<p>The result is:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">60
</li></ul></code></pre>
<p>Because the REPL returns values, you don&rsquo;t need to use <code>console.log</code> or similar functions to see the output on the screen. By default, any returned value will appear on the screen.</p>

<h3 id="multi-line-blocks">Multi-line Blocks</h3>

<p>Multi-line blocks of code are supported as well. For example, you can create a function that adds 3 to a given number.  Start the function by typing the following:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; const add3 = (num) =&gt; {
</li></ul></code></pre>
<p>Then, pressing <code>ENTER</code> will change the prompt to:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">...
</li></ul></code></pre>
<p>The REPL noticed an open curly bracket and therefore assumes you&rsquo;re writing more than one line of code, which needs to be indented. To make it easier to read, the REPL adds 3 dots and a space on the next line, so the following code appears to be indented.</p>

<p>Enter the second and third lines of the function, one at a time, pressing <code>ENTER</code> after each:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">... return num + 3;
</li><li class="line" prefix="$">... }
</li></ul></code></pre>
<p>Pressing <code>ENTER</code> after the closing curly bracket will display an <code>undefined</code>, which is the &ldquo;return value&rdquo; of the function assignment to a variable. The <code>...</code> prompt is now gone and the <code>&gt;</code> prompt returns:</p>
<pre class="code-pre "><code langs="">undefined
&gt;
</code></pre>
<p>Now, call <code>add3()</code> on a value:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; add3(10)
</li></ul></code></pre>
<p>As expected, the output is:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">13
</li></ul></code></pre>
<p>You can use the REPL to try out bits of JavaScript code before including them into your programs. The REPL also includes some handy shortcuts to make that process easier.</p>

<h2 id="step-3-—-mastering-repl-shortcuts">Step 3 — Mastering REPL Shortcuts</h2>

<p>The REPL provides shortcuts to decrease coding time when possible. It keeps a history of all the entered commands and allows us to cycle through them and repeat a command if necessary.</p>

<p>For an example, enter the following string:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">"The answer to life the universe and everything is 32"
</li></ul></code></pre>
<p>This results in:</p>
<pre class="code-pre "><code langs="">'The answer to life the universe and everything is 32'
</code></pre>
<p>If we&rsquo;d like to edit the string and change the &ldquo;32&rdquo; to &ldquo;42&rdquo;, at the prompt, use the <code>UP</code> arrow key to return to the previous command:</p>
<pre class="code-pre "><code langs="">&gt; "The answer to life the universe and everything is 32"
</code></pre>
<p>Move the cursor to the left, delete <code>3</code>, enter <code>4</code>, and press <code>ENTER</code> again:</p>
<pre class="code-pre "><code langs="">'The answer to life the universe and everything is 42'
</code></pre>
<p>Continue to press the <code>UP</code> arrow key, and you&rsquo;ll go further back through your history until the first used command in the current REPL session. In contrast, pressing <code>DOWN</code> will iterate towards the more recent commands in the history.</p>

<p>When you are done maneuvering through your command history, press <code>DOWN</code> repeatedly until you have exhausted your recent command history and are once again seeing the prompt.</p>

<p>To quickly get the last evaluated value, use the underscore character. At the prompt, type <code>_</code> and press <code>ENTER</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; _
</li></ul></code></pre>
<p>The previously entered string will appear again:</p>
<pre class="code-pre "><code langs="">'The answer to life the universe and everything is 42'
</code></pre>
<p>The REPL also has an autocompletion for functions, variables, and keywords. If you wanted to find the square root of a number using the <code>Math.sqrt</code> function, enter the first few letters, like so:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; Math.sq
</li></ul></code></pre>
<p>Then press the <code>TAB</code> key and the REPL will autocomplete the function:</p>
<pre class="code-pre "><code langs="">&gt; Math.sqrt
</code></pre>
<p>When there are multiple possibilities for autocompletion, you&rsquo;re prompted with all the available options. For an example, enter just:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; Math.
</li></ul></code></pre>
<p>And press <code>TAB</code> twice. You&rsquo;re greeted with the possible autocompletions:</p>
<pre class="code-pre "><code langs="">&gt; Math.
Math.__defineGetter__      Math.__defineSetter__      Math.__lookupGetter__
Math.__lookupSetter__      Math.__proto__             Math.constructor
Math.hasOwnProperty        Math.isPrototypeOf         Math.propertyIsEnumerable
Math.toLocaleString        Math.toString              Math.valueOf

Math.E                     Math.LN10                  Math.LN2
Math.LOG10E                Math.LOG2E                 Math.PI
Math.SQRT1_2               Math.SQRT2                 Math.abs
Math.acos                  Math.acosh                 Math.asin
Math.asinh                 Math.atan                  Math.atan2
Math.atanh                 Math.cbrt                  Math.ceil
Math.clz32                 Math.cos                   Math.cosh
Math.exp                   Math.expm1                 Math.floor
Math.fround                Math.hypot                 Math.imul
Math.log                   Math.log10                 Math.log1p
Math.log2                  Math.max                   Math.min
Math.pow                   Math.random                Math.round
Math.sign                  Math.sin                   Math.sinh
Math.sqrt                  Math.tan                   Math.tanh
Math.trunc
</code></pre>
<p>Depending on the screen size of your shell, the output may be displayed with a different number of rows and columns. This is a list of all the functions and properties that are available in the <code>Math</code> module.</p>

<p>Press <code>CTRL+C</code> to get to a new line in the prompt without executing what is in the current line.</p>

<p>Knowing the REPL shortcuts makes you more efficient when using it. Though, there&rsquo;s another thing REPL provides for increased productivity—<em>The REPL commands</em>.</p>

<h2 id="step-4-—-using-repl-commands">Step 4 — Using REPL Commands</h2>

<p>The REPL has specific keywords to help control its behavior. Each command begins with a dot <code>.</code>.</p>

<h3 id="help">.help</h3>

<p>To list all the available commands, use the <code>.help</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; .help
</li></ul></code></pre>
<p>There aren&rsquo;t many, but they&rsquo;re useful for getting things done in the REPL:</p>
<pre class="code-pre "><code langs="">.break    Sometimes you get stuck, this gets you out
.clear    Alias for .break
.editor   Enter editor mode
.exit     Exit the repl
.help     Print this help message
.load     Load JS from a file into the REPL session
.save     Save all evaluated commands in this REPL session to a file

Press ^C to abort current expression, ^D to exit the repl
</code></pre>
<p>If ever you forget a command, you can always refer to <code>.help</code> to see what it does.</p>

<h3 id="break-clear">.break/.clear</h3>

<p>Using <code>.break</code> or <code>.clear</code>, it&rsquo;s easy to exit a multi-line expression. For example, begin a <code>for loop</code> as follows:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; for (let i = 0; i &lt; 100000000; i++) {
</li></ul></code></pre>
<p>To exit from entering any more lines, instead of entering the next one, use the <code>.break</code> or <code>.clear</code> command to break out:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">... .break
</li></ul></code></pre>
<p>You&rsquo;ll see a new prompt:</p>
<pre class="code-pre "><code langs="">&gt;
</code></pre>
<p>The REPL will move on to a new line without executing any code, similar to pressing <code>CTRL+C</code>.</p>

<h3 id="save-and-load">.save and .load</h3>

<p>The <code>.save</code> command stores all the code you ran since starting the REPL, into a file. The <code>.load</code> command runs all the JavaScript code from a file inside the REPL.</p>

<p>Quit the session using the <code>.exit</code> command or with the <code>CTRL+D</code> shortcut. Now start a new REPL with <code>node</code>. Now only the code you are about to write will be saved.</p>

<p>Create an array with fruits:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; fruits = ['banana', 'apple', 'mango']
</li></ul></code></pre>
<p>In the next line, the REPL will display:</p>
<pre class="code-pre "><code langs="">[ 'banana', 'apple', 'mango' ]
</code></pre>
<p>Save this variable to a new file, <code>fruits.js</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; .save fruits.js
</li></ul></code></pre>
<p>We&rsquo;re greeted with the confirmation:</p>
<pre class="code-pre "><code langs="">Session saved to: fruits.js
</code></pre>
<p>The file is saved in the same directory where you opened the Node.js REPL. For example, if you opened the Node.js REPL in your home directory, then your file will be saved in your home directory. </p>

<p>Exit the session and start a new REPL with <code>node</code>. At the prompt, load the <code>fruits.js</code> file by entering:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; .load fruits.js
</li></ul></code></pre>
<p>This results in:</p>
<pre class="code-pre "><code langs="">fruits = ['banana', 'apple', 'mango']

[ 'banana', 'apple', 'mango' ]
</code></pre>
<p>The <code>.load</code> command reads each line of code and executes it, as expected of a JavaScript interpreter. You can now use the <code>fruits</code> variable as if it was available in the current session all the time.</p>

<p>Type the following command and press <code>ENTER</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; fruits[1]
</li></ul></code></pre>
<p>The REPL will output:</p>
<pre class="code-pre "><code langs="">'apple'
</code></pre>
<p>You can load any JavaScript file with the <code>.load</code> command, not only items you saved. Let&rsquo;s quickly demonstrate by opening your preferred code editor or <code>nano</code>, a command line editor, and create a new file called <code>peanuts.js</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano peanuts.js
</li></ul></code></pre>
<p>Now that the file is open, type the following:</p>
<pre class="code-pre "><code class="code-highlight language-javascript">console.log('I love peanuts!');
</code></pre>
<p>Save and exit nano by pressing <code>CTRL+X</code>. </p>

<p>In the same directory where you saved <code>peanuts.js</code>, start the Node.js REPL with <code>node</code>. Load <code>peanuts.js</code> in your session:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">&gt; .load peanuts.js
</li></ul></code></pre>
<p>The <code>.load</code> command will execute the single <code>console</code> statement and display the following output:</p>
<pre class="code-pre "><code langs="">console.log('I love peanuts!');

I love peanuts!
undefined
&gt;
</code></pre>
<p>When your REPL usage goes longer than expected, or you believe you have an interesting code snippet worth sharing or explore in more depth, you can use the <code>.save</code> and <code>.load</code> commands to make both those goals possible.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The REPL is an interactive environment that allows you to execute JavaScript code without first having to write it to a file.</p>

<p>You can use the REPL to try out JavaScript code from other tutorials:</p>

<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript">How To Define Functions in JavaScript</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript">How To Use the Switch Statement in JavaScript</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript">How To Use Object Methods in JavaScript</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript">How To Index, Split, and Manipulate Strings in JavaScript</a></li>
</ul>
