---
layout: post
title: Создание вашей первой программы на Go
network: digitalocean
date: January 24, 2020 at 04:36AM
url: https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go-ru
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="Введение">Введение</h3>

<p>“Hello, World!” — это классическая программа, традиционно используемая в компьютерном программировании. Это простая и полноценная первая программа для начинающих, и с ее помощью легко определить, что среда настроена правильно.</p>

<p>В этом обучающем руководстве мы подробно рассмотрим создание этой программы на языке Go. Чтобы сделать программу поинтереснее, мы изменим традиционную программу &ldquo;Hello, World!&rdquo; так, чтобы она запрашивала имя пользователя. Затем это имя можно будет использовать в приветствии. После завершения этого обучающего модуля у вас будет программа, которая будет выглядеть при запуске следующим образом:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Please enter your name.
<span class="highlight">Sammy</span>
Hello, Sammy! I'm Go!
</code></pre>
<h2 id="Предварительные-требования">Предварительные требования</h2>

<p>Для начала прохождения этого обучающего модуля на вашем компьютере должна быть настроена <a href="https://www.digitalocean.com/community/tutorial_series/how-to-install-and-set-up-a-local-programming-environment-for-go">локальная среда разработки Go</a>. Вы можете настроить ее, следуя указаниям одного из следующих обучающих руководств:</p>

<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-go-and-set-up-a-local-programming-environment-on-macos">Установка Go и настройка локальной среды программирования в macOS</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-go-and-set-up-a-local-programming-environment-on-ubuntu-18-04">Установка Go и настройка локальной среды программирования в Ubuntu 18.04</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-go-and-set-up-a-local-programming-environment-on-windows-10">Установка Go и настройка локальной среды программирования в Windows 10</a></li>
</ul>

<h2 id="Шаг-1-—-Написание-простой-программы-“hello-world-”">Шаг 1 — Написание простой программы “Hello, World!”</h2>

<p>Чтобы написать программу “Hello, World!”, откройте <code>nano</code> или другой текстовый редактор командной строки и создайте новый файл:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano hello.go
</li></ul></code></pre>
<p>Когда текстовый файл откроется в окне терминала, мы напишем нашу программу:</p>
<div class="code-label " title="hello.go">hello.go</div><pre class="code-pre "><code class="code-highlight language-go">package main

import "fmt"

func main() {
  fmt.Println("Hello, World!")
}
</code></pre>
<p>Давайте обсудим отдельные компоненты кода.</p>

<p><code>package</code> — это <em>ключевое слово</em> Go, определяющее, к какому пакету кода принадлежит данный файл. Для каждой папки может иметься только один покет, и в начале каждого файла <code>.go</code> должно декларироваться имя того же пакета. В этом примере код принадлежит пакету <code>main</code>.</p>

<p><code>import</code> — это <em>ключевое слово</em> Go, указыващее компилятору Go, какие другие пакеты вы хотите использовать в этом файле. Здесь вы импортируете пакет <code>fmt</code> из стандартной библиотеки. Пакет <code>fmt</code> содержит функции форматирования и вывода, которые могут быть полезны при разработке.</p>

<p><code>fmt.Println</code> — это <em>функция</em> Go из пакета <code>fmt</code>, которая предписывает компьютеру вывести текст на экран.</p>

<p>После функции <code>fmt.Println</code> идет последовательность символов в кавычках, например <code>"Hello, World!"</code>. Любые символы внутри кавычек называются <em>строкой</em>. Функция <code>fmt.Println</code> выведет эту строку на экран при выполнении программы.</p>

<p>Сохраните файл и закройте <code>nano</code>, нажав <code>CTRL + X</code>. Когда вам будет предложено сохранить файл, нажмите <code>Y</code>.</p>

<p>Теперь вы можете проверить программу в действии.</p>

<h2 id="Шаг-2-—-Запуск-программы-в-go">Шаг 2 — Запуск программы в Go</h2>

<p>После написания программы “Hello, World!” вы можете ее запустить. Для этого используется команда <code>go</code>, после которой идет имя только что созданного файла.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go run hello.go
</li></ul></code></pre>
<p>Программа будет исполнена и выведет на экран следующее:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>Посмотрим, что фактически произошло.</p>

<p>Перед запуском программы Go требуют компиляции. При вызове <code>go run</code> с именем файла, в данном случае <code>hello.go</code>, команда <code>go</code> <em>компилирует</em> приложение и запускает полученный двоичный файл. Если программа написана на <em>компилируемом</em> языке программирования, компилятор берет исходный код программы и генерирует другой тип кода низкого уровня (например, машинный код) для получения исполняемой программы.</p>

<p>Приложения Go должны иметь пакет <code>main</code> и ровно <strong>одну</strong> функцию <code>main()</code>, которая будет выступать в качестве точки входа приложения. Функция <code>main</code> не принимает аргументов и не возвращает никаких значений. Вместо этого она сообщает компилятору Go, что пакет должен быть скомпилирован как исполняемый пакет.</p>

<p>После компиляции код запускается посредством входа в функцию <code>main()</code> в пакете <code>main</code>. Программа выполняет строку <code>fmt.Println("Hello, World!")</code> , <em>вызывая</em> функцию <code>fmt.Println</code>. Значение строки <code>Hello, World!</code> <em>передается</em> функции. В этом примере строка <code>Hello, World!</code> также называется <em>аргументом</em>, поскольку это значение, которое передается методу.</p>

<p>Кавычки, в которые заключена фраза <code>Hello, World!</code>, не выводятся на экране, поскольку они показывают Go, где начинается и кончается ваша строка.</p>

<p>На этом шаге вы создали работающую программу &ldquo;Hello, World!&rdquo; с помощью Go. На следующем шаге мы покажем, как сделать программу более интерактивной.</p>

<h2 id="Шаг-3-—-Запрос-ввода-пользователя">Шаг 3 — Запрос ввода пользователя</h2>

<p>При каждом запуске программа дает один и тот же результат. На этом шаге вы добавите в программу запрос имени пользователя. Затем это имя можно будет использовать в выводимых результатах.</p>

<p>Вместо изменения существующей программы создайте новую программу <code>greeting.go</code> с помощью редактора <code>nano</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano greeting.go
</li></ul></code></pre>
<p>Вначале добавьте этот код, который предлагает пользователю ввести имя:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code class="code-highlight language-go">package main

import (
    "fmt"
)

func main() {
  fmt.Println("Please enter your name.")
}
</code></pre>
<p>Затем используйте функцию <code>fmt.Println</code> для вывода текста на экран.</p>

<p>Затем добавьте выделенную строку для сохранения введенных пользователем данных:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code langs="">package main

import (
    "fmt"
)

func main() {
  fmt.Println("Please enter your name.")
  <span class="highlight">var name string</span>
}
</code></pre>
<p>Строка <code>var name string</code> создаст новую переменную с помощью <em>ключевого слова</em> <code>var</code>. Мы присваиваем этой переменной имя <code>name</code>, и она имеет тип <code>string</code>.</p>

<p>Затем добавьте выделенную строку для записи вводимых пользователем данных:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code langs="">package main

import (
    "fmt"
)

func main() {
  fmt.Println("Please enter your name.")
  var name string
  <span class="highlight">fmt.Scanln(&amp;name)</span>
}
</code></pre>
<p>Метод <code>fmt.Scanln</code> предписывает компьютеру ожидать ввода данных с клавиатуры, заканчивающегося символом новой строки или (<code>\n</code>). Это приостанавливает выполнение программы, позволяя пользователю ввести любой желаемый текст. Программа продолжит выполнение, когда пользователь нажмет клавишу <code>ENTER</code> на клавиатуре. Все нажатия клавиш, включая нажатие клавиши <code>ENTER</code>, регистрируются и конвертируются в строку символов.</p>

<p>Нам нужно использовать эти символы в выводимых программой результатах, и поэтому мы сохраним их, <em>записав</em> их в строковую <em>переменную</em> с именем <code>name</code>. Go хранит эту строку в памяти компьютера до завершения выполнения программы.</p>

<p>В заключение добавьте в программу следующую выделенную строчку для вывода результатов:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code langs="">package main

import (
    "fmt"
)

func main() {
  fmt.Println("Please enter your name.")
  var name string
  fmt.Scanln(&amp;name)
  <span class="highlight">fmt.Printf("Hi, %s! I'm Go!", name)</span>
}
</code></pre>
<p>На этот раз вместо использования метода <code>fmt.Println</code> мы используем <code>fmt.Printf</code>. Функция <code>fmt.Printf</code> берет строку и использует специальные <em>глаголы</em> вывода (<code>%s</code>) для вставки значения <code>name</code> в строку. Мы делаем это так, потому что Go не поддерживает <em>интерполяцию строк</em>, при которой можно брать значение переменной и помещать его внутри строки.</p>

<p>Сохраните файл и закройте <code>nano</code>, нажав <code>CTRL + X</code>. Нажмите <code>Y</code>, когда вам будет предложено сохранить файл.</p>

<p>Запустите программу. Вам будет предложено ввести имя, так что введите его и нажмите <code>ENTER</code>. Результат может немного не соответствовать ожиданиям:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Please enter your name.
Sammy
Hi, Sammy
! I'm Go!
</code></pre>
<p>Вместо <code>Hi, Sammy! I'm Go!</code> после имени выводится разрыв строки.</p>

<p>Программа зарегистрировала <strong>все</strong> нажатия клавиш, включая клавишу <code>ENTER</code>, которую мы нажимаем, чтобы программа продолжила выполнение. При нажати клавиши <code>ENTER</code> создается специальный символ, которы создает новую строку. Программа делает именно то, что ей предписывается, то есть отображает введенный текст, включая символ новой строки. Это не то, чего вы ожидаете от вывода, но вы можете исправить проблему с помощью дополнительных функций.</p>

<p>Откройте файл <code>greeting.go</code> в редакторе:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano greeting.go
</li></ul></code></pre>
<p>Найдите в программе следующую строчку:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code class="code-highlight language-go">...
fmt.Scanln(&amp;name)
...
</code></pre>
<p>Добавьте после нее следующую строчку:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code langs=""><span class="highlight">name = strings.TrimSpace(name)</span>
</code></pre>
<p>Она использует функцию <code>TrimSpace</code> из стандартной библиотеки Go <code>strings</code> в строке, которую вы записали с помощью <code>fmt.Scanln</code>. Функция <code>strings.TrimSpace</code> удаляет символы пробела, в том числе символы новой строки в начале и конце строки. В данном случае будет удален символ новой строки в конце строки, созданный при нажатии клавиши <code>ENTER</code>.</p>

<p>Чтобы использовать пакет <code>strings</code>, его нужно импортировать в программу.</p>

<p>Найдите в программе следующие строки:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code class="code-highlight language-go">import (
    "fmt"
)
</code></pre>
<p>Добавьте следующую строку для импорта пакета <code>strings</code>:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code langs="">import (
    "fmt"
  <span class="highlight">"strings"</span>
)
</code></pre>
<p>Теперь программа будет содержать следующее:</p>
<div class="code-label " title="greeting.go">greeting.go</div><pre class="code-pre "><code class="code-highlight language-go">package main

import (
        "fmt"
        "strings"
)

func main() {
    fmt.Println("Please enter your name.")
    var name string
    fmt.Scanln(&amp;name)
    fmt.Printf("Hi, %s! I'm Go!", name)
    name = strings.TrimSpace(name)
}
</code></pre>
<p>Сохраните и закройте <code>nano</code>. Нажмите <code>CTRL + X</code>, а затем нажмите <code>Y</code>, когда вам будет предложено сохранить файл.</p>

<p>Запустите программу снова:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go run greeting.go
</li></ul></code></pre>
<p>Теперь после ввода имени и нажатия клавиши <code>ENTER</code> выводится ожидаемый результат:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Please enter your name.
<span class="highlight">Sammy</span>
Hi, Sammy! I'm Go!
</code></pre>
<p>Теперь у вас имеется программа Go, которая принимает данные пользователя и выводит их на экран.</p>

<h2 id="Заключение">Заключение</h2>

<p>В этом обучающем руководстве мы написали программу &ldquo;Hello, World!&rdquo;, которая принимает вводимые пользователем данные, обрабатывает результаты и выводит их на экран. Теперь у вас имеется базовая программа для работы, и вы можете попробовать дополнить и расширить ее. Например, вы можете спросить любимый цвет пользователя и сделать так, чтобы программа говорила, что его любимый цвет красный. Вы даже можете использовать эту же методику для создания простой программы Mad-Lib.</p>
