---
layout: post
title: Como Instalar, Executar, e Conectar no Jupyter Notebook em um Servidor Remoto
network: digitalocean
date: December 12, 2019 at 07:54PM
url: https://www.digitalocean.com/community/tutorials/how-to-install-run-connect-to-jupyter-notebook-on-remote-server-pt
image: https://assets.digitalocean.com/articles/jupyter_notebook/JN_putty_1.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>O autor selecionou <a href="https://www.brightfunds.org/organizations/apache-software-foundation">a Fundação do Software Apache</a> para receber uma doação de $100 como parte do programa <a href="https://do.co/w4do-cta">Write for DOnations</a>.</em></p>

<h3 id="introdução">Introdução</h3>

<p><a href="https://jupyter-notebook.readthedocs.io/en/stable/">O Jupyter Notebook</a> é um aplicativo interativo Web de código aberto que permite que você escreva e execute códigos de computador em mais de 40 linguagens de programação, incluindo <a href="https://www.python.org/">Python</a>, <a href="https://www.r-project.org/">R</a>, <a href="https://julialang.org/">Julia</a>, e <a href="https://www.scala-lang.org/">Scala</a>. Um produto do <a href="http://jupyter.org/about">Projeto Jupyter</a>, Jupyter Notebook é útil para a programação iterativa, uma vez que ele permite que você escreva um pequeno fragmento de código, execute-o, e retorne o resultado.</p>

<p>O Jupyter Notebook dá a capacidade de criar documentos de anotação, referidos simplesmente como &ldquo;notebooks&rdquo;. Notebooks criados a partir do Jupyter Notebook são documentos de pesquisa compartilháveis, reproduzíveis que incluem elementos de rich text, equações, código e seus resultados (figuras, tabelas, gráficos interativos). Os notebooks também podem ser exportados para arquivos de código bruto, documentos HTML ou PDF, ou usados para criar slides interativos ou páginas Web.</p>

<p>Este artigo irá guiar você em como instalar e configurar o aplicativo Jupyter Notebook em um servidor Web do Ubuntu 18.04 e como se conectar a ele do seu computador local. Além disso, também vamos ver como usar o Jupyter Notebook para executar um exemplo de código Python.</p>

<h2 id="pré-requisitos">Pré-requisitos</h2>

<p>Para completar este tutorial, você precisará de:</p>

<ul>
<li>Uma instância de servidor Ubuntu 18.04. Este servidor deve ter um usuário não-root com privilégios sudo e um firewall configurado. Você pode configurar isso seguindo nosso <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">guia de configuração inicial de servidor</a>.</li>
<li>Python 3, pip, e o módulo Python <code>venv</code> instalado no servidor. Faça isso seguindo os Passos 1 e 2 do nosso tutorial em <a href="https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-programming-environment-on-an-ubuntu-18-04-server">Como Instalar o Python 3 e Configurar um Ambiente de Programação Local no Ubuntu 18.04</a>.</li>
<li>Um navegador Web moderno funcionando no seu computador local que você usará para acessar o Jupyter Notebook.</li>
</ul>

<p>Além disso, se seu computador local estiver usando o Windows, você precisará instalar o PuTTY nele para estabelecer um túnel SSH para seu servidor. Siga nosso guia em <a href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-putty-on-digitalocean-droplets-windows-users">Como Criar Chaves SSH com o PuTTY no Windows</a> para baixar e instalar o PuTTY.</p>

<h2 id="passo-1-—-instalando-o-jupyter-notebook">Passo 1 — Instalando o Jupyter Notebook</h2>

<p>Uma vez que os notebook são usados para escrever, executar e ver o resultado de pequenos fragmentos de código, você primeiro precisará configurar o suporte de linguagem de programação. O Jupyter Notebook usa um <em>kernel</em> específico de linguagem, um programa de computador que executa e examina códigos. O Jupyter Notebook tem <a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">muitos kernels em diferentes linguagens</a>, sendo padrão  o <a href="https://ipython.org/">IPython</a>. Neste tutorial, você irá configurar o Jupyter Notebook para executar códigos Python através do kernel do IPython.</p>

<p>Supondo que você tenha seguido os tutoriais ligados na seção Pré-requisitos, você deve ter o <a href="https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-local-programming-environment-on-ubuntu-18-04">Python 3, pip e um ambiente virtual instalados</a>. Os exemplos neste guia seguem a convenção usada no tutorial pré-requisito na instalação do Python 3, que designa o ambiente virtual &ldquo;<code>my_env</code>&rdquo;, mas você deve sentir-se à vontade para renomear isso.</p>

<p>Inicie ativando o ambiente virtual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source <span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>Em seguida, seu prompt será prefixado com o nome do seu ambiente.</p>

<p>Agora que você está no seu ambiente virtual, vá em frente e instale o Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">python3 -m pip install jupyter
</li></ul></code></pre>
<p>Se a instalação tiver sido bem sucedida, você verá um resultado similar ao seguinte:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>. . .
Successfully installed MarkupSafe-1.0 Send2Trash-1.5.0 backcall-0.1.0 bleach-2.1.3 decorator-4.3.0 entrypoints-0.2.3 html5lib-1.0.1 ipykernel-4.8.2 ipython-6.4.0 ipython-genutils-0.2.0 ipywidgets-7.2.1 jedi-0.12.0 jinja2-2.10 jsonschema-2.6.0 jupyter-1.0.0 jupyter-client-5.2.3 jupyter-console-5.2.0 jupyter-core-4.4.0 mistune-0.8.3 nbconvert-5.3.1 nbformat-4.4.0 notebook-5.5.0 pandocfilters-1.4.2 parso-0.2.0 pexpect-4.5.0 pickleshare-0.7.4 prompt-toolkit-1.0.15 ptyprocess-0.5.2 pygments-2.2.0 python-dateutil-2.7.3 pyzmq-17.0.0 qtconsole-4.3.1 simplegeneric-0.8.1 six-1.11.0 terminado-0.8.1 testpath-0.3.1 tornado-5.0.2
</code></pre>
<p>Com isso, o Jupyter Notebook foi instalado no seu servidor. Em seguida, vamos ver como executar o aplicativo.</p>

<h2 id="passo-2-—-executando-o-jupyter-notebook">Passo 2 — Executando o Jupyter Notebook</h2>

<p>O Jupyter Notebook deve ser executado do seu VPS para que você possa se conectar a ele da sua máquina local utilizando um Túnel SSH e seu navegador Web favorito.</p>

<p>Para executar o servidor do Jupyter Notebook, digite o seguinte comando:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">jupyter notebook
</li></ul></code></pre>
<p>Após executar este comando, você verá um resultado similar ao seguinte:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>[I 19:46:22.031 NotebookApp] Writing notebook server cookie secret to /home/<span class="highlight">sammy</span>/.local/share/jupyter/runtime/notebook_cookie_secret
[I 19:46:22.365 NotebookApp] Serving notebooks from local directory: /home/<span class="highlight">sammy</span>/environments
[I 19:46:22.365 NotebookApp] 0 active kernels
[I 19:46:22.366 NotebookApp] The Jupyter Notebook is running at:
[I 19:46:22.366 NotebookApp] http://localhost:8888/?token=<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>
[I 19:46:22.366 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 19:46:22.366 NotebookApp] No web browser found: could not locate runnable browser.
[C 19:46:22.367 NotebookApp]

    Copy/paste this URL into your browser when you connect for the first time,
    to login with a token:
        http://localhost:8888/?token=<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>&amp;token<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>
</code></pre>
<p>Você pode notar no resultado que há um aviso <code>No web browser found</code>. Isso é esperado, uma vez que o aplicativo está funcionando em um servidor e você provavelmente ainda não instalou um navegador Web nele. Este guia irá examinar como se conectar ao Notebook no servidor utilizando o tunelamento SSH na seção seguinte.</p>

<p>Por enquanto, saia do Jupyter Notebook pressionando <code>CTRL+C</code> seguido por <code>y</code>, e então pressione <code>ENTER</code> para confirmar:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Shutdown this notebook server (y/[n])? <span class="highlight">y</span>
[C 20:05:47.654 NotebookApp] Shutdown confirmed
[I 20:05:47.654 NotebookApp] Shutting down 0 kernels
</code></pre>
<p>Então, saia do servidor utilizando o comando <code>exit</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">exit
</li></ul></code></pre>
<p>Você acabou de executar o Jupyter Notebook no seu servidor. Entretanto, para acessar o aplicativo e começar a trabalhar com notebooks, você precisará se conectar ao aplicativo utilizando o tunelamento SSH e um navegador Web no seu computador local.</p>

<h2 id="passo-3-—-conectando-se-ao-aplicativo-jupyter-notebook-com-o-tunelamento-ssh">Passo 3 — Conectando-se ao Aplicativo Jupyter Notebook com o Tunelamento SSH</h2>

<p>O <em>Tunelamento SSH</em> é uma maneira simples e rápida de se conectar ao aplicativo Jupyter Notebook em execução no seu servidor. Secure shell (mais frequentemente conhecido como <a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys">SSH</a>) é um protocolo de rede que permite que você se conecte a um servidor remoto com segurança em uma rede não segura.</p>

<p>O protocolo SSH inclui um mecanismo de encaminhamento de porta que permite que você encaminhe certos aplicativos em execução em um número de porta específico em um servidor para um número de porta específico no seu computador local. Iremos aprender como &ldquo;encaminhar&rdquo; com segurança o aplicativo Jupyter Notebook em execução no seu servidor (na porta <code>8888</code>, por padrão) para uma porta no seu computador local.</p>

<p>O método que você usa para estabelecer um túnel SSH irá depender do sistema operacional do seu computador local. Pule para a subsecção abaixo que é a mais relevante para a sua máquina.</p>

<p><span class='note'><strong>Nota:</strong> É possível configurar e instalar o Jupyter Notebook utilizando o Console Web do DigitalOcean, mas se conectar ao aplicativo através de um túnel SSH deve ser feito através do terminal ou com o PuTTY.<br></span></p>

<h3 id="tunelamento-ssh-utilizando-macos-ou-linux">Tunelamento SSH utilizando macOS ou Linux</h3>

<p>Se seu computador local está executando Linux ou macOS, é possível estabelecer um túnel SSH apenas executando um único comando.</p>

<p><code>ssh</code> é o comando padrão para abrir uma conexão SSH, mas quando usado com a diretiva <code>-L</code>, você pode especificar que uma dada porta no host local (ou seja, sua máquina local) será encaminhada para um dado host e porta no host remoto (neste caso, seu servidor). Isso significa que o que estiver sendo executado na porta especificada no servidor remoto (<code>8888</code>, porta padrão do Jupyter Notebook) aparecerá na porta especificada no seu computador local (<code><span class="highlight">8000</span></code> no comando exemplo).</p>

<p>Para estabelecer seu próprio túnel SSH, execute o seguinte comando. Sinta-se à vontade para alterar a porta <code><span class="highlight">8000</span></code> para outra que você queira se, por exemplo, a <code>8000</code> estiver em uso por outro processo. É recomendável que você utilize uma porta maior ou igual a <code>8000</code>, uma vez que é pouco provável que esses números de porta sejam usados por outro processo. Certifique-se de incluir o endereço IP do seu próprio servidor e o nome do usuário não-root do seu servidor:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh -L <span class="highlight">8000</span>:localhost:8888 <span class="highlight">sammy</span>@<span class="highlight">your_server_ip</span>
</li></ul></code></pre>
<p>Se não houver erros neste comando, ele irá logar você no seu servidor remoto. A partir daí, ative o ambiente virtual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/environments/<span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>Então, execute o aplicativo Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">jupyter notebook
</li></ul></code></pre>
<p>Para se conectar ao Jupyter Notebook, utilize seu navegador Web favorito para navegar até a porta local no host local: <code>http://localhost:<span class="highlight">8000</span></code>. Agora que você está conectado ao Jupyter Notebook, continue para o Passo 4 para aprender a usá-lo.</p>

<h3 id="tunelamento-ssh-utilizando-windows-e-putty">Tunelamento SSH utilizando Windows e PuTTY</h3>

<p>O PuTTY é um cliente SSH de código aberto para o Windows que pode ser usado para <a href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-putty-on-digitalocean-droplets-windows-users">se conectar ao seu servidor</a>. Após baixar e instalar o PuTTY na sua máquina Windows (tal como descrito no tutorial pré-requisito), abra o programa e digite o URL ou endereço IP do seu servidor, como mostrado aqui:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_putty_1.png" alt="Enter server URL or IP into Putty"></p>

<p>Em seguida, clique em <strong>+ SSH</strong> ao final do painel esquerdo, e então clique em <strong>Tunnels</strong>. Nesta janela, digite a porta que você quiser usar para acessar o Jupyter na sua máquina local (<code><span class="highlight">8000</span></code> ). É recomendável que você utilize uma porta maior ou igual a <code>8000</code>, uma vez que é pouco provável que esses números de porta sejam usados por outro processo. Se <code>8000</code> é usado por outro processo, no entanto, selecione um número de porta diferente e não utilizado. Em seguida, configure o destino como <code>localhost:8888</code>, uma vez que a porta <code>8888</code> é aquela na qual o Jupyter Notebook está funcionando. Então, clique no botão <strong>Add</strong> e as portas devem aparecer no campo <strong>Forwarded</strong> ports:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_putty_2.png" alt="Configure SSH tunnel in Putty"></p>

<p>Finalmente, clique no botão <strong>Open</strong>. Isso irá conectar sua máquina ao servidor através do SSH e ligar as portas desejadas. Se nenhum erro aparecer, vá em frente e ative seu ambiente virtual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/environments/<span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>Então, execute o Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">jupyter notebook
</li></ul></code></pre>
<p>Em seguida, navegue até a porta local no seu navegador Web favorito, por exemplo <code>http://localhost:<span class="highlight">8000</span></code> (ou qualquer número de porta que você escolheu), para se conectar à instância do Jupyter Notebook que está sendo executada no servidor. Agora que você está conectado ao Jupyter Notebook, continue para o Passo 4 para aprender a usá-lo.</p>

<h2 id="passo-4-—-usando-o-jupyter-notebook">Passo 4 — Usando o Jupyter Notebook</h2>

<p>Quando acessado através de um navegador Web, o Jupyter Notebook fornece um Painel do Notebook, que atua como um navegador de arquivos e dá a você uma interface para criar, editar e explorar notebooks. Pense nestes notebooks como documentos (salvos com uma extensão de arquivo <code>.ipynb</code>) que você pode preencher com qualquer número de células individuais. Cada célula possui um editor de texto interativo que pode ser usado para executar códigos ou escrever texto renderizado. Além disso, os notebooks permitem que você escreva e execute equações, inclua outras mídias valiosas, como imagens ou gráficos interativos, e eles podem ser exportados e compartilhados em vários formatos (<code>.ipyb</code>, <code>.pdf</code>, <code>.py</code>). Para ilustrar algumas destas funções, vamos criar um arquivo de notebook a partir do Painel do Notebook, escrever um quadro de texto simples com uma equação, e executar um código básico de Python 3.</p>

<p>Até este ponto, você deve ter se conectado ao servidor utilizando um túnel SSH e iniciado o aplicativo Jupyter Notebook do seu servidor. Após navegar para <code>http://localhost:<span class="highlight">8000</span></code>, você será apresentado com uma página de login:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_login_screen_small.png" alt="Jupyter Notebook login screen"></p>

<p>No campo <strong>Password</strong> or token ao topo, digite o token exibido no resultado após você executar <code>jupyter notebook</code> do seu servidor:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>[I 20:35:17.004 NotebookApp] Writing notebook server cookie secret to /run/user/1000/jupyter/notebook_cookie_secret
[I 20:35:17.314 NotebookApp] Serving notebooks from local directory: /home/sammy
[I 20:35:17.314 NotebookApp] 0 active kernels
[I 20:35:17.315 NotebookApp] The Jupyter Notebook is running at:
[I 20:35:17.315 NotebookApp] http://localhost:8888/?token=<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>
[I 20:35:17.315 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 20:35:17.315 NotebookApp] No web browser found: could not locate runnable browser.
[C 20:35:17.316 NotebookApp]
. . .
</code></pre>
<p>De forma alternativa, você pode copiar aquele URL do resultado do seu terminal e colá-lo na barra de endereço do seu navegador.</p>

<p>Automaticamente, o Jupyter Notebook irá mostrar todos os arquivos e pastas armazenados no diretório do qual ele está sendo executado. Crie um novo arquivo de notebook clicando em <strong>New</strong> então <strong>Python 3</strong> no canto superior direito do Painel Notebook:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_new_python3.png" alt="Create a new Python3 notebook"></p>

<p>Dentro deste novo notebook, mude a primeira célula para que aceite a sintaxe markdown clicando em <strong>Cell</strong> &gt; <strong>Cell Type</strong> &gt; <strong>Markdown</strong> na barra de navegação no topo. Além da remarcação, este Cell Type também permite que você escreva equações em LaTeX. Por exemplo, digite o seguinte na célula após alterá-la para markdown:</p>
<pre class="code-pre "><code langs=""># Simple Equation

Let us now implement the following equation in Python:
$$ y = x^2$$

where $x = 2$
</code></pre>
<p>Para transformar o markdown em rich text, pressione <code>CTRL + ENTER</code> e o resultado deve ser o seguinte:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_sample_equation.png" alt="Turn sample equation into rich text"></p>

<p>Você pode usar as células markdown para fazer anotações e documentar seu código.</p>

<p>Agora, vamos implementar uma equação simples e imprimir o resultado. Clique em <strong>Insert</strong> &gt; <strong>Insert Cell Below</strong> para inserir uma célula. Nesta nova célula, digite o seguinte código:</p>
<pre class="code-pre "><code langs="">x = 2
y = x*x
print(y)
</code></pre>
<p>Para executar o código, pressione <code>CTRL + ENTER</code>, e o resultado será o seguinte:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_sample_equation2.png" alt="Solve sample equation"></p>

<p>Estes são alguns exemplos relativamente simples do que você pode fazer com o Jupyter Notebook. No entanto, ele é um aplicativo muito poderoso com muitos casos de uso possíveis. A partir daqui, adicione algumas bibliotecas Python e utilize o notebook como você faria com qualquer outro ambiente de desenvolvimento Python.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Agora, você deve ser capaz de escrever códigos reprodutíveis Python e texto utilizando o Jupyter Notebook em funcionamento em um servidor remoto. Para fazer um tour rápido pelo Jupyter Notebook, clique em <strong>Help</strong> na barra de navegação superior e selecione o <strong>User Interface Tour</strong> como mostrado aqui:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_help_tour.png" alt="Finding Jupyter Notebook help tour"></p>

<p>Se você estiver interessado, encorajamos você a aprender mais sobre o Jupyter Notebook através da <a href="http://jupyter.org/documentation">documentação do Projeto Jupyter</a>. Além disso, você pode construir desenvolver o que você aprendeu neste tutorial <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">aprendendo como programar em Python 3</a>.</p>
