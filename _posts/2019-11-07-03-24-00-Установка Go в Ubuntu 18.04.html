---
layout: post
title: Установка Go в Ubuntu 18.04
network: digitalocean
date: November 07, 2019 at 03:24AM
url: https://www.digitalocean.com/community/tutorials/go-ubuntu-18-04-ru
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="Введение">Введение</h3>

<p><a href="https://golang.org/">Go </a>— современный язык программирования, разработанный Google. Все больше компаний все чаще используют его для разработки приложений, также он предлагает обширный набор библиотек. В этом обучающем модуле вы узнаете о загрузке и установке последней версии Go (Go 1.10 на момент публикации настоящей статьи), а также создадите простое приложение Hello World.</p>

<h2 id="Предварительные-требования">Предварительные требования</h2>

<p>Для этого обучающего модуля у вас должен быть доступ к системе Ubuntu 18.04 с пользователем с привилегиями <code>sudo</code> и без привилегий root, настроенной в соответствии с руководством <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">«Начальная настройка сервера с Ubuntu 18.04»</a>.</p>

<h2 id="Шаг-1-—-Установка-go">Шаг 1 — Установка Go</h2>

<p>На этом этапе мы установим Go на вашем сервере.</p>

<p>Для начала подключитесь к своему серверу Ubuntu через <code>ssh:</code></p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh <span class="highlight">sammy</span>@<span class="highlight">your_server_ip</span>
</li></ul></code></pre>
<p>Для установки Go вам потребуется последняя версия с <a href="https://golang.org/dl/">официальной страницы загрузки Go</a>. На сайте можно найти URL текущего выпуска двоичного модуля tarball, а также его хэш SHA256.</p>

<p>Откройте официальную страницу загрузки Go и найдите URL текущего выпуска двоичного модуля tarball и его хэша SHA256. Вы должны находиться в каталоге home и использовать curl для получения tarball:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li><li class="line" prefix="$">curl -O https://dl.google.com/go/<span class="highlight">go1.10.3.linux-amd64.tar.gz</span>
</li></ul></code></pre>
<p>Затем вы можете использовать <code>sha256sum</code>для проверки tarball:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sha256sum <span class="highlight">go1.10.3.linux-amd64.tar.gz</span>
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Sample Output">Sample Output</div>go1.10.3.linux-amd64.tar.gz
<span class="highlight">fa1b0e45d3b647c252f51f5e1204aba049cde4af177ef9f2181f43004f901035</span>  go1.10.3.linux-amd64.tar.gz
</code></pre>
<p>В результате хэш должен выглядеть, как показано в результатах выше. Убедитесь, что хэш совпадает с указанным на странице загрузки.</p>

<p>Затем используйте <code>tar</code>для извлечения tarball. Опция <code>x</code>указывает, чтобы команда <code>tar</code>выполняла извлечения, <code>v</code>— что нам нужны развернутые результаты (список извлекаемых файлов), а <code>f</code>— будем ли мы указывать имя файла:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">tar xvf <span class="highlight">go1.10.3.linux-amd64.tar.gz</span>
</li></ul></code></pre>
<p>Теперь в каталоге <code>home</code> у вас должен быть каталог go. Снова измените владельца<code>go</code>и группу на *<em>root *</em>и переместите в каталог <code>/usr/local:</code></p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown -R root:root ./go
</li><li class="line" prefix="$">sudo mv go /usr/local
</li></ul></code></pre>
<p><span class='note'><strong>Примечание.</strong> Хотя <code>/usr/local/go</code> — официально рекомендованный каталог, некоторым пользователям требуется использовать другой путь.<br></span></p>

<h2 id="Шаг-2-—-Настройка-путей-go">Шаг 2 — Настройка путей Go</h2>

<p>На этом шаге мы настроим некоторые пути в вашей среде.</p>

<p>В начале установим значение root для Go, где Go будет искать свои файлы.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano ~/.profile
</li></ul></code></pre>
<p>Добавьте в конец файла следующую строку:</p>
<pre class="code-pre "><code langs="">export GOPATH=$HOME/work
export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin
</code></pre>
<p>Если вы выбрали другое место для установки Go, добавьте эти строки в тот же файл. В данном примере показаны команды для случая установки Go в каталог home:</p>
<pre class="code-pre "><code langs="">export GOROOT=<span class="highlight">$HOME/go</span>
export GOPATH=$HOME/work
export PATH=$PATH:$GOROOT/bin:$GOPATH/bin
</code></pre>
<p>Вставьте в профиль соответствующую строку, сохраните и закройте файл. Обновите профиль с помощью следующей команды:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/.profile
</li></ul></code></pre>
<h2 id="Шаг-3-—-Тестирование-установки">Шаг 3 — Тестирование установки</h2>

<p>После установки Go и настройки путей для вашего сервера вы можете провести тест и убедиться в надлежащей работе Go.</p>

<p>Создайте новый каталог для рабочего пространства Go, где Go будет строить свои файлы:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir $HOME/work
</li></ul></code></pre>
<p>Затем создайте в этой папке иерархию каталогов, используя следующую команду. Это необходимо для создания тестового файла. Вы можете заменить значение <span class="highlight">user</span> своим именем пользователя на GitHub, если планируете использовать Git для отправки и хранения своего кода Go на GitHub. Если вы не планируете использовать<code>для хранения кода и управления им, ваша структура папок должна быть немного другой, например:</code>.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir -p work/src/github.com/<span class="highlight">user</span>/hello
</li></ul></code></pre>
<p>Теперь вы можете создать простой файл «Hello World» в Go.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano ~/work/src/github.com/<span class="highlight">user</span>/hello/hello.go
</li></ul></code></pre>
<p>Вставьте в редакторе следующий код, который использует основные пакеты Go, импортирует отформатированный компонент контента ввода-вывода и задает новую функцию, которая распечатывает фразу «Hello, World» при запуске.</p>
<pre class="code-pre "><code langs="">package main

import "fmt"

func main() {
    fmt.Printf("hello, world\n")
}
</code></pre>
<p>При успешном запуске эта программа должна распечатывать фразу «hello, world». Это означает, что программы Go компилируются правильно. Сохраните и закройте файл, а затем скомпилировайте его с помощью команды Go <code>install</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go install github.com/<span class="highlight">user</span>/hello
</li></ul></code></pre>
<p>После компиляции файла вы можете запустить его, просто выполнив следующую команду:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">hello
</li></ul></code></pre>
<p>Если эта команда возвращает фразу «hello, world», это означает, что Go успешно установлен и работает нормально. Вы можете посмотреть, где установлен скомпилированный двоичный файл <code>hello</code> с помощью команды <code>which</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">which hello
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>/home/<span class="highlight">user</span>/work/bin/hello
</code></pre>
<h2 id="Заключение">Заключение</h2>

<p>Вы загрузили и установили пакет последней версии Go, задали пути для него, и теперь можете использовать свою систему для разработки на Go. Вы можете найти дополнительные статьи по установке и использованию Go и подписаться на них, используя наш тег <a href="https://www.digitalocean.com/community/tags/go">Go</a></p>
