---
layout: post
title: How to Install Wordpress with LAMP on Debian 10
network: digitalocean
date: July 17, 2019 at 12:13PM
url: https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lamp-on-debian-10
image: https://assets.digitalocean.com/articles/wordpress_lamp_1604/language_selection.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introduction">Introduction</h3>

<p>WordPress is the most popular CMS (content management system) on the internet. It allows you to easily set up flexible blogs and websites on top of a MariaDB backend with PHP processing. WordPress has seen incredible adoption and is a great choice for getting a website up and running quickly. After setup, almost all administration can be done through the web frontend.</p>

<p>In this guide, we'll focus on getting a WordPress instance set up on a LAMP stack (Linux, Apache, MariaDB, and PHP) on a Debian 10 server.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>In order to complete this tutorial, you will need access to a Debian 10 server.</p>

<p>You will need to perform the following tasks before you can start this guide:</p>

<ul>
<li><strong>Create a <code>sudo</code> user on your server</strong>: We will be completing the steps in this guide using a non-<strong>root</strong> user with <code>sudo</code> privileges. You can create a user with <code>sudo</code> privileges by following our <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-10">Debian 10 initial server setup guide</a>.</li>
<li><strong>Install a LAMP stack</strong>: WordPress will need a web server, a database, and PHP in order to correctly function. Setting up a LAMP stack (Linux, Apache, MariaDB, and PHP) fulfills all of these requirements. Follow <a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mariadb-php-lamp-stack-on-debian-10">this guide</a> to install and configure this software.</li>
<li><strong>Secure your site with SSL</strong>: WordPress serves dynamic content and handles user authentication and authorization. TLS/SSL is the technology that allows you to encrypt the traffic from your site so that your connection is secure. The way you set up SSL will depend on whether you have a domain name for your site.

<ul>
<li><strong>If you have a domain name...</strong> the easiest way to secure your site is with Let's Encrypt, which provides free, trusted certificates. Follow our <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-debian-10">Let's Encrypt guide for Apache</a> to set this up.</li>
<li><strong>If you do not have a domain...</strong> and you are just using this configuration for testing or personal use, you can use a self-signed certificate instead. This provides the same type of encryption, but without the domain validation. Follow our <a href="https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-apache-in-debian-10">self-signed SSL guide for Apache</a> to get set up.</li>
</ul></li>
</ul>

<p>When you are finished with the setup steps, log in to your server as your <code>sudo</code> user and continue below.</p>

<h2 id="step-1-—-creating-a-mariadb-database-and-user-for-wordpress">Step 1 — Creating a MariaDB Database and User for WordPress</h2>

<p>The first step that we will take is a preparatory one. WordPress requires a MySQL-based database to store and manage site and user information. We have MariaDB — a drop-in replacement for MySQL — installed already, but we need to make a database and a user for WordPress to use.</p>

<p>To get started, open up the MariaDB prompt as the <strong>root</strong> account:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mariadb
</li></ul></code></pre>
<span class='note'><p>
<strong>Note:</strong> If you set up another account with administrative privileges when you installed and set up MariaDB, you can also log in as that user. You’ll need to do so with the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mariadb -u <span class="highlight">username</span> -p
</li></ul></code></pre>
<p>After issuing this command, MariaDB will prompt you for the password you set for that account.<br></p></span>

<p>Begin by creating a new database that WordPress will control. You can call this whatever you would like but, to keep it simple for this guide, we will name it <strong>wordpress</strong>.</p>

<p>Create the database for WordPress by typing:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="mysql&gt;">CREATE DATABASE <span class="highlight">wordpress</span> DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
</li></ul></code></pre>
<p>Note that every MySQL statement must end in a semi-colon (<code>;</code>). Check to make sure this is present if you are running into any issues.</p>

<p>Next, create a separate MySQL user account that we will use exclusively to operate on our new database. Creating single-function databases and accounts is a good idea from a management and security standpoint. We will use the name <strong>wordpress_user</strong> in this guide, but feel free to change this if you'd like.</p>

<p>Create this account, set a password, and grant the user access to the database you just created with the following command. Remember to choose a strong password for your database user:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB [(none)]&gt;">GRANT ALL ON <span class="highlight">wordpress</span>.* TO '<span class="highlight">wordpress_user</span>'@'localhost' IDENTIFIED BY '<span class="highlight">password</span>';
</li></ul></code></pre>
<p>You now have a database and user account, each made specifically for WordPress. Run the following command to reload the grant tables so that the current instance of MariaDB knows about the changes you've made:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB [(none)]&gt;">FLUSH PRIVILEGES;
</li></ul></code></pre>
<p>Exit out of MariaDB by typing:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB [(none)]&gt;">EXIT;
</li></ul></code></pre>
<p>Now that you’ve configured the database and user that will be used by WordPress, you can move on to installing some PHP-related packages used by the CMS.</p>

<h2 id="step-2-—-installing-additional-php-extensions">Step 2 — Installing Additional PHP Extensions</h2>

<p>When setting up our LAMP stack, we only required a very minimal set of extensions in order to get PHP to communicate with MariaDB. WordPress and many of its plugins leverage additional PHP extensions.</p>

<p>Download and install some of the most popular PHP extensions for use with WordPress by typing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li><li class="line" prefix="$">sudo apt install php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip
</li></ul></code></pre>
<p><span class='note'><strong>Note:</strong> Each WordPress plugin has its own set of requirements. Some may require additional PHP packages to be installed. Check your plugin documentation to find its PHP requirements. If they are available, they can be installed with <code>apt</code> as demonstrated above.<br></span></p>

<p>We will restart Apache to load these new extensions in the next section. If you are returning here to install additional plugins, you can restart Apache now by typing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart apache2
</li></ul></code></pre>
<p>At this point, all that’s left to do before installing WordPress is to make some changes to your Apache configuration in order to allow the CMS to function smoothly.</p>

<h2 id="step-3-—-adjusting-apache-39-s-configuration-to-allow-for-htaccess-overrides-and-rewrites">Step 3 — Adjusting Apache's Configuration to Allow for .htaccess Overrides and Rewrites</h2>

<p>With the additional PHP extensions installed and ready for use, the next thing to do is to make a few changes to your Apache configuration. Based on the prerequisite tutorials, you should have a configuration file for your site in the <code>/etc/apache2/sites-available/</code> directory. We'll use <code>/etc/apache2/sites-available/wordpress.conf</code> as an example here, but you should substitute the path to your configuration file where appropriate.</p>

<p>Additionally, we will use <code>/var/www/wordpress</code> as the root directory of our WordPress install. You should use the web root specified in your own configuration.</p>

<p><span class='note'><strong>Note:</strong> It's possible you are using the <code>000-default.conf</code> default configuration (with <code>/var/www/html</code> as your web root). This is fine to use if you're only going to host one website on this server. If not, it's best to split the necessary configuration into logical chunks, one file per site.<br></span></p>

<p>Currently, the use of <code>.htaccess</code> files is disabled. WordPress and many WordPress plugins use these files extensively for in-directory tweaks to the web server's behavior.</p>

<p>Open the Apache configuration file for your website. Note that if you have an existing Apache configuration file for your website, this file’s name will be different:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/apache2/sites-available/<span class="highlight">wordpress</span>.conf
</li></ul></code></pre>
<p>To allow <code>.htaccess</code> files, you’ll need to add a <code>Directory</code> block pointing to your document root with an <code>AllowOverride</code> directive within it. Add the following block of text inside the <code>VirtualHost</code> block in your configuration file, being sure to use the correct web root directory:</p>
<div class="code-label " title="/etc/apache2/sites-available/wordpress.conf">/etc/apache2/sites-available/wordpress.conf</div><pre class="code-pre "><code langs="">&lt;Directory <span class="highlight">/var/www/wordpress/</span>&gt;
    AllowOverride All
&lt;/Directory&gt;
</code></pre>
<p>When you are finished, save and close the file.</p>

<p>Next, enable the <code>rewrite</code> module in order to utilize the WordPress permalink feature:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo a2enmod rewrite
</li></ul></code></pre>
<p>Before implementing the changes you've made, check to make sure that you haven't made any syntax errors:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apache2ctl configtest
</li></ul></code></pre>
<p>If your configuration file’s syntax is correct, you’ll see the following in your output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Syntax OK
</code></pre>
<p>If this command reports any errors, go back and check that you haven’t made any syntax errors in your configuration file. Otherwise, restart Apache to implement the changes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart apache2
</li></ul></code></pre>
<p>Next, we will download and set up WordPress itself.</p>

<h2 id="step-4-—-downloading-wordpress">Step 4 — Downloading WordPress</h2>

<p>Now that your server software is configured, you can download and set up WordPress. For security reasons in particular, it is always recommended to get the latest version of WordPress directly from their site.</p>

<span class='note'><p>
<strong>Note:</strong> We will use <code>curl</code> to download WordPress, but this program may not be installed by default on your Debian server. To install it, run:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install curl
</li></ul></code></pre>
<p></p></span>

<p>Change into a writable directory and then download the compressed release by typing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /tmp
</li><li class="line" prefix="$">curl -O https://wordpress.org/latest.tar.gz
</li></ul></code></pre>
<p>Extract the compressed file to create the WordPress directory structure:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">tar xzvf latest.tar.gz
</li></ul></code></pre>
<p>We will move these files into our document root momentarily. Before we do, though, add a dummy <code>.htaccess</code> file so that this will be available for WordPress to use later.</p>

<p>Create the file by typing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">touch /tmp/wordpress/.htaccess
</li></ul></code></pre>
<p>Then copy over the sample configuration file to the filename that WordPress actually reads:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cp /tmp/wordpress/wp-config-sample.php /tmp/wordpress/wp-config.php
</li></ul></code></pre>
<p>Additionally, create the <code>upgrade</code> directory so that WordPress won't run into permissions issues when trying to do this on its own following an update to its software:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir /tmp/wordpress/wp-content/upgrade
</li></ul></code></pre>
<p>Then, copy the entire contents of the directory into your document root. Notice that the following command includes a dot at the end of the source directory to indicate that everything within the directory should be copied, including hidden files (like the <code>.htaccess</code> file you created):</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo cp -a /tmp/wordpress/. /var/www/<span class="highlight">wordpress</span>
</li></ul></code></pre>
<p>With that, you’ve successfully installed WordPress onto your web server and performed some of the initial configuration steps. Next, we’ll discuss some further configuration changes that will give WordPress the privileges it needs to function as well as access to the MariaDB database and user account you created previously.</p>

<h2 id="step-5-—-configuring-the-wordpress-directory">Step 5 — Configuring the WordPress Directory</h2>

<p>Before we can go through the web-based setup process for WordPress, we need to adjust some items in our WordPress directory.</p>

<p>Start by giving ownership of all the files to the <strong>www-data</strong> user and group. This is the user that the Apache web server runs as, and Apache will need to be able to read and write WordPress files in order to serve the website and perform automatic updates.</p>

<p>Update the ownership with <code>chown</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown -R www-data:www-data /var/www/<span class="highlight">wordpress</span>
</li></ul></code></pre>
<p>Next we will run two <code>find</code> commands to set the correct permissions on the WordPress directories and files:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo find /var/www/<span class="highlight">wordpress</span>/ -type d -exec chmod 750 {} \;
</li><li class="line" prefix="$">sudo find /var/www/<span class="highlight">wordpress</span>/ -type f -exec chmod 640 {} \;
</li></ul></code></pre>
<p>These should be a reasonable permissions set to start with, although some plugins and procedures might require additional tweaks.</p>

<p>Following this, you will need to make some changes to the main WordPress configuration file. </p>

<p>When you open the file, your first objective will be to adjust some secret keys to provide some security for your installation. WordPress provides a secure generator for these values so that you do not have to try to come up with good values on your own. These are only used internally, so it won't hurt usability to have complex, secure values here.</p>

<p>To grab secure values from the WordPress secret key generator, type:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">curl -s https://api.wordpress.org/secret-key/1.1/salt/
</li></ul></code></pre>
<p>You will get back unique values that look something like this:</p>

<p><span class='warning'><strong>Warning!</strong> It is important that you request unique values each time. Do <strong>NOT</strong> copy the values shown below!<br></span></p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>define('AUTH_KEY',         '1jl/vqfs&lt;XhdXoAPz9 <span class="highlight">DO NOT COPY THESE VALUES</span> c_j{iwqD^&lt;+c9.k&lt;J@4H');
define('SECURE_AUTH_KEY',  'E2N-h2]Dcvp+aS/p7X <span class="highlight">DO NOT COPY THESE VALUES</span> {Ka(f;rv?Pxf})CgLi-3');
define('LOGGED_IN_KEY',    'W(50,{W^,OPB%PB&lt;JF <span class="highlight">DO NOT COPY THESE VALUES</span> 2;y&amp;,2m%3]R6DUth[;88');
define('NONCE_KEY',        'll,4UC)7ua+8&lt;!4VM+ <span class="highlight">DO NOT COPY THESE VALUES</span> #`DXF+[$atzM7 o^-C7g');
define('AUTH_SALT',        'koMrurzOA+|L_lG}kf <span class="highlight">DO NOT COPY THESE VALUES</span>  07VC*Lj*lD&amp;?3w!BT#-');
define('SECURE_AUTH_SALT', 'p32*p,]z%LZ+pAu:VY <span class="highlight">DO NOT COPY THESE VALUES</span> C-?y+K0DK_+F|0h{!_xY');
define('LOGGED_IN_SALT',   'i^/G2W7!-1H2OQ+t$3 <span class="highlight">DO NOT COPY THESE VALUES</span> t6**bRVFSD[Hi])-qS`|');
define('NONCE_SALT',       'Q6]U:K?j4L%Z]}h^q7 <span class="highlight">DO NOT COPY THESE VALUES</span> 1% ^qUswWgn+6&amp;xqHN&amp;%');
</code></pre>
<p>These are configuration lines that you will paste directly into your configuration file to set secure keys. Copy the output you received to your clipboard, and then open the WordPress configuration file located in your document root:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /var/www/<span class="highlight">wordpress</span>/wp-config.php
</li></ul></code></pre>
<p>Find the section that contains the dummy values for those settings. It will look something like this:</p>
<div class="code-label " title="/var/www/wordpress/wp-config.php">/var/www/wordpress/wp-config.php</div><pre class="code-pre "><code langs="">. . .

define('AUTH_KEY',         'put your unique phrase here');
define('SECURE_AUTH_KEY',  'put your unique phrase here');
define('LOGGED_IN_KEY',    'put your unique phrase here');
define('NONCE_KEY',        'put your unique phrase here');
define('AUTH_SALT',        'put your unique phrase here');
define('SECURE_AUTH_SALT', 'put your unique phrase here');
define('LOGGED_IN_SALT',   'put your unique phrase here');
define('NONCE_SALT',       'put your unique phrase here');

. . .
</code></pre>
<p>Delete these lines and paste in the values you copied from the command line:</p>
<div class="code-label " title="/var/www/wordpress/wp-config.php">/var/www/wordpress/wp-config.php</div><pre class="code-pre "><code langs="">. . .

define('AUTH_KEY',         '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('SECURE_AUTH_KEY',  '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('LOGGED_IN_KEY',    '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('NONCE_KEY',        '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('AUTH_SALT',        '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('SECURE_AUTH_SALT', '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('LOGGED_IN_SALT',   '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');
define('NONCE_SALT',       '<span class="highlight">VALUES COPIED FROM THE COMMAND LINE</span>');

. . .
</code></pre>
<p>Next, modify the database connection settings at the top of the file. You need to adjust the database name, the database user, and the associated password that you’ve configured within MariaDB.</p>

<p>The other change you must make is to set the method that WordPress should use to write to the filesystem. Since we've given the web server permission to write where it needs to, we can explicitly set the filesystem method to "direct". Failure to set this with our current settings would result in WordPress prompting for FTP credentials when you perform certain actions.</p>

<p>This setting can be added below the database connection settings, or anywhere else in the file:</p>
<div class="code-label " title="/var/www/wordpress/wp-config.php">/var/www/wordpress/wp-config.php</div><pre class="code-pre "><code langs="">. . .

define('DB_NAME', '<span class="highlight">wordpress</span>');

/** MySQL database username */
define('DB_USER', '<span class="highlight">wordpress_user</span>');

/** MySQL database password */
define('DB_PASSWORD', '<span class="highlight">password</span>');

. . .

<span class="highlight">define('FS_METHOD', 'direct');</span>
</code></pre>
<p>Save and close the file when you are finished. Finally, you can finish installing and configuring WordPress by accessing it through your web browser.</p>

<h2 id="step-6-—-completing-the-installation-through-the-web-interface">Step 6 — Completing the Installation Through the Web Interface</h2>

<p>Now that the server configuration is complete, we can complete the installation through the web interface.</p>

<p>In your web browser, navigate to your server's domain name or public IP address:</p>
<pre class="code-pre "><code langs="">https://<span class="highlight">server_domain_or_IP</span>
</code></pre>
<p>Select the language you would like to use:</p>

<p><img src="https://assets.digitalocean.com/articles/wordpress_lamp_1604/language_selection.png" alt="WordPress language selection"></p>

<p>Next, you will come to the main setup page. Select a name for your WordPress site and choose a username (it is recommended not to choose something like "admin" for security purposes). A strong password is generated automatically. Save this password or select an alternative strong password.</p>

<p>Enter your email address and select whether you want to discourage search engines from indexing your site:</p>

<p><img src="https://assets.digitalocean.com/articles/wordpress_lamp_1604/setup_installation.png" alt="WordPress setup installation"></p>

<p>When ready, click the <strong>Install WordPress</strong> button. You’ll be taken to a page that prompts you to log in:</p>

<p><img src="https://assets.digitalocean.com/articles/wordpress_lamp_1604/login_prompt.png" alt="WordPress login prompt"></p>

<p>Once you log in, you will be taken to the WordPress administration dashboard:</p>

<p><img src="https://assets.digitalocean.com/articles/wordpress_lamp_1604/admin_screen.png" alt="WordPress login prompt"></p>

<p>From the dashboard, you can begin making changes to your site’s theme and publishing content.</p>

<h2 id="conclusion">Conclusion</h2>

<p>WordPress should be installed and ready to use! Some common next steps are to choose the permalinks setting for your posts (can be found in <code>Settings &gt; Permalinks</code>) or to select a new theme (in <code>Appearance &gt; Themes</code>). If this is your first time using WordPress, explore the interface a bit to get acquainted with your new CMS, or check the <a href="https://wordpress.org/support/article/first-steps-with-wordpress-b/">First Steps with WordPress</a> guide on their official documentation.</p>
