---
layout: post
title: Cómo instalar Jupyter Notebook, ejecutarla y conectarse a ella en un servidor remoto
network: digitalocean
date: December 05, 2019 at 07:25PM
url: https://www.digitalocean.com/community/tutorials/como-instalar-jupyter-notebook-ejecutarla-y-conectarse-a-ella-en-un-servidor-remoto-es
image: https://assets.digitalocean.com/articles/jupyter_notebook/JN_putty_1.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>El autor seleccionó la <a href="https://www.brightfunds.org/organizations/apache-software-foundation">Apache Software Foundation</a> para que recibiera una donación de $100 como parte del <a href="https://do.co/w4do-cta">programa Write for DOnations</a>.</em></p>

<h3 id="introducción">Introducción</h3>

<p><a href="https://jupyter-notebook.readthedocs.io/en/stable/">Jupyter Notebook</a> es una aplicación web interactiva de código abierto que le permite escribir y ejecutar código informático en más de 40 lenguajes de programación, incluidos <a href="https://www.python.org/">Python</a>, <a href="https://www.r-project.org/">R</a>, <a href="https://julialang.org/">Julia</a> y <a href="https://www.scala-lang.org/">Scala</a>. Jupyter Notebook, un producto de <a href="http://jupyter.org/about">Project Jupyter</a>, es útil para la codificación iterativa, ya que le permite escribir un pequeño fragmento de código, ejecutarlo y obtener el resultado.</p>

<p>Jupyter Notebook proporciona la capacidad de crear documentos notebook, denominados simplemente “notebooks”. Los notebooks creados desde Jupyter Notebook son documentos de investigación reproducibles e intercambiables que incluyen elementos de texto enriquecido, ecuaciones, código y sus resultados (cifras, tablas, tramas interactivas). También pueden exportarse a archivos de código sin procesar, HTML o documentos PDF, o bien utilizarse para crear presentaciones de diapositivas interactivas o páginas web.</p>

<p>A través de este artículo, aprenderá a instalar y configurar la aplicación Jupyter Notebook en un servidor web de Ubuntu 18.04, y también a conectarse a ella desde su computadora local. Además, también veremos cómo utilizar Jupyter Notebook para ejecutar un ejemplo de código de Python.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>Para completar este tutorial, necesitará lo siguiente:</p>

<ul>
<li>Una instancia de servidor de Ubuntu 18.04. Este servidor debe tener un usuario no root con privilegios sudo y un firewall configurados. Configúrelos siguiendo nuestra <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">guía de configuración inicial para servidores</a>.</li>
<li>Python 3, pip y el módulo <code>venv</code> de Python instalados en el servidor. Para hacerlo siga los pasos 1 y 2 de nuestro tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-programming-environment-on-an-ubuntu-18-04-server">Cómo instalar Python 3 y configurar un entorno de programación local en Ubuntu 18.04</a>.</li>
<li>Un navegador web moderno en la computadora local que utilizará para acceder a Jupyter Notebook.</li>
</ul>

<p>Además, si su computadora local tiene Windows instalado, deberá instalar PuTTY para establecer un túnel SSH hacia su servidor. Siga nuestra guía <a href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-putty-on-digitalocean-droplets-windows-users">Cómo crear claves SSH con PuTTY en Windows</a> para descargar e instalar PuTTY.</p>

<h2 id="paso-1-instalar-jupyter-notebook">Paso 1: Instalar Jupyter Notebook</h2>

<p>Dado que los notebooks se utilizan para escribir, ejecutar y ver el resultado de pequeños fragmentos de código, primero deberá configurar la compatibilidad de lenguajes de programación. Jupyter Notebook utiliza un <em>kernel</em> específico de lenguaje, un programa informático que ejecuta e inspecciona código. Jupyter Notebook tiene <a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">muchos kernels en diferentes lenguajes</a> y el predeterminado es <a href="https://ipython.org/">IPython</a>. A través de este tutorial, configurará Jupyter Notebook para ejecutar código de Python a través del kernel de IPython.</p>

<p>Suponiendo que haya seguido los tutoriales con vínculos de la sección de requisitos previos, debería tener <a href="https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-local-programming-environment-on-ubuntu-18-04">instalados Python 3, pip y un entorno virtual</a>. Los ejemplos de esta guía cumplen con la convención utilizada en el tutorial de los requisitos previos respecto de la instalación de Python 3, por la cual se denomina al entorno virtual “<code>my_env</code>”. Sin embargo, podrá asignarle el nombre que desee.</p>

<p>Comience activando el entorno virtual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source <span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>A continuación, su linea de comandos llevará como prefijo el nombre de su entorno.</p>

<p>Ahora que se encuentra en su entorno virtual, instale Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">python3 -m pip install jupyter
</li></ul></code></pre>
<p>Si la instalación fue correcta, verá un resultado similar a este:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>. . .
Successfully installed MarkupSafe-1.0 Send2Trash-1.5.0 backcall-0.1.0 bleach-2.1.3 decorator-4.3.0 entrypoints-0.2.3 html5lib-1.0.1 ipykernel-4.8.2 ipython-6.4.0 ipython-genutils-0.2.0 ipywidgets-7.2.1 jedi-0.12.0 jinja2-2.10 jsonschema-2.6.0 jupyter-1.0.0 jupyter-client-5.2.3 jupyter-console-5.2.0 jupyter-core-4.4.0 mistune-0.8.3 nbconvert-5.3.1 nbformat-4.4.0 notebook-5.5.0 pandocfilters-1.4.2 parso-0.2.0 pexpect-4.5.0 pickleshare-0.7.4 prompt-toolkit-1.0.15 ptyprocess-0.5.2 pygments-2.2.0 python-dateutil-2.7.3 pyzmq-17.0.0 qtconsole-4.3.1 simplegeneric-0.8.1 six-1.11.0 terminado-0.8.1 testpath-0.3.1 tornado-5.0.2
</code></pre>
<p>Con esto, Jupyter Notebook quedará instalado en su servidor. A continuación, veremos la forma de ejecutar la aplicación.</p>

<h2 id="paso-2-ejecutar-jupyter-notebook">Paso 2: Ejecutar Jupyter Notebook</h2>

<p>Jupyter Notebook debe ejecutarse desde su VPS, de modo que pueda conectarse a ella desde su computadora local utilizando un túnerl SSH y su navegador web favorito.</p>

<p>Para ejecutar el servidor Jupyter Notebook, instroduzca el siguiente comando:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">jupyter notebook
</li></ul></code></pre>
<p>Después de ejecutar este comando, verá un resultado similar a este:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>[I 19:46:22.031 NotebookApp] Writing notebook server cookie secret to /home/<span class="highlight">sammy</span>/.local/share/jupyter/runtime/notebook_cookie_secret
[I 19:46:22.365 NotebookApp] Serving notebooks from local directory: /home/<span class="highlight">sammy</span>/environments
[I 19:46:22.365 NotebookApp] 0 active kernels
[I 19:46:22.366 NotebookApp] The Jupyter Notebook is running at:
[I 19:46:22.366 NotebookApp] http://localhost:8888/?token=<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>
[I 19:46:22.366 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 19:46:22.366 NotebookApp] No web browser found: could not locate runnable browser.
[C 19:46:22.367 NotebookApp]

    Copy/paste this URL into your browser when you connect for the first time,
    to login with a token:
        http://localhost:8888/?token=<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>&amp;token<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>
</code></pre>
<p>Es posible que en el resultado observe una advertencia <code>No web browser found</code>. Esto es normal, ya que la aplicación se ejecuta en un servidor y probablemente no haya instalado en él un navegador web. A través de esta guía, verá la forma de conectarse a Notebook en el servidor utilizando túneles SSH en la siguiente sección.</p>

<p>Por ahora, salga de Jupyter Notebook presionando <code>CTRL+C</code> e <code>y</code>, y luego utilice <code>ENTER</code> para confirmar:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Shutdown this notebook server (y/[n])? <span class="highlight">y</span>
[C 20:05:47.654 NotebookApp] Shutdown confirmed
[I 20:05:47.654 NotebookApp] Shutting down 0 kernels
</code></pre>
<p>Luego, cierre el servidor con el comando <code>exit</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">exit
</li></ul></code></pre>
<p>Ejecutó Jupyter Notebook en su servidor. Sin embargo, para acceder a la aplicación y comenzar a trabajar con notebooks, deberá conectarse a ella mediante túneles SSH y un navegador web en su computadora local.</p>

<h2 id="paso-3-establecer-conexión-con-la-aplicación-jupyter-notebook-mediante-túneles-ssh">Paso 3: Establecer conexión con la aplicación Jupyter Notebook mediante túneles SSH</h2>

<p>Los <em>túneles SSH</em> son una alternativa sencilla y rápida para conectarse a la aplicación Jupyter Notebook de su servidor. El shell seguro (más conocido como <a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys">SSH</a>) es un protocolo de red que le permite conectarse a un servidor remoto de forma segura a través de una red no protegida.</p>

<p>El protocolo SSH incluye un mecanismo de enrutamiento de puerto que le permite canalizar algunas aplicaciones que se ejecutan en un número de puerto específico de un servidor a un número de puerto específico en su computadora local. Aprenderemos a “enrutar” de forma segura la aplicación Jupyter Notebook de su servidor (en el puerto <code>8888</code>, por defecto) a un puerto de su computadora local.</p>

<p>El método que utilice para establecer un túnel SSH dependerá del sistema operativo de su computadora local. Entre las subsecciones que se muestran a continuación,elija la  que sea más pertinente para su computadora.</p>

<p><span class='note'><strong>Nota:</strong> Es posible configurar e instalar Jupyter Notebook utilizando DigitalOcean Web Console, pero la conexión a la aplicación mediante un túnel SSH debe realizarse a través del terminal o con PuTTY.<br></span></p>

<h3 id="túneles-ssh-con-macos-o-linux">Túneles SSH con macOS o Linux</h3>

<p>Si su computadora local tiene Linux o macOS instalado, es posible establecer un túnel SSH con un solo comando.</p>

<p><code>ssh</code> es el comando estándar para abrir una conexión SSH, pero cuando se utiliza con la directiva <code>-L</code> se puede especificar que un puerto determinado en el host local (es decir, su computadora local) se envíe a un host y un puerto determinados en el host remoto (en este caso, su servidor). Esto significa que lo que ejecute en el puerto especificado en el servidor remoto (<code>8888</code>, el puerto predeterminado de Jupyter Notebook) aparecerá en el puerto especificado en su computadora local (<code><span class="highlight">8000</span></code>en el comando del ejemplo).</p>

<p>Para establecer su propio túnel SSH, ejecute el siguiente comando. Puede cambiar el puerto <code><span class="highlight">8000</span></code>por uno de su elección si, por ejemplo, otro proceso utiliza el puerto <code>8000</code>. Se le recomienda utilizar un puerto mayor o igual al <code>8000</code>, ya que es improbable que otros procesos utilicen esos números de puertos. Asegúrese de incluir la dirección IP de su propio servidor y el nombre de su usuario no root del servidor:</p>
<pre class="code-pre command local-environment"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh -L <span class="highlight">8000</span>:localhost:8888 <span class="highlight">sammy</span>@<span class="highlight">your_server_ip</span>
</li></ul></code></pre>
<p>Si no hay errores en este comando, accederá a su servidor remoto. Desde allí, active el entorno virtual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/environments/<span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>Luego, ejecute la aplicación Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">jupyter notebook
</li></ul></code></pre>
<p>Para conectarse a Jupyter Notebook, utilice su navegador web favorito y diríjase al puerto local del host local: <code>http://localhost:<span class="highlight">8000</span></code>. Ahora que estableció conexión con Jupyter Notebook, continúe con el Paso 4 para aprender a utilizarla.</p>

<h3 id="túneles-ssh-con-windows-y-putty">Túneles SSH con Windows y PuTTY</h3>

<p>PuTTY es un cliente SSH de código abierto para Windows que puede utilizarse para <a href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-putty-on-digitalocean-droplets-windows-users">conectarse a su servidor</a>. Tras descargar e instalar PuTTY en su computadora con Windows (como se describe en el tutorial de los requisitos previos), abra el programa e introduzca la URL o la dirección IP de su servidor, como se muestra aquí:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_putty_1.png" alt="Introduzca la URL o IP del servidor en Putty"></p>

<p>A continuación, haga clic en <strong>+ SSH</strong> en la parte inferior izquierda del panel y luego en <strong>Tunnels</strong>. En esta ventana, introduzca el puerto que desea utilizar para acceder a Jupyter en su computadora local (<code><span class="highlight">8000</span></code>). Se le recomienda utilizar un puerto mayor o igual al <code>8000</code>, ya que es improbable que otros procesos utilicen esos números de puertos. Si otro proceso utiliza el puerto <code>8000</code>, seleccione un número de puerto diferente que no se haya utilizado. A continuación, establezca el destino como <code>localhost:8888</code>, ya que Jupyter Notebook funciona en el puerto <code>8888</code>. Luego, haga clic en el botón <strong>Add</strong>. Deberían aparecer los puertos en el campo <strong>Forwarded ports</strong>:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_putty_2.png" alt="Configure el túnel SSH en Putty"></p>

<p>Por último, haga clic en el botón <strong>Open</strong>. Esto conectará su computadora al servidor a través de SSH y canalizará los puertos deseados. Si no aparecen errores, active su entorno virtual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/environments/<span class="highlight">my_env</span>/bin/activate
</li></ul></code></pre>
<p>Luego, ejecute Jupyter Notebook:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="(my_env) sammy@server:~$">jupyter notebook
</li></ul></code></pre>
<p>A continuación, diríjase al puerto local en su navegador web favorito, una opción puede ser <code>http://localhost:<span class="highlight">8000</span></code> (o cualquier número de puerto que haya elegido), para establecer conexión con la instancia de Jupyter Notebook del servidor. Ahora que estableció conexión con Jupyter Notebook, continúe con el Paso 4 para aprender a utilizarla.</p>

<h2 id="paso-4-usar-jupyter-notebook">Paso 4: Usar Jupyter Notebook</h2>

<p>Cuando se accede a través de un navegador web, Jupyter Notebook proporciona un panel de notebooks que funciona como navegador de archivos y le proporciona una interfaz para crear, editar y explorar notebooks. Considere estos notebooks como documentos (guardados con una extensión de archivo <code>.ipynb</code>) que usted puede llenar con cualquier número de celdas individuales. Cada celda tiene un editor de texto interactivo que puede utilizarse para ejecutar código o escribir texto representado. Además, los notebooks le permiten escribir y ejecutar ecuaciones e incluir otros medios, como imágenes o tramas interactivas. También se pueden exportar y compartir en varios formatos (<code>.ipyb</code>, <code>.pdf</code>, <code>.py</code>). Para mostrar algunas de estas funciones, crearemos un archivo notebook desde el panel de notebooks, escribiremos una tabla de texto sencilla con una ecuación y ejecutaremos código básico de Python 3.</p>

<p>En este punto, deberá estar conectado al servidor a través de un túnel SSH y haber iniciado la aplicación Jupyter Notebook desde su servidor. Una vez que se dirija a <code>http://localhost:<span class="highlight">8000</span></code>, verá aparecer una página de inicio de sesión:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_login_screen_small.png" alt="Pantalla de inicio de sesión de Jupyter Notebook"></p>

<p>En el campo <strong>Password or token</strong> de la parte superior, introduzca el token que vio aparecer en el resultado después de ejecutar <code>jupyter notebook</code> desde su servidor:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>[I 20:35:17.004 NotebookApp] Writing notebook server cookie secret to /run/user/1000/jupyter/notebook_cookie_secret
[I 20:35:17.314 NotebookApp] Serving notebooks from local directory: /home/sammy
[I 20:35:17.314 NotebookApp] 0 active kernels
[I 20:35:17.315 NotebookApp] The Jupyter Notebook is running at:
[I 20:35:17.315 NotebookApp] http://localhost:8888/?token=<span class="highlight">Example_Jupyter_Token_3cadb8b8b7005d9a46ca4d6675</span>
[I 20:35:17.315 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 20:35:17.315 NotebookApp] No web browser found: could not locate runnable browser.
[C 20:35:17.316 NotebookApp]
. . .
</code></pre>
<p>También puede copiar esa URL del resultado de su terminal y pegarla en la barra de direcciones de su navegador.</p>

<p>De forma automática, Jupyter notebook mostrará los archivos y las carpetas almacenados en el directorio desde el que se ejecuta. Cree un nuevo archivo notebook haciendo clic en <strong>New</strong> y luego en <strong>Python 3</strong> en la parte superior derecha del panel de notebooks:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_new_python3.png" alt="Cree un nuevo notebook de Python3"></p>

<p>Dentro de este nuevo notebook, cambie la primera celda para aceptar sintaxis de lenguaje de marcado presionando <strong>Cell</strong> &gt; <strong>Cell Type</strong> &gt; <strong>Markdown</strong> en la barra de navegación de la parte superior. Esta categoría “Cell Type” también le permite escribir ecuaciones en LaTeX además de usar lenguaje de marcado. Por ejemplo, escriba lo siguiente en la celda después del cambio a lenguaje de marcado:</p>
<pre class="code-pre "><code langs=""># Simple Equation

Let us now implement the following equation in Python:
$$ y = x^2$$

where $x = 2$
</code></pre>
<p>Para convertir el lenguaje de marcado en texto enriquecido, presione <code>CTRL + ENTER</code>. Debería aparecer el siguiente resultado:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_sample_equation.png" alt="Convierta la ecuación de ejemplo en texto enriquecido"></p>

<p>Puede utilizar las celdas de lenguaje de marcado para crear notas y documentar su código.</p>

<p>Ahora, implementaremos una ecuación sencilla y mostraremos el resultado. Haga clic en <strong>Insert *<em>&gt; *</em>Insert Cell Below</strong> para insertar una celda. En esta nueva celda, introduzca el siguiente código:</p>
<pre class="code-pre "><code langs="">x = 2
y = x*x
print(y)
</code></pre>
<p>Para ejecutar el código, presione <code>CTRL + ENTER</code>. Se mostrará el siguiente resultado:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_sample_equation2.png" alt="Resuelva la ecuación de muestra"></p>

<p>Estos son algunos ejemplos relativamente sencillos de lo que puede hacer con Jupyter Notebook. Sin embargo, es una aplicación muy potente que puede implementarse en muchos casos de uso. Desde aquí, puede agregar algunas bibliotecas de Python y utilizar el notebook como haría con cualquier otro entorno de desarrollo de Python.</p>

<h2 id="conclusión">Conclusión</h2>

<p>Ahora, debería poder escribir código y texto reproducible de Python utilizando Jupyter Notebook en un servidor remoto. Para ver rápidamente Jupyter Notebook, haga clic en <strong>Help</strong> en la barra de navegación superior y seleccione <strong>User Interface Tour</strong>, como se muestra aquí:</p>

<p><img src="https://assets.digitalocean.com/articles/jupyter_notebook/JN_help_tour.png" alt="Encontrar el recorrido de la ayuda de Jupyter Notebook"></p>

<p>Si le interesa, le sugerimos obtener más información sobre Jupyter Notebook consultando la <a href="http://jupyter.org/documentation">documentación de Project Jupyter</a>. Además, puede aprovechar lo que aprendió en este tutorial <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">aprendiendo a codificar en Python 3</a>.</p>
