---
layout: post
title: Como Instalar o Go e Configurar um Ambiente de Programação Local no Ubuntu 18.04
network: digitalocean
date: July 22, 2019 at 08:33PM
url: https://www.digitalocean.com/community/tutorials/como-instalar-o-go-e-configurar-um-ambiente-de-programacao-local-no-ubuntu-18-04-pt
image: https://assets.digitalocean.com/articles/eng_python/UbuntuDebianSetUp/UbuntuSetUp.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introdução">Introdução</h3>

<p><a href="https://golang.org">Go</a> é uma linguagem de programação que nasceu da frustração no Google. Os desenvolvedores precisavam escolher continuamente uma linguagem que fosse executada com eficiência, mas demoravam muito tempo para compilar ou escolher uma linguagem fácil de programar, mas que era executada de forma ineficiente em produção. O Go foi projetado para ter todas as três características disponíveis ao mesmo tempo: compilação rápida, facilidade de programação e execução eficiente em produção.</p>

<p>Embora o Go seja uma linguagem de programação versátil que pode ser usada para muitos projetos de programação diferentes, ela é particularmente adequada para programas de rede/sistemas distribuídos e ganhou a reputação de ser "a linguagem da nuvem". Ela se concentra em ajudar o programador moderno a fazer mais com um conjunto forte de ferramentas, removendo debates sobre formatação ao tornar o formato parte da especificação da linguagem, bem como ao facilitar o deploy ao compilar para um único binário. O Go é fácil de aprender, com um conjunto muito pequeno de palavras-chave, o que o torna uma ótima opção para iniciantes e igualmente para desenvolvedores experientes.</p>

<p>Este tutorial irá guiá-lo pela instalação e configuração de um workspace de programação com o Go via linha de comando. Este tutorial cobrirá explicitamente o procedimento de instalação para o Ubuntu 18.04, mas os princípios gerais podem se aplicar a outras distribuições Debian Linux.</p>

<h2 id="pré-requisitos">Pré-requisitos</h2>

<p>Você precisará de um computador ou máquina virtual com o Ubuntu 18.04 instalado, além de ter acesso administrativo a essa máquina e uma conexão à Internet. Você pode baixar este sistema operacional através da <a href="http://releases.ubuntu.com/releases/18.04/">página de releases do Ubuntu 18.04</a>.</p>

<h2 id="passo-1-—-configurando-o-go">Passo 1 — Configurando o Go</h2>

<p>Neste passo, você instalará o Go fazendo o download da versão atual da <a href="https://golang.org/dl/">página oficial de downloads do Go</a>.</p>

<p>Para fazer isso, você vai querer encontrar a URL para o tarball do binário da versão atual. Você também vai querer anotar o hash SHA256 listado ao lado dele, pois você usará esse hash para <a href="https://www.digitalocean.com/community/tutorials/how-to-verify-downloaded-files">verificar o arquivo baixado</a>.</p>

<p>Você estará concluindo a instalação e a configuração na linha de comando, que é uma maneira não gráfica de interagir com seu computador. Ou seja, em vez de clicar nos botões, você digitará texto e receberá retornos do seu computador por meio de texto também.</p>

<p>A linha de comando, também conhecida como <em>shell</em> ou <em>terminal</em>, pode ajudá-lo a modificar e automatizar muitas das tarefas que você faz em um computador todos os dias e é uma ferramenta essencial para desenvolvedores de software. Existem muitos comandos de terminal para aprender que podem permitir que você faça coisas mais poderosas. Para mais informações sobre a linha de comando, confira o tutorial <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal">Introdução ao Terminal do Linux</a>.</p>

<p>No Ubuntu 18.04, você pode encontrar o aplicativo Terminal clicando no ícone do Ubuntu no canto superior esquerdo da tela e digitando <code>terminal</code> na barra de pesquisa. Clique no ícone do aplicativo Terminal para abri-lo. Alternativamente, você pode pressionar as teclas <code>CTRL</code>,<code>ALT</code> e <code>T</code> no teclado simultaneamente para abrir o aplicativo Terminal automaticamente.</p>

<p><img src="https://assets.digitalocean.com/articles/eng_python/UbuntuDebianSetUp/UbuntuSetUp.png" alt="Ubuntu Terminal"></p>

<p>Quando o terminal estiver aberto, você instalará manualmente os binários do Go. Embora você possa usar um gerenciador de pacotes, como o <code>apt-get</code>, percorrer as etapas de instalação manual o ajudará a entender as alterações de configuração necessárias ao sistema para ter um workspace Go válido.</p>

<p>Antes de baixar o Go, certifique-se de estar no diretório home (<code>~</code>):</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li></ul></code></pre>
<p>Use o <code>curl</code> para recuperar a URL do tarball que você copiou da página oficial de downloads do Go:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">curl -O https://dl.google.com/go/<span class="highlight">go1.12.1.linux-amd64</span>.tar.gz
</li></ul></code></pre>
<p>Em seguida, use <code>sha256sum</code> para verificar o tarball:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sha256sum <span class="highlight">go1.12.1.linux-amd64</span>.tar.gz
</li></ul></code></pre>
<p>O hash que é exibido a partir da execução do comando acima deve corresponder ao hash que estava na página de downloads. Se não, então este não é um arquivo válido e você deve baixar o arquivo novamente.</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>2a3fdabf665496a0db5f41ec6af7a9b15a49fbe71a85a50ca38b1f13a103aeec  <span class="highlight">go1.12.1.linux-amd64</span>.tar.gz
</code></pre>
<p>Em seguida, extraia o arquivo baixado e instale-o no local desejado no sistema. É considerado uma boa prática mantê-lo em <code>/usr/local</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo tar -xvf <span class="highlight">go1.12.1.linux-amd64</span>.tar.gz -C /usr/local
</li></ul></code></pre>
<p>Você terá agora um diretório chamado <code>go</code> no diretório <code>/usr/local</code>. Em seguida, altere recursivamente o proprietário e o grupo deste diretório para <strong>root</strong>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown -R root:root /usr/local/go
</li></ul></code></pre>
<p>Isso protegerá todos os arquivos e garantirá que apenas o usuário <strong>root</strong> possa executar os binários do Go.</p>

<p><span class='note'><strong>Nota</strong>: Embora <code>/usr/local/go</code> seja o local oficialmente recomendado, alguns usuários podem preferir ou exigir caminhos diferentes.<br></span></p>

<p>Nesta etapa, você baixou e instalou o Go na sua máquina Ubuntu 18.04. Na próxima etapa, você configurará seu workspace de Go.</p>

<h2 id="passo-2-—-criando-seu-workspace-de-go">Passo 2 — Criando seu Workspace de Go</h2>

<p>Você pode criar seu workspace de programação agora que o Go está instalado. O workspace do Go conterá dois diretórios em sua raiz:</p>

<ul>
<li><code>src</code>: O diretório que contém os arquivos-fonte do Go. Um arquivo-fonte é um arquivo que você escreve usando a linguagem de programação Go. Arquivos-fonte são usados pelo compilador Go para criar um arquivo binário executável.</li>
<li><code>bin</code>: O diretório que contém executáveis compilados e instalados pelas ferramentas Go. Executáveis são arquivos binários que são executados em seu sistema e executam tarefas. Estes são normalmente os programas compilados a partir do seu código-fonte ou outro código-fonte Go baixado.</li>
</ul>

<p>O subdiretório <code>src</code> pode conter vários repositórios de controle de versão (tais como o <a href="https://git-scm.com/">Git</a>, o <a href="https://www.mercurial-scm.org/">Mercurial</a>, e o <a href="http://bazaar.canonical.com">Bazaar</a>). Isso permite uma importação canônica de código em seu projeto. As importações <em>canônicas</em> são importações que fazem referência a um pacote completo, como o <code>github.com/digitalocean/godo</code>.</p>

<p>Você verá diretórios como <code>github.com</code>, <code>golang.org</code> ou outros quando seu programa importar bibliotecas de terceiros. Se você estiver usando um repositório de código como o <code>github.com</code>, você também colocará seus projetos e arquivos-fonte nesse diretório. Vamos explorar esse conceito mais adiante neste passo.</p>

<p>Aqui está como pode se parecer um workspace típico:</p>
<pre class="code-pre plain"><code langs="">.
├── bin
│   ├── buffalo                                      # comando executável
│   ├── dlv                                          # comando executável
│   └── packr                                        # comando executável
└── src
    └── github.com
        └── digitalocean
            └── godo
                ├── .git                            # metadados do repositório do Git
                ├── account.go                      # fonte do pacote
                ├── account_test.go                 # fonte do teste
                ├── ...
                ├── timestamp.go
                ├── timestamp_test.go
                └── util
                    ├── droplet.go
                    └── droplet_test.go
</code></pre>
<p>O diretório padrão para o workspace Go a partir da versão 1.8 é o diretório home do usuário com um subdiretório <code>go</code> ou <code>$HOME/go</code>. Se você estiver usando uma versão anterior à 1.8 do Go, ainda é considerado uma boa prática usar o local <code>$HOME/go</code> para o seu workspace.</p>

<p>Execute o seguinte comando para criar a estrutura de diretórios para o seu workspace Go:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir -p $HOME/go/{bin,src}
</li></ul></code></pre>
<p>A opção <code>-p</code> diz ao <code>mkdir</code> para criar todos os <code>subdiretórios</code> no diretório, mesmo que eles não existam atualmente. A utilização do <code>{bin, src}</code> cria um conjunto de argumentos para <code>mkdir</code> e diz para ele criar tanto o diretório<code>bin</code> quanto o diretório <code>src</code>.</p>

<p>Isso garantirá que a seguinte estrutura de diretórios esteja em vigor:</p>
<pre class="code-pre plain"><code langs="">└── $HOME
    └── go
        ├── bin
        └── src
</code></pre>
<p>Antes do Go 1.8, era necessário definir uma variável de ambiente local chamada <code>$GOPATH</code>. <code>$GOPATH</code> diz ao compilador onde encontrar o código-fonte importado de terceiros, bem como qualquer código-fonte local que você tenha escrito. Embora não seja mais explicitamente exigido, ainda é considerada uma boa prática, pois muitas ferramentas de terceiros ainda dependem da configuração dessa variável.</p>

<p>Você pode definir seu <code>$GOPATH</code> adicionando as variáveis globais ao seu <code>~/.profile</code>. Você pode querer adicionar isto ao arquivo <code>.zshrc</code> ou <code>.bashrc</code> de acordo com a configuração do seu shell.</p>

<p>Primeiro, abra o <code>~/.profile</code> com o <code>nano</code> ou seu editor de textos preferido:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano ~/.profile
</li></ul></code></pre>
<p>Configure seu <code>$GOPATH</code> adicionando o seguinte ao arquivo:</p>
<div class="code-label " title="~/.profile">~/.profile</div><pre class="code-pre "><code class="code-highlight language-sh">export GOPATH=$HOME/go
</code></pre>
<p>Quando o Go compila e instala ferramentas, ele as coloca no diretório <code>$GOPATH/bin</code>. Por conveniência, é comum adicionar o subdiretório <code>/bin</code> do workspace ao seu <code>PATH</code> no seu <code>~/.profile</code>:</p>
<div class="code-label " title="~/.profile">~/.profile</div><pre class="code-pre "><code class="code-highlight language-sh">export PATH=$PATH:$GOPATH/bin
</code></pre>
<p>Isso permitirá que você execute quaisquer programas compilados ou baixados por meio das ferramentas Go em qualquer parte do sistema.</p>

<p>Finalmente, você precisa adicionar o binário <code>go</code> ao seu <code>PATH</code>. Você pode fazer isso adicionando <code>/usr/local/go/bin</code> ao final da linha:</p>
<div class="code-label " title="~/.profile">~/.profile</div><pre class="code-pre plain"><code langs="">export PATH=$PATH:$GOPATH/bin:<span class="highlight">/usr/local/go/bin</span>
</code></pre>
<p>Adicionar <code>/usr/local/go/bin</code> ao seu <code>$PATH</code> torna todas as ferramentas Go disponíveis em qualquer lugar do seu sistema.</p>

<p>Para atualizar seu shell, execute o seguinte comando para carregar as variáveis globais:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">. ~/.profile
</li></ul></code></pre>
<p>Você pode verificar se seu <code>$PATH</code> está atualizado usando o comando <code>echo</code> e inspecionando a saída:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">echo $PATH
</li></ul></code></pre>
<p>Você verá o seu <code>$GOPATH/bin</code> que aparecerá no seu diretório pessoal. Se você está logado como <code>root</code>, você verá <code>/root/go/bin</code> no caminho.</p>
<pre class="code-pre plain"><code langs=""><div class="secondary-code-label " title="Output">Output</div>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:<span class="highlight">/root/go/bin</span>:/usr/local/go/bin
</code></pre>
<p>Você também verá o caminho para as ferramentas Go <code>/usr/local/go/bin</code>:</p>
<pre class="code-pre plain"><code langs=""><div class="secondary-code-label " title="Output">Output</div>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/root/go/bin:/<span class="highlight">usr/local/go/bin</span>
</code></pre>
<p>Verifique a instalação, conferindo a versão atual do Go:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go version
</li></ul></code></pre>
<p>E devemos receber uma saída assim:</p>
<pre class="code-pre plain"><code langs=""><div class="secondary-code-label " title="Output">Output</div>go version <span class="highlight">go1.12.1 linux/amd64</span>
</code></pre>
<p>Agora que você tem a raiz do workspace criada e sua variável de ambiente <code>$GOPATH</code> definida, você pode criar seus projetos futuros com a seguinte estrutura de diretórios. Este exemplo assume que você está usando o <code>github.com</code> como seu repositório:</p>
<pre class="code-pre plain"><code langs="">$GOPATH/src/<span class="highlight">github.com</span>/<span class="highlight">username</span>/<span class="highlight">project</span>
</code></pre>
<p>Então, como um exemplo, se você estivesse trabalhando no projeto <a href="https://github.com/digitalocean/godo"><code>https://github.com/digitalocean/godo</code></a>, ele seria armazenado no seguinte diretório:</p>
<pre class="code-pre plain"><code langs="">$GOPATH/src/<span class="highlight">github.com</span>/<span class="highlight">digitalocean</span>/<span class="highlight">godo</span>
</code></pre>
<p>Esta estrutura de projeto disponibilizará projetos com a ferramenta <code>go get</code>. Também ajudará a legibilidade mais tarde. Você pode verificar isso usando o comando <code>go get</code> e buscar a biblioteca <code>godo</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">go get github.com/digitalocean/godo
</li></ul></code></pre>
<p>Isto irá baixar o conteúdo da biblioteca <code>godo</code> e criar o diretório <code>$GOPATH/src/github.com/digitalocean/godo</code> em sua máquina.</p>

<p>Você pode verificar se baixou com sucesso o pacote <code>godo</code> listando o diretório:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ll $GOPATH/src/github.com/digitalocean/godo
</li></ul></code></pre>
<p>Você deve ver uma saída semelhante a esta:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>drwxr-xr-x 4 root root  4096 Apr  5 00:43 ./
drwxr-xr-x 3 root root  4096 Apr  5 00:43 ../
drwxr-xr-x 8 root root  4096 Apr  5 00:43 .git/
-rwxr-xr-x 1 root root     8 Apr  5 00:43 .gitignore*
-rw-r--r-- 1 root root    61 Apr  5 00:43 .travis.yml
-rw-r--r-- 1 root root  2808 Apr  5 00:43 CHANGELOG.md
-rw-r--r-- 1 root root  1851 Apr  5 00:43 CONTRIBUTING.md
.
.
.
-rw-r--r-- 1 root root  4893 Apr  5 00:43 vpcs.go
-rw-r--r-- 1 root root  4091 Apr  5 00:43 vpcs_test.go
</code></pre>
<p>Neste passo, você criou um workspace Go e configurou as variáveis de ambiente necessárias. No próximo passo, você testará o workspace com algum código.</p>

<h2 id="passo-3-—-criando-um-programa-simples">Passo 3 — Criando um Programa Simples</h2>

<p>Agora que você tem o workspace Go configurado, crie um programa “Hello, World!”. Isso garantirá que o workspace esteja configurado corretamente e também lhe dará a oportunidade de se familiarizar com o Go. Como estamos criando um único arquivo-fonte Go, e não um projeto real, não precisamos estar em nosso workspace para fazer isso.</p>

<p>A partir do seu diretório home, abra um editor de texto de linha de comando, como o <code>nano</code>, e crie um novo arquivo:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano hello.go
</li></ul></code></pre>
<p>Escreva seu programa em seu novo arquivo:</p>
<pre class="code-pre "><code class="code-highlight language-go">package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
</code></pre>
<p>Este código usará o pacote <code>fmt</code> e chamará a função <code>Println</code> com <code>Hello, World!</code> como argumento. Isso fará com que a frase <code>Hello, World!</code> seja impressa no terminal quando o programa for executado.</p>

<p>Saia do <code>nano</code> pressionando as teclas <code>CTRL</code> e <code>X</code>. Quando solicitado a salvar o arquivo, pressione <code>Y</code> e depois <code>ENTER</code>.</p>

<p>Ao sair do <code>nano</code> e retornar ao seu shell, execute o programa:</p>
<pre class="code-pre custom_prefix"><code langs="">go run hello.go
</code></pre>
<p>O programa <code>hello.go</code> fará com que o terminal produza a seguinte saída:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Hello, World!
</code></pre>
<p>Nesta etapa, você usou um programa básico para verificar se seu workspace Go está configurado corretamente.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Parabéns! Neste ponto, você tem um workspace de programação Go configurado em sua máquina Ubuntu e pode começar um projeto de codificação!</p>
