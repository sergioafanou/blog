---
layout: post
title: How To Install R on Debian 10
network: digitalocean
date: August 05, 2019 at 11:14PM
url: https://www.digitalocean.com/community/tutorials/how-to-install-r-on-debian-10
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introduction">Introduction</h3>

<p>An open-source programming language, R is widely used for developing statistical software, performing data analysis and visualization. R offers many user-generated packages for specific areas of study, which makes it applicable to many fields.</p>

<p>In this tutorial, we will install R and show how to add packages from the official <a href="https://cloud.r-project.org/">Comprehensive R Archive Network (CRAN)</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To follow along with this tutorial, you will need a Debian 10 server with:</p>

<ul>
<li><em>at least</em> 1GB of RAM</li>
<li>a non-root user with <code>sudo</code> privileges </li>
</ul>

<p>To learn how to achieve this setup, follow our <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-10">Debian 10 initial server setup guide</a>.</p>

<p>Once these prerequisites are in place, you’re ready to begin.</p>

<h2 id="step-1-—-installing-dependencies">Step 1 — Installing Dependencies</h2>

<p>Because R is a fast-moving project, the latest stable version isn’t always available from Debian’s repositories, so we’ll need to add the external repository maintained by CRAN. In order to do this, we’ll need to install some dependencies for the Debian 10 cloud image.</p>

<p>To perform network operations that manage and download certificates, we need to install <code>dirmngr</code> so that we can add the external repository. </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install dirmngr --install-recommends
</li></ul></code></pre>
<p>To add a PPA reference to Debian, we’ll need to use the <code>add-apt-repository</code> command. For installations where this command may not available, you can add this utility to your system by installing <code>software-properties-common</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install software-properties-common
</li></ul></code></pre>
<p>Finally, to ensure that we have HTTPS support for secure protocols, we’ll install the following tool:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install apt-transport-https
</li></ul></code></pre>
<p>With these dependencies in place, we’re ready to install R.</p>

<h2 id="step-2-—-installing-r">Step 2 —  Installing R</h2>

<p>For the most recent version of R, we’ll be installing from the CRAN repositories. </p>

<p><span class='note'><strong>Note:</strong> CRAN maintains the repositories within their network, but not all external repositories are reliable. Be sure to install only from trusted sources.<br></span></p>

<p>Let’s first add the relevant GPG key.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt-key adv --keyserver keys.gnupg.net --recv-key 'E19F5F87128899B192B1A2C2AD5F960A256A04AF'
</li></ul></code></pre>
<p>When we run the command, we’ll receive the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Executing: /tmp/apt-key-gpghome.y6W4E0Gtfp/gpg.1.sh --keyserver keys.gnupg.net --recv-key E19F5F87128899B192B1A2C2AD5F960A256A04AF
gpg: key AD5F960A256A04AF: 4 signatures not checked due to missing keys
gpg: key AD5F960A256A04AF: public key "Johannes Ranke (Wissenschaftlicher Berater) &lt;johannes.ranke@jrwb.de&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
</code></pre>
<p>Once we have the trusted key, we can add the repository. Note that if you’re not using Debian 10 (Buster), you can look at the <a href="https://cran.r-project.org/bin/linux/debian/#supported-branches">supported R Project Debian branches</a>, named for each release. </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo add-apt-repository 'deb http://&lt;favourite-cran-mirror&gt;/bin/linux/debian buster-cran35/'
</li></ul></code></pre>
<p>Now, we’ll need to run <code>update</code> after this in order to include package manifests from the new repository.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Once this completes running and you’re returned to your prompt, we’re ready to install R with the following command.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install r-base
</li></ul></code></pre>
<p>If prompted to confirm installation, press <code>y</code> to continue.</p>

<p>As of the time of writing, the latest stable version of R from CRAN is 3.5.2, which is displayed when you start R. </p>

<p>Since we’re planning to install an example package for every user on the system, we’ll start R as root so that the libraries will be available to all users automatically. Alternatively, if you run the <code>R</code> command without <code>sudo</code>, a personal library can be set up for your user.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo -i R
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>
R version 3.5.2 (2018-12-20) -- "Eggshell Igloo"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

&gt;
</code></pre>
<p>This confirms that we’ve successfully installed R and entered its interactive shell. </p>

<h2 id="step-3-—-installing-r-packages-from-cran">Step 3 — Installing R Packages from CRAN</h2>

<p>Part of R’s strength is its available abundance of add-on packages. For demonstration purposes, we’ll install <a href="https://cran.r-project.org/web/packages/txtplot/index.html"><code>txtplot</code></a>, a library that outputs ASCII graphs that include scatterplot, line plot, density plot, acf and bar charts:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="&gt;">install.packages('txtplot')
</li></ul></code></pre>
<span class='note'><p>
<strong>Note:</strong> The following output shows where the package will be installed.</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>...
Installing package into ‘/usr/local/lib/R/site-library’
(as ‘lib’ is unspecified)
. . .
</code></pre>
<p>This site-wide path is available because we ran R as root. This is the correct location to make the package available to all users.<br></p></span>

<p>When the installation is complete, we can load <code>txtplot</code>:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="&gt;">library('txtplot')
</li></ul></code></pre>
<p>If there are no error messages, the library has successfully loaded. Let’s put it in action now with an example which demonstrates a basic plotting function with axis labels. The example data, supplied by R's <code>datasets</code> package, contains <a href="https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/cars.html">the speed of cars and the distance required to stop based on data from the 1920s</a>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">txtplot(cars[,1], cars[,2], xlab = 'speed', ylab = 'distance')
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>      +----+-----------+------------+-----------+-----------+--+
  120 +                                                   *    +
      |                                                        |
d 100 +                                                   *    +
i     |                                    *                *  |
s  80 +                          *         *                   +
t     |                                       * *    *    *    |
a  60 +                          *  *      *    *      *       +
n     |                        *         * *  * *              |
c  40 +                *       * *    *  *    * *              +
e     |         *      *  * *  * *  *                          |
   20 +           *    *  * *       *                          +
      |  *      *    *                                         |
    0 +----+-----------+------------+-----------+-----------+--+
           5          10           15          20          25   
                                speed       
</code></pre>
<p>If you are interested to learn more about <code>txtplot</code>,  use <code>help(txtplot)</code> from within the R interpreter.</p>

<p>Any precompiled package can be installed from CRAN with <code>install.packages()</code>. To learn more about what’s available, you can find a listing of official packages organized by name via the <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">Available CRAN Packages By Name list</a>.</p>

<p>To exit R, you can type <code>q()</code>. Unless you want to save the workspace image, you can press <code>n</code>. </p>

<h2 id="conclusion">Conclusion</h2>

<p>With R successfully installed on your server, you may be interested in this guide on <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-rstudio-on-an-ubuntu-cloud-server">installing the RStudio Server</a> to bring an IDE to the server-based deployment you just completed. You can also learn how to set up a <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-shiny-server-on-ubuntu-16-04">Shiny server</a> to convert your R code into interactive web pages. </p>

<p>For more information on how to install R packages by leveraging different tools, you can read about how to <a href="https://www.digitalocean.com/community/tutorials/how-to-install-r-packages-using-devtools-on-ubuntu-18-04">install directly from GitHub, BitBucket or other locations</a>. This will allow you to take advantage of the very latest work from the active community.</p>
