---
layout: post
title: Cómo instalar Node.js en Debian 9
network: digitalocean
date: December 05, 2019 at 07:24PM
url: https://www.digitalocean.com/community/tutorials/como-instalar-node-js-en-debian-9-es
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<h3 id="introducción">Introducción</h3>

<p><a href="https://nodejs.org/en/">Node.js</a> es una plataforma de JavaScript para programación general que permite a los usuarios crear aplicaciones de red de forma rápida. Al aprovechar JavaScript tanto en frontend como en backend, Node.js hace que el desarrollo sea más uniforme e integrado.</p>

<p>En esta guía, le mostraremos la manera de comenzar a trabajar con Node.js en un servidor Debian 9.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>En esta guía, se supone que utiliza Debian 9. Antes de comenzar, debe tener configurada en su sistema una cuenta de usuario no root con privilegios sudo. Puede aprender a hacerlo siguiendo la <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-9">configuración inicial de servidores para Debian 9</a>.</p>

<h2 id="instalación-de-la-versión-distro-stable-para-debian">Instalación de la versión Distro-Stable para Debian</h2>

<p>Debian contiene una versión de Node.js en sus repositorios predeterminados. En el momento en que se redactó este artículo se encontraba disponible la versión 4.8.2, que caducará a fines de abril de 2018. Si le gusta experimentar el lenguaje usando una opción estable y suficiente, puede resultar útil realizar la instalación desde los repositorios. Sin embargo, se recomienda que para los casos de uso de desarrollo y producción instale una versión más reciente con un PPA. Analizaremos la forma realizar la instalación desde un PPA en el siguiente paso.</p>

<p>Para obtener la versión distro-stable de Node.js, puede utilizar el administrador de paquetes <code>apt</code>. Primero, actualice su índice de paquetes locales:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>A continuación, instale el paquete Node.js desde los repositorios:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install nodejs
</li></ul></code></pre>
<p>Si el paquete de los repositorios se ajusta a sus necesidades, será todo lo que necesita para configurar Node.js.</p>

<p>Para comprobar la versión de Node.js que instaló después de estos pasos iniciales, escriba lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nodejs -v
</li></ul></code></pre>
<p>Debido a un conflicto con otro paquete, el ejecutable de los repositorios de Debian se llama <code>nodejs</code> en vez de <code>node</code>. Téngalo en cuenta al ejecutar el software.</p>

<p>Cuando determine la versión de Node.js que instaló desde los repositorios de Debian, podrá decidir si desea trabajar con diferentes versiones, archivos de paquetes o administradores de versiones. A continuación, veremos estos elementos junto con métodos de instalación más flexibles y sólidos.</p>

<h2 id="instalación-con-un-ppa">Instalación con un PPA</h2>

<p>Para trabajar con una versión más reciente de Node.js, puede agregar el _PPA _(archivo de paquetes personal) actualizado por NodeSource. En este habrá versiones de Node.js más actualizadas que en los repositorios oficiales de Debian y podrá elegir entre Node.js v4.x (la versión compatible a largo plazo más antigua, que se admitirá hasta finales de abril de 2018), Node.js v6.x (admitida hasta abril de 2019), Node.js v8.x (la versión actual de LTS, admitida hasta diciembre de 2019) y Node.js v10.x (la versión más reciente, admitida hasta abril de 2021).</p>

<p>Primero, actualizaremos el índice de paquetes locales e instalaremos <code>curl</code>, con el cual accederá al PPA:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li><li class="line" prefix="$">sudo apt install curl
</li></ul></code></pre>
<p>A continuación, instalaremos el PPA para poder acceder a su contenido. Desde su directorio principal, utilice <code>curl</code> para recuperar la secuencia de comandos de instalación de su versión preferida y asegúrese de sustituir <code><span class="highlight">10.x</span></code> por la cadena de su versión elegida (si es distinta):</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li><li class="line" prefix="$">curl -sL https://deb.nodesource.com/setup_<span class="highlight">10.x</span> -o nodesource_setup.sh
</li></ul></code></pre>
<p>Puede inspeccionar el contenido de esta secuencia de comandos con <code>nano</code> o <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-9#step-six-%E2%80%94-completing-optional-configuration">su editor de texto preferido</a>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano nodesource_setup.sh
</li></ul></code></pre>
<p>Ejecute la secuencia de comandos en <code>sudo</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo bash nodesource_setup.sh
</li></ul></code></pre>
<p>El PPA se agregará a su configuración y su caché de paquetes locales se actualizará de forma automática. Después de ejecutar la secuencia de comandos de configuración, puede instalar el paquete Node.js de la misma manera que antes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install nodejs
</li></ul></code></pre>
<p>Para comprobar la versión de Node.js que instaló después de estos pasos iniciales, escriba lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nodejs -v
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>v<span class="highlight">10.9.0</span>
</code></pre>
<p>El paquete <code>nodejs</code> contiene el binario <code>nodejs</code> y <code>npm</code>, por lo que no tendrá que instalar <code>npm</code> por separado.</p>

<p><code>npm</code> utiliza un archivo de configuración en su directorio de inicio para hacer un seguimiento de las actualizaciones. Se creará la primera vez que ejecute <code>npm</code>. Ejecute este comando para verificar que <code>npm</code> esté instalado y crear el archivo de configuración:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">npm -v
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">6.2.0</span>
</code></pre>
<p>Para que algunos paquetes de <code>npm</code> funcionen (por ejemplo, aquellos para los cuales de sebe compilar código de fuente), deberá instalar el paquete <code>build-essential</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install build-essential
</li></ul></code></pre>
<p>Ahora dispondrá de las herramientas necesarias para trabajar con paquetes <code>npm</code> para los que se deba compilar código desde la fuente.</p>

<h2 id="instalación-con-nvm">Instalación con NVM</h2>

<p>Una alternativa a la instalación de Node.js a través de <code>apt</code> es utilizar una herramienta llamada <code>nvm</code>, que significa “Node.js Version Manager”. En vez de funcionar en el nivel del sistema operativo, <code>nvm</code> funciona en el nivel de un directorio independiente dentro de su directorio de inicio. Esto significa que puede instalar varias versiones autónomas de Node.js sin que afecte a todo el sistema.</p>

<p>Controlar su entorno con <code>nvm</code> le permite acceder a las versiones más recientes de Node.js, además de conservar y administrar versiones anteriores. Sin embargo, es una herramienta distinta de <code>apt</code> y las versiones de Node.js que administra con ella con distintas de las que maneja con <code>apt</code>.</p>

<p>Para descargar la secuencia de comandos de instalación de <code>nvm</code> de la <a href="https://github.com/creationix/nvm">página de GitHub del proyecto</a>, puede utilizar <code>curl</code>. Tenga en cuenta que el número de versión puede diferir del que se resalta aquí:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">curl -sL https://raw.githubusercontent.com/creationix/nvm/<span class="highlight">v0.33.11</span>/install.sh -o install_nvm.sh
</li></ul></code></pre>
<p>Inspeccione la secuencia de comandos de instalación con <code>nano</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano install_nvm.sh
</li></ul></code></pre>
<p>Ejecute la secuencia de comandos con <code>bash</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">bash install_nvm.sh
</li></ul></code></pre>
<p>Instalará el software en un subdirectorio de su directorio de inicio en <code>~/.nvm</code>. También agregará las líneas necesarias a su archivo <code>~/. profile</code> para utilizarlo.</p>

<p>Para obtener acceso a la funcionalidad <code>nvm</code>, deberá cerrar sesión e iniciarla de nuevo u obtener el archivo <code>~/. profile</code> para que su sesión actual registre los cambios:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source ~/.profile
</li></ul></code></pre>
<p>Con <code>nvm</code> instalado, puede instalar versiones aisladas de Node.js. Para obtener información sobre las versiones de Node.js disponibles, escriba lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm ls-remote
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>...
         v8.11.1   (Latest LTS: Carbon)
         v9.0.0
         v9.1.0
         v9.2.0
         v9.2.1
         v9.3.0
         v9.4.0
         v9.5.0
         v9.6.0
         v9.6.1
         v9.7.0
         v9.7.1
         v9.8.0
         v9.9.0
        v9.10.0
        v9.10.1
        v9.11.0
        v9.11.1
        v10.0.0  
        v10.1.0
        v10.2.0
        v10.2.1
        v10.3.0
        v10.4.0
        v10.4.1
        v10.5.0
        v10.6.0
        v10.7.0
        v10.8.0
        v10.9.0
</code></pre>
<p>Como puede ver, la versión LTS actual en el momento en que se redactó este artículo era la 8.11.1. Puede instalarla escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm install <span class="highlight">8.11.1</span>
</li></ul></code></pre>
<p>Normalmente, <code>nvm</code> aplicará un cambio para utilizar la versión más reciente instalada. Puede indicar a <code>nvm</code> que utilice la versión que acaba de descargar escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm use <span class="highlight">8.11.1</span>
</li></ul></code></pre>
<p>Cuando instale Node.js utilizando <code>nvm</code>, el ejecutable se llamará <code>node</code>. Puede ver la versión que el shell utiliza actualmente escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">node -v
</li></ul></code></pre><pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>v<span class="highlight">8.11.1</span>
</code></pre>
<p>Si dispone de varias versiones de Node.js, puede ver cuál está instalada escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm ls
</li></ul></code></pre>
<p>Si desea establecer como predeterminada una de las versiones, escriba lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm alias default <span class="highlight">8.11.1</span>
</li></ul></code></pre>
<p>Esta versión se seleccionará de forma automática cuando se genere una nueva sesión. También puede hacer referencia a ella con el alias, como se muestra:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm use default
</li></ul></code></pre>
<p>Cada versión de Node.js hará un seguimiento de sus propios paquetes y cuenta con <code>npm</code> para administrarlos.</p>

<p>También puede contar con paquetes de instalación de <code>npm</code> en el directorio <code>/node_modules</code> del proyecto de Node.js. Utilice la siguiente sintaxis para instalar el módulo <code>express</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">npm install <span class="highlight">express</span>
</li></ul></code></pre>
<p>Si desea instalar el módulo de manera general para que otros programas que utilizan la misma versión de Node.js puedan emplearlo, puede agregar el indicador <code>-g</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">npm install -g <span class="highlight">express</span>
</li></ul></code></pre>
<p>Con esto, el paquete se instalará aquí:</p>
<pre class="code-pre "><code langs="">~/.nvm/versions/node/<span class="highlight">node_version</span>/lib/node_modules/<span class="highlight">express</span>
</code></pre>
<p>Instalar el módulo de forma general le permitirá ejecutar comandos de la línea de comandos, pero deberá vincular el paquete a su esfera local para poder solicitarlo desde un programa:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">npm link <span class="highlight">express</span>
</li></ul></code></pre>
<p>Puede obtener más información sobre las opciones disponibles con nvm escribiendo lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm help
</li></ul></code></pre>
<h2 id="eliminación-de-node-js">Eliminación de Node.js</h2>

<p>Puede desinstalar Node.js utilizando <code>apt</code> o <code>nvm</code> según la versión a la que desee orientarse. Para eliminar versiones instaladas desde los repositorios o del PPA, deberá utilizar la herramienta <code>apt</code> en el nivel del sistema.</p>

<p>Para eliminar cualquiera de estas versiones, escriba lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt remove nodejs
</li></ul></code></pre>
<p>Con este comando se eliminarán el paquete y los archivos de configuración.</p>

<p>Para desinstalar una versión de Node.js que haya habilitado utilizando <code>nvm</code>, primero determine si la versión que desea eliminar es o no la que se encuentra activa:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm current
</li></ul></code></pre>
<p>Si esto <strong>no</strong> sucede, puede ejecutar lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm uninstall <span class="highlight">node_version</span>
</li></ul></code></pre>
<p>Con este comando se desinstalará la versión seleccionada de Node.js.</p>

<p>Si la versión que desea eliminar <strong>es</strong> la que se encuentra, primero debe desactivar <code>nvm</code> para habilitar sus cambios:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nvm deactivate
</li></ul></code></pre>
<p>Ahora podrá desinstalar la versión actual con el comando <code>uninstall</code> anterior, que eliminará todos los archivos asociados con la versión deseada de Node.js, a excepción de aquellos en caché que se puedan utilizar para la reinstalación.</p>

<h2 id="conclusión">Conclusión</h2>

<p>Hay varias formas de configurar y ejecutar Node.js en su servidor de Debian 9. Sus circunstancias determinarán cuál de los métodos anteriores es el mejor para usted. Si bien utilizar la versión en paquete del repositorio de Debian es una opción para experimentar, la instalación desde un PPA y el uso de <code>npm</code> o <code>nvm</code> ofrece mayor flexibilidad.</p>
