---
layout: post
title: Cómo instalar Java con `apt` en Ubuntu 18.04
network: digitalocean
date: December 05, 2019 at 07:21PM
url: https://www.digitalocean.com/community/tutorials/como-instalar-java-con-apt-en-ubuntu-18-04-es
image: http://ifttt.com/images/no_image_card.png
tags: docker
feedtitle: DigitalOcean Community Tutorials
feedurl: https://www.digitalocean.com/community/tutorials
author: DigitalOcean
---
<p><em>El autor seleccionó el <a href="https://www.brightfunds.org/funds/open-internet-free-speech">Open Internet/Free Speech Fund</a> para que recibiese una donación de $100 como parte del <a href="https://do.co/w4do-cta">programa Write for DOnations</a>.</em></p>

<h3 id="introducción">Introducción</h3>

<p>Se necesitan Java y JVM (la máquina virtual de Java) para muchos tipos de software, como <a href="http://tomcat.apache.org/">Tomcat</a>, <a href="https://www.eclipse.org/jetty/">Jetty</a>, <a href="https://javaee.github.io/glassfish/">Glassfish</a>, <a href="http://cassandra.apache.org/">Cassandra</a> y <a href="https://jenkins.io/">Jenkins</a>.</p>

<p>A través de esta guía, instalará varias versiones de Java Runtime (JRE) y el kit de desarrollo de Java (JDK) utilizando &ldquo;apt. Instalará OpenJDK y paquetes oficiales de Oracle. Luego, seleccionará la versión que desee utilizar para sus proyectos. Cuando termine, podrá utilizar el JDK para desarrollar software o emplear Java Runtime para ejecutar software.</p>

<h2 id="requisitos-previos">Requisitos previos</h2>

<p>Para completar este tutorial, necesitará lo siguiente:</p>

<ul>
<li>Un servidor de Ubuntu 18.04 configurado conforme al tutorial <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04">Guía de configuración inicial para servidores de Ubuntu 18.04</a>, incluido un usuario sudo no root y un firewall.</li>
</ul>

<h2 id="instalación-de-jre-y-del-jdk-predeterminados">Instalación de JRE y del JDK predeterminados</h2>

<p>La opción más sencilla para instalar Java es utilizar la versión que forma parte del paquete de Ubuntu. Por defecto, Ubuntu 18.04 incluye Open JDK, que es una variante de código abierto de JRE y JDK.</p>

<p>Este paquete instalará OpenJDK 10 o 11.</p>

<ul>
<li>Antes de septiembre de 2018, esto instalará OpenJDK 10.</li>
<li>Después de septiembre de 2018, esto instalará OpenJDK 11.</li>
</ul>

<p>Para instalar esta versión, primero actualice el índice de paquetes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>A continuación, compruebe si Java ya está instalado:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">java -version
</li></ul></code></pre>
<p>Si Java no está instalado, verá el siguiente resultado:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Command 'java' not found, but can be installed with:

apt install default-jre
apt install openjdk-11-jre-headless
apt install openjdk-8-jre-headless
apt install openjdk-9-jre-headless
</code></pre>
<p>Ejecute el siguiente comando para instalar OpenJDK:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install default-jre
</li></ul></code></pre>
<p>Con este comando se instalará Java Runtime Environment (JRE). Esto le permitirá ejecutar casi todo el software de Java.</p>

<p>Verifique la instalación con lo siguiente:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">java -version
</li></ul></code></pre>
<p>Verá el siguiente resultado:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>openjdk version "<span class="highlight">10.0.1" 2018-04-17</span>
OpenJDK Runtime Environment (build <span class="highlight">10.0.1+10</span>-Ubuntu-3ubuntu1)
OpenJDK 64-Bit Server VM (build <span class="highlight">10.0.1+10</span>-Ubuntu-3ubuntu1, mixed mode)
</code></pre>
<p>Es posible que necesite el kit de desarrollo de Java (JDK) además de JRE para compilar y ejecutar algunos programas específicos basados en Java. Para instalar JDK, ejecute el siguiente comando, que también instalará JRE:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install default-jdk
</li></ul></code></pre>
<p>Verifique que el JDK se haya instalado revisando la versión de <code>javac</code>, el compilador de Java:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">javac -version
</li></ul></code></pre>
<p>Verá el siguiente resultado:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>javac 10.0.1
</code></pre>
<p>A continuación, observaremos la especificación de la versión de OpenJDK que deseamos instalar.</p>

<h2 id="instalación-de-versiones-específicas-de-openjdk">Instalación de versiones específicas de OpenJDK</h2>

<p>Si bien puede instalar el paquete de OpenJDK predeterminado, también puede instalar diferentes versiones de OpenJDK.</p>

<h3 id="openjdk-8">OpenJDK 8</h3>

<p>Java 8 es la versión de respaldo a largo plazo actual y aún cuenta con un amplio respaldo, aunque el mantenimiento público termina en enero de 2019. Para instalar OpenJDK 8, ejecute el siguiente comando:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install openjdk-8-jdk
</li></ul></code></pre>
<p>Verifique que esto se haya instalado con</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">java -version
</li></ul></code></pre>
<p>Verá un resultado como este:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>openjdk version "<span class="highlight">1.8.0_162</span>"
OpenJDK Runtime Environment (build <span class="highlight">1.8.0_162-8u162-b12-1-b12</span>)
OpenJDK 64-Bit Server VM (build <span class="highlight">25.162-b12</span>, mixed mode)
</code></pre>
<p>También es posible instalar solo el JRE. Puede hacerlo ejecutando <code>sudo apt install openjdk-8-jre</code>.</p>

<h3 id="openjdk-10-11">OpenJDK 10/11</h3>

<p>Los repositorios de Ubuntu contienen un paquete que instalará Java 10 o 11. Antes de septiembre de 2018, este paquete instalará OpenJDK 10. Una vez que se lance la versión Java 11, este paquete instalará Java 11.</p>

<p>Para instalar OpenJDK 10/11, ejecute el siguiente comando:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install openjdk-11-jdk
</li></ul></code></pre>
<p>Para instalar solo JRE, utilice el siguiente comando:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install openjdk-11-jre
</li></ul></code></pre>
<p>A continuación, veremos la forma de instalar las versiones oficiales del JDK  y de JRE de Oracle.</p>

<h2 id="instalación-del-jdk-de-oracle">Instalación del JDK de Oracle</h2>

<p>Si desea instalar el JDK de Oracle, que es la versión oficial distribuida por Oracle, deberá agregar un nuevo repositorio de paquetes para la versión que desee utilizar.</p>

<p>Para instalar Java 8, que es la versión LTS más reciente, primero agregue su repositorio de paquetes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo add-apt-repository ppa:webupd8team/java
</li></ul></code></pre>
<p>Cuando agregue el repositorio, verá un mensaje como este:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="output">output</div> Oracle Java (JDK) Installer (automatically downloads and installs Oracle JDK8). There are no actual Jav
a files in this PPA.

Important -&gt; Why Oracle Java 7 And 6 Installers No Longer Work: http://www.webupd8.org/2017/06/why-oracl
e-java-7-and-6-installers-no.html

Update: Oracle Java 9 has reached end of life: http://www.oracle.com/technetwork/java/javase/downloads/j
dk9-downloads-3848520.html

The PPA supports Ubuntu 18.04, 17.10, 16.04, 14.04 and 12.04.

More info (and Ubuntu installation instructions):
- for Oracle Java 8: http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html

Debian installation instructions:
- Oracle Java 8: http://www.webupd8.org/2014/03/how-to-install-oracle-java-8-in-debian.html

For Oracle Java 10, see a different PPA: https://www.linuxuprising.com/2018/04/install-oracle-java-10-in-ubuntu-or.html

More info: https://launchpad.net/~webupd8team/+archive/ubuntu/java
Press [ENTER] to continue or Ctrl-c to cancel adding it.
</code></pre>
<p>Pulse <code>ENTER</code> para continuar. Luego, actualice su lista de paquetes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt update
</li></ul></code></pre>
<p>Una vez que la lista de paquetes se actualice, instale Java 8:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt install oracle-java8-installer
</li></ul></code></pre>
<p>Su sistema descargará el JDK de Oracle y le solicitará que acepte el acuerdo de licencia. Acepte el acuerdo para que se instale el JDK.</p>

<p>Ahora, observaremos la forma de seleccionar la versión de Java que desea utilizar.</p>

<h2 id="administración-de-java">Administración de Java</h2>

<p>Puede tener varias instalaciones de Java en un servidor. Puede configurar la versión predeterminada que se utilizará en la línea de comandos con el comando <code>update-alternatives</code>.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo update-alternatives --config java
</li></ul></code></pre>
<p>Así debería lucir el resultado una vez instaladas todas las versiones de Java de este tutorial:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>There are 3 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                            Priority   Status
------------------------------------------------------------
* 0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1101      auto mode
  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1101      manual mode
  2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode
  3            /usr/lib/jvm/java-8-oracle/jre/bin/java          1081      manual mode
</code></pre>
<p>Elija el número asociado con la versión de Java para utilizarlo como predeterminado o pulse <code>ENTER</code> para dejar los ajustes actuales.</p>

<p>Puede hacer esto para otros comandos de Java, como el compilador (<code>javac</code>):</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo update-alternatives --config <span class="highlight">javac</span>
</li></ul></code></pre>
<p>Entre otros comandos para los cuales este comando se puede ejecutar se incluyen, de forma no limitativa, los siguientes: <code>keytool</code>, <code>javadoc</code> y <code>jarsigner</code>.</p>

<h2 id="configuración-de-una-variable-de-entorno-java_home">Configuración de una variable de entorno <code>JAVA_HOME</code></h2>

<p>Muchos programas escritos con Java utilizan la variable de entorno <code>Java_HOME</code> para determinar la ubicación de la instalación de Java.</p>

<p>Para configurar esta variable de entorno, primero, determine dónde se instala Java. Utilice el comando <code>update-alternatives</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo update-alternatives --config java
</li></ul></code></pre>
<p>Con este comando se muestra cada instalación de Java junto con su ruta de instalación:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>There are 3 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                            Priority   Status
------------------------------------------------------------
* 0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1101      auto mode
  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1101      manual mode
  2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode
  3            /usr/lib/jvm/java-8-oracle/jre/bin/java          1081      manual mode

Press &lt;enter&gt; to keep the current choice[*], or type selection number:
</code></pre>
<p>En este caso, las rutas de instalación son las siguientes:</p>

<ol>
<li>OpenJDK 11 se encuentra en <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code>.</li>
<li>OpenJDK 8 se encuentra en <code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</code>.</li>
<li>Oracle Java 8 se encuentra en <code>/usr/lib/jvm/java-8-oracle/jre/bin/java</code>.</li>
</ol>

<p>Copie la ruta de su instalación preferida. Luego abra <code>/etc/environment</code> con <code>nano</code> o su editor de texto favorito:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/environment
</li></ul></code></pre>
<p>Al final de este archivo, agregue la siguiente línea. Asegúrese de sustituir la ruta resaltada por su propia ruta copiada:</p>
<div class="code-label " title="/etc/environment">/etc/environment</div><pre class="code-pre "><code langs="">JAVA_HOME="<span class="highlight">/usr/lib/jvm/java-11-openjdk-amd64/bin/</span>"
</code></pre>
<p>La modificación de este archivo configurará la ruta de <code>JAVA_HOME</code> para todos los usuarios de su sistema.</p>

<p>Guarde el archivo y cierre el editor.</p>

<p>Ahora, vuelva a cargar este archivo para aplicar los cambios a su sesión actual:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">source /etc/environment
</li></ul></code></pre>
<p>Verifique que esté configurada la variable de entorno:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">echo $JAVA_HOME
</li></ul></code></pre>
<p>Verá la ruta que acaba de configurar:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">/usr/lib/jvm/java-11-openjdk-amd64/bin/</span>
</code></pre>
<p>Otros usuarios deberán ejecutar la fuente de comandos <code>/etc/environment</code> o cerrar sesión y volver a iniciarla para aplicar esta configuración.</p>

<h2 id="conclusión">Conclusión</h2>

<p>A través de este tutorial, instaló varias versiones de Java y aprendió a administrarlas. Ahora puede instalar software que se ejecute en Java, como Tomcat, Jetty, Glassfish, Cassandra o Jenkins.</p>
